import{$ as Be,$a as Ta,$b as qI,$c as as,A as Rt,Aa as Ze,Ab as w,Ac as bt,B as es,Ba as Rm,Bb as U,Bc as ik,C as Gi,Ca as wt,Cb as ce,Cc as Wl,D as Ll,Da as Mm,Db as le,Dc as nk,E as Sm,Ea as Tt,Eb as xe,Ec as rk,F as jb,Fa as AI,Fb as It,Fc as so,G as wI,Ga as Pm,Gb as HI,Gc as Hm,H as xI,Ha as DI,Hb as et,Hc as Wm,I as CI,Ia as Di,Ib as WI,Ic as $m,J as Si,Ja as vr,Jb as F,Jc as qm,K as zb,Ka as Ul,Kb as Ue,Kc as je,L as xa,La as Ia,Lb as Kt,Lc as Ma,M as is,Ma as ka,Mb as $I,Mc as $l,N as Hb,Na as RI,Nb as pi,Nc as Pa,O as Wb,Oa as MI,Ob as Ri,Oc as Yt,P as Bi,Pa as PI,Pb as Qt,Pc as sk,Q as EI,Qa as OI,Qb as Xt,Qc as Oa,R as Tm,Ra as NI,Rb as yr,Rc as Gm,S as Ca,Sa as FI,Sb as S,Sc as ok,T as ns,Ta as LI,Tb as me,Tc as Km,U as $b,Ua as io,Ub as _t,V as II,Va as Sa,Vb as Hl,W as qb,Wa as VI,Wb as Mi,Wc as Ym,X as Am,Xa as BI,Xb as Pi,Xc as os,Y as Ea,Ya as jl,Yb as Oi,Z as Ui,Za as T,Zb as Zt,Zc as kn,_ as si,_a as N,_b as J,_c as ql,a as Y,aa as Gt,ab as mi,ac as ai,b as Ft,ba as En,bb as UI,bc as no,ca as tt,cb as Om,cc as GI,d as qt,da as vt,db as Nm,dc as KI,e as iL,ea as kI,eb as on,ec as $n,f as nL,fa as ut,fb as Kb,fc as ss,g as Jr,ga as Gb,gb as mt,gc as YI,h as E,ha as G,hb as jI,hc as Zb,i as eo,ia as nt,ib as Yb,ic as Aa,j as Lb,ja as Ti,jb as an,jc as QI,k as hi,ka as SI,kb as Qb,kc as Bm,l as Vb,la as Vl,lb as gt,lc as Um,m as Nl,ma as Z,mb as ae,mc as Jb,n as Pt,na as yt,nb as zI,nc as jm,o as Ve,oa as ot,ob as Xb,oc as Da,p as bI,pa as Dm,pb as K,pc as zm,q as vI,qa as Ki,qb as ft,qc as XI,r as ts,ra as TI,rb as B,rc as Ni,s as km,sa as rs,sb as zl,sc as ro,t as Bb,ta as sn,tb as Ae,tc as ZI,u as Ub,ua as oi,ub as we,uc as ct,v as oe,va as $,vb as fi,vc as In,w as ht,wa as q,wb as Fm,wc as JI,x as Fl,xa as Ai,xb as Lm,xc as Ra,y as wa,ya as Lt,yb as Vm,yc as tk,z as yI,za as Bl,zb as y,zc as ek}from"./chunk-5EMRG7PN.js";var zR=qt((ktt,jR)=>{"use strict";jR.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Fs=qt(Yo=>{"use strict";var Vx,_z=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Yo.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Yo.getSymbolTotalCodewords=function(t){return _z[t]};Yo.getBCHDigit=function(n){let t=0;for(;n!==0;)t++,n>>>=1;return t};Yo.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Vx=t};Yo.isKanjiModeEnabled=function(){return typeof Vx<"u"};Yo.toSJIS=function(t){return Vx(t)}});var pg=qt(_n=>{"use strict";_n.L={bit:1};_n.M={bit:0};_n.Q={bit:3};_n.H={bit:2};function bz(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return _n.L;case"m":case"medium":return _n.M;case"q":case"quartile":return _n.Q;case"h":case"high":return _n.H;default:throw new Error("Unknown EC Level: "+n)}}_n.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4};_n.from=function(t,e){if(_n.isValid(t))return t;try{return bz(t)}catch{return e}}});var $R=qt((Att,WR)=>{"use strict";function HR(){this.buffer=[],this.length=0}HR.prototype={get:function(n){let t=Math.floor(n/8);return(this.buffer[t]>>>7-n%8&1)===1},put:function(n,t){for(let e=0;e<t;e++)this.putBit((n>>>t-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){let t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),n&&(this.buffer[t]|=128>>>this.length%8),this.length++}};WR.exports=HR});var GR=qt((Dtt,qR)=>{"use strict";function ah(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}ah.prototype.set=function(n,t,e,i){let r=n*this.size+t;this.data[r]=e,i&&(this.reservedBit[r]=!0)};ah.prototype.get=function(n,t){return this.data[n*this.size+t]};ah.prototype.xor=function(n,t,e){this.data[n*this.size+t]^=e};ah.prototype.isReserved=function(n,t){return this.reservedBit[n*this.size+t]};qR.exports=ah});var KR=qt(gg=>{"use strict";var vz=Fs().getSymbolSize;gg.getRowColCoords=function(t){if(t===1)return[];let e=Math.floor(t/7)+2,i=vz(t),r=i===145?26:Math.ceil((i-13)/(2*e-2))*2,s=[i-7];for(let o=1;o<e-1;o++)s[o]=s[o-1]-r;return s.push(6),s.reverse()};gg.getPositions=function(t){let e=[],i=gg.getRowColCoords(t),r=i.length;for(let s=0;s<r;s++)for(let o=0;o<r;o++)s===0&&o===0||s===0&&o===r-1||s===r-1&&o===0||e.push([i[s],i[o]]);return e}});var XR=qt(QR=>{"use strict";var yz=Fs().getSymbolSize,YR=7;QR.getPositions=function(t){let e=yz(t);return[[0,0],[e-YR,0],[0,e-YR]]}});var ZR=qt(ue=>{"use strict";ue.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var Qo={N1:3,N2:3,N3:40,N4:10};ue.isValid=function(t){return t!=null&&t!==""&&!isNaN(t)&&t>=0&&t<=7};ue.from=function(t){return ue.isValid(t)?parseInt(t,10):void 0};ue.getPenaltyN1=function(t){let e=t.size,i=0,r=0,s=0,o=null,a=null;for(let c=0;c<e;c++){r=s=0,o=a=null;for(let l=0;l<e;l++){let d=t.get(c,l);d===o?r++:(r>=5&&(i+=Qo.N1+(r-5)),o=d,r=1),d=t.get(l,c),d===a?s++:(s>=5&&(i+=Qo.N1+(s-5)),a=d,s=1)}r>=5&&(i+=Qo.N1+(r-5)),s>=5&&(i+=Qo.N1+(s-5))}return i};ue.getPenaltyN2=function(t){let e=t.size,i=0;for(let r=0;r<e-1;r++)for(let s=0;s<e-1;s++){let o=t.get(r,s)+t.get(r,s+1)+t.get(r+1,s)+t.get(r+1,s+1);(o===4||o===0)&&i++}return i*Qo.N2};ue.getPenaltyN3=function(t){let e=t.size,i=0,r=0,s=0;for(let o=0;o<e;o++){r=s=0;for(let a=0;a<e;a++)r=r<<1&2047|t.get(o,a),a>=10&&(r===1488||r===93)&&i++,s=s<<1&2047|t.get(a,o),a>=10&&(s===1488||s===93)&&i++}return i*Qo.N3};ue.getPenaltyN4=function(t){let e=0,i=t.data.length;for(let s=0;s<i;s++)e+=t.data[s];return Math.abs(Math.ceil(e*100/i/5)-10)*Qo.N4};function wz(n,t,e){switch(n){case ue.Patterns.PATTERN000:return(t+e)%2===0;case ue.Patterns.PATTERN001:return t%2===0;case ue.Patterns.PATTERN010:return e%3===0;case ue.Patterns.PATTERN011:return(t+e)%3===0;case ue.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(e/3))%2===0;case ue.Patterns.PATTERN101:return t*e%2+t*e%3===0;case ue.Patterns.PATTERN110:return(t*e%2+t*e%3)%2===0;case ue.Patterns.PATTERN111:return(t*e%3+(t+e)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}ue.applyMask=function(t,e){let i=e.size;for(let r=0;r<i;r++)for(let s=0;s<i;s++)e.isReserved(s,r)||e.xor(s,r,wz(t,s,r))};ue.getBestMask=function(t,e){let i=Object.keys(ue.Patterns).length,r=0,s=1/0;for(let o=0;o<i;o++){e(o),ue.applyMask(o,t);let a=ue.getPenaltyN1(t)+ue.getPenaltyN2(t)+ue.getPenaltyN3(t)+ue.getPenaltyN4(t);ue.applyMask(o,t),a<s&&(s=a,r=o)}return r}});var Ux=qt(Bx=>{"use strict";var Ls=pg(),_g=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],bg=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Bx.getBlocksCount=function(t,e){switch(e){case Ls.L:return _g[(t-1)*4+0];case Ls.M:return _g[(t-1)*4+1];case Ls.Q:return _g[(t-1)*4+2];case Ls.H:return _g[(t-1)*4+3];default:return}};Bx.getTotalCodewordsCount=function(t,e){switch(e){case Ls.L:return bg[(t-1)*4+0];case Ls.M:return bg[(t-1)*4+1];case Ls.Q:return bg[(t-1)*4+2];case Ls.H:return bg[(t-1)*4+3];default:return}}});var JR=qt(yg=>{"use strict";var ch=new Uint8Array(512),vg=new Uint8Array(256);(function(){let t=1;for(let e=0;e<255;e++)ch[e]=t,vg[t]=e,t<<=1,t&256&&(t^=285);for(let e=255;e<512;e++)ch[e]=ch[e-255]})();yg.log=function(t){if(t<1)throw new Error("log("+t+")");return vg[t]};yg.exp=function(t){return ch[t]};yg.mul=function(t,e){return t===0||e===0?0:ch[vg[t]+vg[e]]}});var tM=qt(lh=>{"use strict";var jx=JR();lh.mul=function(t,e){let i=new Uint8Array(t.length+e.length-1);for(let r=0;r<t.length;r++)for(let s=0;s<e.length;s++)i[r+s]^=jx.mul(t[r],e[s]);return i};lh.mod=function(t,e){let i=new Uint8Array(t);for(;i.length-e.length>=0;){let r=i[0];for(let o=0;o<e.length;o++)i[o]^=jx.mul(e[o],r);let s=0;for(;s<i.length&&i[s]===0;)s++;i=i.slice(s)}return i};lh.generateECPolynomial=function(t){let e=new Uint8Array([1]);for(let i=0;i<t;i++)e=lh.mul(e,new Uint8Array([1,jx.exp(i)]));return e}});var nM=qt((Ltt,iM)=>{"use strict";var eM=tM();function zx(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}zx.prototype.initialize=function(t){this.degree=t,this.genPoly=eM.generateECPolynomial(this.degree)};zx.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");let e=new Uint8Array(t.length+this.degree);e.set(t);let i=eM.mod(e,this.genPoly),r=this.degree-i.length;if(r>0){let s=new Uint8Array(this.degree);return s.set(i,r),s}return i};iM.exports=zx});var Hx=qt(rM=>{"use strict";rM.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}});var Wx=qt(Br=>{"use strict";var sM="[0-9]+",xz="[A-Z $%*+\\-./:]+",dh="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";dh=dh.replace(/u/g,"\\u");var Cz="(?:(?![A-Z0-9 $%*+\\-./:]|"+dh+`)(?:.|[\r
]))+`;Br.KANJI=new RegExp(dh,"g");Br.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Br.BYTE=new RegExp(Cz,"g");Br.NUMERIC=new RegExp(sM,"g");Br.ALPHANUMERIC=new RegExp(xz,"g");var Ez=new RegExp("^"+dh+"$"),Iz=new RegExp("^"+sM+"$"),kz=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Br.testKanji=function(t){return Ez.test(t)};Br.testNumeric=function(t){return Iz.test(t)};Br.testAlphanumeric=function(t){return kz.test(t)}});var Vs=qt(Ke=>{"use strict";var Sz=Hx(),$x=Wx();Ke.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};Ke.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};Ke.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};Ke.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};Ke.MIXED={bit:-1};Ke.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!Sz.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]};Ke.getBestModeForData=function(t){return $x.testNumeric(t)?Ke.NUMERIC:$x.testAlphanumeric(t)?Ke.ALPHANUMERIC:$x.testKanji(t)?Ke.KANJI:Ke.BYTE};Ke.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")};Ke.isValid=function(t){return t&&t.bit&&t.ccBits};function Tz(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return Ke.NUMERIC;case"alphanumeric":return Ke.ALPHANUMERIC;case"kanji":return Ke.KANJI;case"byte":return Ke.BYTE;default:throw new Error("Unknown mode: "+n)}}Ke.from=function(t,e){if(Ke.isValid(t))return t;try{return Tz(t)}catch{return e}}});var dM=qt(Xo=>{"use strict";var wg=Fs(),Az=Ux(),oM=pg(),Bs=Vs(),qx=Hx(),cM=7973,aM=wg.getBCHDigit(cM);function Dz(n,t,e){for(let i=1;i<=40;i++)if(t<=Xo.getCapacity(i,e,n))return i}function lM(n,t){return Bs.getCharCountIndicator(n,t)+4}function Rz(n,t){let e=0;return n.forEach(function(i){let r=lM(i.mode,t);e+=r+i.getBitsLength()}),e}function Mz(n,t){for(let e=1;e<=40;e++)if(Rz(n,e)<=Xo.getCapacity(e,t,Bs.MIXED))return e}Xo.from=function(t,e){return qx.isValid(t)?parseInt(t,10):e};Xo.getCapacity=function(t,e,i){if(!qx.isValid(t))throw new Error("Invalid QR Code version");typeof i>"u"&&(i=Bs.BYTE);let r=wg.getSymbolTotalCodewords(t),s=Az.getTotalCodewordsCount(t,e),o=(r-s)*8;if(i===Bs.MIXED)return o;let a=o-lM(i,t);switch(i){case Bs.NUMERIC:return Math.floor(a/10*3);case Bs.ALPHANUMERIC:return Math.floor(a/11*2);case Bs.KANJI:return Math.floor(a/13);case Bs.BYTE:default:return Math.floor(a/8)}};Xo.getBestVersionForData=function(t,e){let i,r=oM.from(e,oM.M);if(Array.isArray(t)){if(t.length>1)return Mz(t,r);if(t.length===0)return 1;i=t[0]}else i=t;return Dz(i.mode,i.getLength(),r)};Xo.getEncodedBits=function(t){if(!qx.isValid(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;for(;wg.getBCHDigit(e)-aM>=0;)e^=cM<<wg.getBCHDigit(e)-aM;return t<<12|e}});var fM=qt(mM=>{"use strict";var Gx=Fs(),hM=1335,Pz=21522,uM=Gx.getBCHDigit(hM);mM.getEncodedBits=function(t,e){let i=t.bit<<3|e,r=i<<10;for(;Gx.getBCHDigit(r)-uM>=0;)r^=hM<<Gx.getBCHDigit(r)-uM;return(i<<10|r)^Pz}});var gM=qt((Htt,pM)=>{"use strict";var Oz=Vs();function $c(n){this.mode=Oz.NUMERIC,this.data=n.toString()}$c.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};$c.prototype.getLength=function(){return this.data.length};$c.prototype.getBitsLength=function(){return $c.getBitsLength(this.data.length)};$c.prototype.write=function(t){let e,i,r;for(e=0;e+3<=this.data.length;e+=3)i=this.data.substr(e,3),r=parseInt(i,10),t.put(r,10);let s=this.data.length-e;s>0&&(i=this.data.substr(e),r=parseInt(i,10),t.put(r,s*3+1))};pM.exports=$c});var bM=qt((Wtt,_M)=>{"use strict";var Nz=Vs(),Kx=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function qc(n){this.mode=Nz.ALPHANUMERIC,this.data=n}qc.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};qc.prototype.getLength=function(){return this.data.length};qc.prototype.getBitsLength=function(){return qc.getBitsLength(this.data.length)};qc.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let i=Kx.indexOf(this.data[e])*45;i+=Kx.indexOf(this.data[e+1]),t.put(i,11)}this.data.length%2&&t.put(Kx.indexOf(this.data[e]),6)};_M.exports=qc});var yM=qt(($tt,vM)=>{"use strict";vM.exports=function(t){for(var e=[],i=t.length,r=0;r<i;r++){var s=t.charCodeAt(r);if(s>=55296&&s<=56319&&i>r+1){var o=t.charCodeAt(r+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,r+=1)}if(s<128){e.push(s);continue}if(s<2048){e.push(s>>6|192),e.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){e.push(s>>12|224),e.push(s>>6&63|128),e.push(s&63|128);continue}if(s>=65536&&s<=1114111){e.push(s>>18|240),e.push(s>>12&63|128),e.push(s>>6&63|128),e.push(s&63|128);continue}e.push(239,191,189)}return new Uint8Array(e).buffer}});var xM=qt((qtt,wM)=>{"use strict";var Fz=yM(),Lz=Vs();function Gc(n){this.mode=Lz.BYTE,typeof n=="string"&&(n=Fz(n)),this.data=new Uint8Array(n)}Gc.getBitsLength=function(t){return t*8};Gc.prototype.getLength=function(){return this.data.length};Gc.prototype.getBitsLength=function(){return Gc.getBitsLength(this.data.length)};Gc.prototype.write=function(n){for(let t=0,e=this.data.length;t<e;t++)n.put(this.data[t],8)};wM.exports=Gc});var EM=qt((Gtt,CM)=>{"use strict";var Vz=Vs(),Bz=Fs();function Kc(n){this.mode=Vz.KANJI,this.data=n}Kc.getBitsLength=function(t){return t*13};Kc.prototype.getLength=function(){return this.data.length};Kc.prototype.getBitsLength=function(){return Kc.getBitsLength(this.data.length)};Kc.prototype.write=function(n){let t;for(t=0;t<this.data.length;t++){let e=Bz.toSJIS(this.data[t]);if(e>=33088&&e<=40956)e-=33088;else if(e>=57408&&e<=60351)e-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);e=(e>>>8&255)*192+(e&255),n.put(e,13)}};CM.exports=Kc});var IM=qt((Ktt,Yx)=>{"use strict";var uh={single_source_shortest_paths:function(n,t,e){var i={},r={};r[t]=0;var s=uh.PriorityQueue.make();s.push(t,0);for(var o,a,c,l,d,h,m,p,_;!s.empty();){o=s.pop(),a=o.value,l=o.cost,d=n[a]||{};for(c in d)d.hasOwnProperty(c)&&(h=d[c],m=l+h,p=r[c],_=typeof r[c]>"u",(_||p>m)&&(r[c]=m,s.push(c,m),i[c]=a))}if(typeof e<"u"&&typeof r[e]>"u"){var b=["Could not find a path from ",t," to ",e,"."].join("");throw new Error(b)}return i},extract_shortest_path_from_predecessor_list:function(n,t){for(var e=[],i=t,r;i;)e.push(i),r=n[i],i=n[i];return e.reverse(),e},find_path:function(n,t,e){var i=uh.single_source_shortest_paths(n,t,e);return uh.extract_shortest_path_from_predecessor_list(i,e)},PriorityQueue:{make:function(n){var t=uh.PriorityQueue,e={},i;n=n||{};for(i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e.queue=[],e.sorter=n.sorter||t.default_sorter,e},default_sorter:function(n,t){return n.cost-t.cost},push:function(n,t){var e={value:n,cost:t};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof Yx<"u"&&(Yx.exports=uh)});var PM=qt(Yc=>{"use strict";var $t=Vs(),TM=gM(),AM=bM(),DM=xM(),RM=EM(),hh=Wx(),xg=Fs(),Uz=IM();function kM(n){return unescape(encodeURIComponent(n)).length}function mh(n,t,e){let i=[],r;for(;(r=n.exec(e))!==null;)i.push({data:r[0],index:r.index,mode:t,length:r[0].length});return i}function MM(n){let t=mh(hh.NUMERIC,$t.NUMERIC,n),e=mh(hh.ALPHANUMERIC,$t.ALPHANUMERIC,n),i,r;return xg.isKanjiModeEnabled()?(i=mh(hh.BYTE,$t.BYTE,n),r=mh(hh.KANJI,$t.KANJI,n)):(i=mh(hh.BYTE_KANJI,$t.BYTE,n),r=[]),t.concat(e,i,r).sort(function(o,a){return o.index-a.index}).map(function(o){return{data:o.data,mode:o.mode,length:o.length}})}function Qx(n,t){switch(t){case $t.NUMERIC:return TM.getBitsLength(n);case $t.ALPHANUMERIC:return AM.getBitsLength(n);case $t.KANJI:return RM.getBitsLength(n);case $t.BYTE:return DM.getBitsLength(n)}}function jz(n){return n.reduce(function(t,e){let i=t.length-1>=0?t[t.length-1]:null;return i&&i.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)},[])}function zz(n){let t=[];for(let e=0;e<n.length;e++){let i=n[e];switch(i.mode){case $t.NUMERIC:t.push([i,{data:i.data,mode:$t.ALPHANUMERIC,length:i.length},{data:i.data,mode:$t.BYTE,length:i.length}]);break;case $t.ALPHANUMERIC:t.push([i,{data:i.data,mode:$t.BYTE,length:i.length}]);break;case $t.KANJI:t.push([i,{data:i.data,mode:$t.BYTE,length:kM(i.data)}]);break;case $t.BYTE:t.push([{data:i.data,mode:$t.BYTE,length:kM(i.data)}])}}return t}function Hz(n,t){let e={},i={start:{}},r=["start"];for(let s=0;s<n.length;s++){let o=n[s],a=[];for(let c=0;c<o.length;c++){let l=o[c],d=""+s+c;a.push(d),e[d]={node:l,lastCount:0},i[d]={};for(let h=0;h<r.length;h++){let m=r[h];e[m]&&e[m].node.mode===l.mode?(i[m][d]=Qx(e[m].lastCount+l.length,l.mode)-Qx(e[m].lastCount,l.mode),e[m].lastCount+=l.length):(e[m]&&(e[m].lastCount=l.length),i[m][d]=Qx(l.length,l.mode)+4+$t.getCharCountIndicator(l.mode,t))}}r=a}for(let s=0;s<r.length;s++)i[r[s]].end=0;return{map:i,table:e}}function SM(n,t){let e,i=$t.getBestModeForData(n);if(e=$t.from(t,i),e!==$t.BYTE&&e.bit<i.bit)throw new Error('"'+n+'" cannot be encoded with mode '+$t.toString(e)+`.
 Suggested mode is: `+$t.toString(i));switch(e===$t.KANJI&&!xg.isKanjiModeEnabled()&&(e=$t.BYTE),e){case $t.NUMERIC:return new TM(n);case $t.ALPHANUMERIC:return new AM(n);case $t.KANJI:return new RM(n);case $t.BYTE:return new DM(n)}}Yc.fromArray=function(t){return t.reduce(function(e,i){return typeof i=="string"?e.push(SM(i,null)):i.data&&e.push(SM(i.data,i.mode)),e},[])};Yc.fromString=function(t,e){let i=MM(t,xg.isKanjiModeEnabled()),r=zz(i),s=Hz(r,e),o=Uz.find_path(s.map,"start","end"),a=[];for(let c=1;c<o.length-1;c++)a.push(s.table[o[c]].node);return Yc.fromArray(jz(a))};Yc.rawSplit=function(t){return Yc.fromArray(MM(t,xg.isKanjiModeEnabled()))}});var NM=qt(OM=>{"use strict";var Eg=Fs(),Xx=pg(),Wz=$R(),$z=GR(),qz=KR(),Gz=XR(),tC=ZR(),eC=Ux(),Kz=nM(),Cg=dM(),Yz=fM(),Qz=Vs(),Zx=PM();function Xz(n,t){let e=n.size,i=Gz.getPositions(t);for(let r=0;r<i.length;r++){let s=i[r][0],o=i[r][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||e<=s+a))for(let c=-1;c<=7;c++)o+c<=-1||e<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?n.set(s+a,o+c,!0,!0):n.set(s+a,o+c,!1,!0))}}function Zz(n){let t=n.size;for(let e=8;e<t-8;e++){let i=e%2===0;n.set(e,6,i,!0),n.set(6,e,i,!0)}}function Jz(n,t){let e=qz.getPositions(t);for(let i=0;i<e.length;i++){let r=e[i][0],s=e[i][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?n.set(r+o,s+a,!0,!0):n.set(r+o,s+a,!1,!0)}}function t8(n,t){let e=n.size,i=Cg.getEncodedBits(t),r,s,o;for(let a=0;a<18;a++)r=Math.floor(a/3),s=a%3+e-8-3,o=(i>>a&1)===1,n.set(r,s,o,!0),n.set(s,r,o,!0)}function Jx(n,t,e){let i=n.size,r=Yz.getEncodedBits(t,e),s,o;for(s=0;s<15;s++)o=(r>>s&1)===1,s<6?n.set(s,8,o,!0):s<8?n.set(s+1,8,o,!0):n.set(i-15+s,8,o,!0),s<8?n.set(8,i-s-1,o,!0):s<9?n.set(8,15-s-1+1,o,!0):n.set(8,15-s-1,o,!0);n.set(i-8,8,1,!0)}function e8(n,t){let e=n.size,i=-1,r=e-1,s=7,o=0;for(let a=e-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!n.isReserved(r,a-c)){let l=!1;o<t.length&&(l=(t[o]>>>s&1)===1),n.set(r,a-c,l),s--,s===-1&&(o++,s=7)}if(r+=i,r<0||e<=r){r-=i,i=-i;break}}}function i8(n,t,e){let i=new Wz;e.forEach(function(c){i.put(c.mode.bit,4),i.put(c.getLength(),Qz.getCharCountIndicator(c.mode,n)),c.write(i)});let r=Eg.getSymbolTotalCodewords(n),s=eC.getTotalCodewordsCount(n,t),o=(r-s)*8;for(i.getLengthInBits()+4<=o&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);let a=(o-i.getLengthInBits())/8;for(let c=0;c<a;c++)i.put(c%2?17:236,8);return n8(i,n,t)}function n8(n,t,e){let i=Eg.getSymbolTotalCodewords(t),r=eC.getTotalCodewordsCount(t,e),s=i-r,o=eC.getBlocksCount(t,e),a=i%o,c=o-a,l=Math.floor(i/o),d=Math.floor(s/o),h=d+1,m=l-d,p=new Kz(m),_=0,b=new Array(o),v=new Array(o),R=0,P=new Uint8Array(n.buffer);for(let k=0;k<o;k++){let x=k<c?d:h;b[k]=P.slice(_,_+x),v[k]=p.encode(b[k]),_+=x,R=Math.max(R,x)}let V=new Uint8Array(i),j=0,z,H;for(z=0;z<R;z++)for(H=0;H<o;H++)z<b[H].length&&(V[j++]=b[H][z]);for(z=0;z<m;z++)for(H=0;H<o;H++)V[j++]=v[H][z];return V}function r8(n,t,e,i){let r;if(Array.isArray(n))r=Zx.fromArray(n);else if(typeof n=="string"){let l=t;if(!l){let d=Zx.rawSplit(n);l=Cg.getBestVersionForData(d,e)}r=Zx.fromString(n,l||40)}else throw new Error("Invalid data");let s=Cg.getBestVersionForData(r,e);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=s;else if(t<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);let o=i8(t,e,r),a=Eg.getSymbolSize(t),c=new $z(a);return Xz(c,t),Zz(c),Jz(c,t),Jx(c,e,0),t>=7&&t8(c,t),e8(c,o),isNaN(i)&&(i=tC.getBestMask(c,Jx.bind(null,c,e))),tC.applyMask(i,c),Jx(c,e,i),{modules:c,version:t,errorCorrectionLevel:e,maskPattern:i,segments:r}}OM.create=function(t,e){if(typeof t>"u"||t==="")throw new Error("No input text");let i=Xx.M,r,s;return typeof e<"u"&&(i=Xx.from(e.errorCorrectionLevel,Xx.M),r=Cg.from(e.version),s=tC.from(e.maskPattern),e.toSJISFunc&&Eg.setToSJISFunction(e.toSJISFunc)),r8(t,r,i,s)}});var iC=qt(Zo=>{"use strict";function FM(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let t=n.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8)throw new Error("Invalid hex color: "+n);(t.length===3||t.length===4)&&(t=Array.prototype.concat.apply([],t.map(function(i){return[i,i]}))),t.length===6&&t.push("F","F");let e=parseInt(t.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+t.slice(0,6).join("")}}Zo.getOptions=function(t){t||(t={}),t.color||(t.color={});let e=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,i=t.width&&t.width>=21?t.width:void 0,r=t.scale||4;return{width:i,scale:i?4:r,margin:e,color:{dark:FM(t.color.dark||"#000000ff"),light:FM(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}};Zo.getScale=function(t,e){return e.width&&e.width>=t+e.margin*2?e.width/(t+e.margin*2):e.scale};Zo.getImageWidth=function(t,e){let i=Zo.getScale(t,e);return Math.floor((t+e.margin*2)*i)};Zo.qrToImageData=function(t,e,i){let r=e.modules.size,s=e.modules.data,o=Zo.getScale(r,i),a=Math.floor((r+i.margin*2)*o),c=i.margin*o,l=[i.color.light,i.color.dark];for(let d=0;d<a;d++)for(let h=0;h<a;h++){let m=(d*a+h)*4,p=i.color.light;if(d>=c&&h>=c&&d<a-c&&h<a-c){let _=Math.floor((d-c)/o),b=Math.floor((h-c)/o);p=l[s[_*r+b]?1:0]}t[m++]=p.r,t[m++]=p.g,t[m++]=p.b,t[m]=p.a}}});var LM=qt(Ig=>{"use strict";var nC=iC();function s8(n,t,e){n.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=e,t.width=e,t.style.height=e+"px",t.style.width=e+"px"}function o8(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Ig.render=function(t,e,i){let r=i,s=e;typeof r>"u"&&(!e||!e.getContext)&&(r=e,e=void 0),e||(s=o8()),r=nC.getOptions(r);let o=nC.getImageWidth(t.modules.size,r),a=s.getContext("2d"),c=a.createImageData(o,o);return nC.qrToImageData(c.data,t,r),s8(a,s,o),a.putImageData(c,0,0),s};Ig.renderToDataURL=function(t,e,i){let r=i;typeof r>"u"&&(!e||!e.getContext)&&(r=e,e=void 0),r||(r={});let s=Ig.render(t,e,r),o=r.type||"image/png",a=r.rendererOpts||{};return s.toDataURL(o,a.quality)}});var UM=qt(BM=>{"use strict";var a8=iC();function VM(n,t){let e=n.a/255,i=t+'="'+n.hex+'"';return e<1?i+" "+t+'-opacity="'+e.toFixed(2).slice(1)+'"':i}function rC(n,t,e){let i=n+t;return typeof e<"u"&&(i+=" "+e),i}function c8(n,t,e){let i="",r=0,s=!1,o=0;for(let a=0;a<n.length;a++){let c=Math.floor(a%t),l=Math.floor(a/t);!c&&!s&&(s=!0),n[a]?(o++,a>0&&c>0&&n[a-1]||(i+=s?rC("M",c+e,.5+l+e):rC("m",r,0),r=0,s=!1),c+1<t&&n[a+1]||(i+=rC("h",o),o=0)):r++}return i}BM.render=function(t,e,i){let r=a8.getOptions(e),s=t.modules.size,o=t.modules.data,a=s+r.margin*2,c=r.color.light.a?"<path "+VM(r.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+VM(r.color.dark,"stroke")+' d="'+c8(o,s,r.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof i=="function"&&i(null,m),m}});var zM=qt(fh=>{"use strict";var l8=zR(),sC=NM(),jM=LM(),d8=UM();function oC(n,t,e,i,r){let s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!l8())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(r=e,e=t,t=i=void 0):o===3&&(t.getContext&&typeof r>"u"?(r=i,i=void 0):(r=i,i=e,e=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(e=t,t=i=void 0):o===2&&!t.getContext&&(i=e,e=t,t=void 0),new Promise(function(c,l){try{let d=sC.create(e,i);c(n(d,t,i))}catch(d){l(d)}})}try{let c=sC.create(e,i);r(null,n(c,t,i))}catch(c){r(c)}}fh.create=sC.create;fh.toCanvas=oC.bind(null,jM.render);fh.toDataURL=oC.bind(null,jM.renderToDataURL);fh.toString=oC.bind(null,function(n,t,e){return d8.render(n,e)})});var Kl=class{},Xm=class{},wr=class n{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let s=t.value;if(!s)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var e0=class{encodeKey(t){return ak(t)}encodeValue(t){return ak(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function sL(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],c=e.get(o)||[];c.push(a),e.set(o,c)}),e}var oL=/%(\d[a-f0-9])/gi,aL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ak(n){return encodeURIComponent(n).replace(oL,(t,e)=>aL[e]??t)}function Qm(n){return`${n}`}var ls=class n{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new e0,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=sL(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],r=Array.isArray(i)?i.map(Qm):[Qm(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Qm(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(Qm(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var i0=class{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function cL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ck(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function lk(n){return typeof Blob<"u"&&n instanceof Blob}function dk(n){return typeof FormData<"u"&&n instanceof FormData}function lL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Gl=class n{constructor(t,e,i,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let s;if(cL(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new wr,this.context??=new i0,!this.params)this.params=new ls,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),c=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||ck(this.body)||lk(this.body)||dk(this.body)||lL(this.body)?this.body:this.body instanceof ls?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||dk(this.body)?null:lk(this.body)?this.body.type||null:ck(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ls?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress,l=t.headers||this.headers,d=t.params||this.params,h=t.context??this.context;return t.setHeaders!==void 0&&(l=Object.keys(t.setHeaders).reduce((m,p)=>m.set(p,t.setHeaders[p]),l)),t.setParams&&(d=Object.keys(t.setParams).reduce((m,p)=>m.set(p,t.setParams[p]),d)),new n(e,i,o,{params:d,headers:l,context:h,reportProgress:c,responseType:r,withCredentials:a,transferCache:s})}},ds=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ds||{}),Yl=class{constructor(t,e=200,i="OK"){this.headers=t.headers||new wr,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Zm=class n extends Yl{constructor(t={}){super(t),this.type=ds.ResponseHeader}clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Ql=class n extends Yl{constructor(t={}){super(t),this.type=ds.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},cs=class extends Yl{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},fk=200,dL=204;function t0(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Xl=(()=>{let t=class t{constructor(i){this.handler=i}request(i,r,s={}){let o;if(i instanceof Gl)o=i;else{let l;s.headers instanceof wr?l=s.headers:l=new wr(s.headers);let d;s.params&&(s.params instanceof ls?d=s.params:d=new ls({fromObject:s.params})),o=new Gl(i,r,s.body!==void 0?s.body:null,{headers:l,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=ht(o).pipe(is(l=>this.handler.handle(l)));if(i instanceof Gl||s.observe==="events")return a;let c=a.pipe(Si(l=>l instanceof Ql));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(Rt(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(Rt(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(Rt(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(Rt(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new ls().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,t0(s,r))}post(i,r,s={}){return this.request("POST",i,t0(s,r))}put(i,r,s={}){return this.request("PUT",i,t0(s,r))}};t.\u0275fac=function(r){return new(r||t)(G(Kl))},t.\u0275prov=tt({token:t,factory:t.\u0275fac});let n=t;return n})(),uL=/^\)\]\}',?\n/,hL="X-Request-URL";function uk(n){if(n.url)return n.url;let t=hL.toLocaleLowerCase();return n.headers.get(t)}var mL=(()=>{let t=class t{constructor(){this.fetchImpl=nt(n0,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=nt(mt)}handle(i){return new hi(r=>{let s=new AbortController;return this.doRequest(i,s.signal,r).then(r0,o=>r.error(new cs({error:o}))),()=>s.abort()})}doRequest(i,r,s){return E(this,null,function*(){let o=this.createRequestInit(i),a;try{let _=this.fetchImpl(i.urlWithParams,Y({signal:r},o));fL(_),s.next({type:ds.Sent}),a=yield _}catch(_){s.error(new cs({error:_,status:_.status??0,statusText:_.statusText,url:i.urlWithParams,headers:_.headers}));return}let c=new wr(a.headers),l=a.statusText,d=uk(a)??i.urlWithParams,h=a.status,m=null;if(i.reportProgress&&s.next(new Zm({headers:c,status:h,statusText:l,url:d})),a.body){let _=a.headers.get("content-length"),b=[],v=a.body.getReader(),R=0,P,V,j=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>E(this,null,function*(){for(;;){let{done:H,value:k}=yield v.read();if(H)break;if(b.push(k),R+=k.length,i.reportProgress){V=i.responseType==="text"?(V??"")+(P??=new TextDecoder).decode(k,{stream:!0}):void 0;let x=()=>s.next({type:ds.DownloadProgress,total:_?+_:void 0,loaded:R,partialText:V});j?j.run(x):x()}}}));let z=this.concatChunks(b,R);try{let H=a.headers.get("Content-Type")??"";m=this.parseBody(i,z,H)}catch(H){s.error(new cs({error:H,headers:new wr(a.headers),status:a.status,statusText:a.statusText,url:uk(a)??i.urlWithParams}));return}}h===0&&(h=m?fk:0),h>=200&&h<300?(s.next(new Ql({body:m,headers:c,status:h,statusText:l,url:d})),s.complete()):s.error(new cs({error:m,headers:c,status:h,statusText:l,url:d}))})}parseBody(i,r,s){switch(i.responseType){case"json":let o=new TextDecoder().decode(r).replace(uL,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(i){let r={},s=i.withCredentials?"include":void 0;if(i.headers.forEach((o,a)=>r[o]=a.join(",")),r.Accept??="application/json, text/plain, */*",!r["Content-Type"]){let o=i.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:i.serializeBody(),method:i.method,headers:r,credentials:s}}concatChunks(i,r){let s=new Uint8Array(r),o=0;for(let a of i)s.set(a,o),o+=a.length;return s}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac});let n=t;return n})(),n0=class{};function r0(){}function fL(n){n.then(r0,r0)}function pL(n,t){return t(n)}function gL(n,t,e){return(i,r)=>sn(e,()=>t(i,s=>n(s,r)))}var pk=new ut(""),_L=new ut(""),bL=new ut("",{providedIn:"root",factory:()=>!0});var hk=(()=>{let t=class t extends Kl{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=nt(Mm),this.contributeToStability=nt(bL)}handle(i){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(pk),...this.injector.get(_L,[])]));this.chain=r.reduceRight((s,o)=>gL(s,o,this.injector),pL)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(i,s=>this.backend.handle(s)).pipe(Ca(()=>this.pendingTasks.remove(r)))}else return this.chain(i,r=>this.backend.handle(r))}};t.\u0275fac=function(r){return new(r||t)(G(Xm),G(rs))},t.\u0275prov=tt({token:t,factory:t.\u0275fac});let n=t;return n})();var vL=/^\)\]\}',?\n/;function yL(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var mk=(()=>{let t=class t{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new Gt(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?oe(r.\u0275loadImpl()):ht(null)).pipe(Ui(()=>new hi(o=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((v,R)=>a.setRequestHeader(v,R.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let v=i.detectContentTypeHeader();v!==null&&a.setRequestHeader("Content-Type",v)}if(i.responseType){let v=i.responseType.toLowerCase();a.responseType=v!=="json"?v:"text"}let c=i.serializeBody(),l=null,d=()=>{if(l!==null)return l;let v=a.statusText||"OK",R=new wr(a.getAllResponseHeaders()),P=yL(a)||i.url;return l=new Zm({headers:R,status:a.status,statusText:v,url:P}),l},h=()=>{let{headers:v,status:R,statusText:P,url:V}=d(),j=null;R!==dL&&(j=typeof a.response>"u"?a.responseText:a.response),R===0&&(R=j?fk:0);let z=R>=200&&R<300;if(i.responseType==="json"&&typeof j=="string"){let H=j;j=j.replace(vL,"");try{j=j!==""?JSON.parse(j):null}catch(k){j=H,z&&(z=!1,j={error:k,text:j})}}z?(o.next(new Ql({body:j,headers:v,status:R,statusText:P,url:V||void 0})),o.complete()):o.error(new cs({error:j,headers:v,status:R,statusText:P,url:V||void 0}))},m=v=>{let{url:R}=d(),P=new cs({error:v,status:a.status||0,statusText:a.statusText||"Unknown Error",url:R||void 0});o.error(P)},p=!1,_=v=>{p||(o.next(d()),p=!0);let R={type:ds.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(R.total=v.total),i.responseType==="text"&&a.responseText&&(R.partialText=a.responseText),o.next(R)},b=v=>{let R={type:ds.UploadProgress,loaded:v.loaded};v.lengthComputable&&(R.total=v.total),o.next(R)};return a.addEventListener("load",h),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),i.reportProgress&&(a.addEventListener("progress",_),c!==null&&a.upload&&a.upload.addEventListener("progress",b)),a.send(c),o.next({type:ds.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",h),a.removeEventListener("timeout",m),i.reportProgress&&(a.removeEventListener("progress",_),c!==null&&a.upload&&a.upload.removeEventListener("progress",b)),a.readyState!==a.DONE&&a.abort()}})))}};t.\u0275fac=function(r){return new(r||t)(G(Km))},t.\u0275prov=tt({token:t,factory:t.\u0275fac});let n=t;return n})(),gk=new ut(""),wL="XSRF-TOKEN",xL=new ut("",{providedIn:"root",factory:()=>wL}),CL="X-XSRF-TOKEN",EL=new ut("",{providedIn:"root",factory:()=>CL}),Jm=class{},IL=(()=>{let t=class t{constructor(i,r,s){this.doc=i,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=Wm(i,this.cookieName),this.lastCookieString=i),this.lastToken}};t.\u0275fac=function(r){return new(r||t)(G(bt),G(Di),G(xL))},t.\u0275prov=tt({token:t,factory:t.\u0275fac});let n=t;return n})();function kL(n,t){let e=n.url.toLowerCase();if(!nt(gk)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let i=nt(Jm).getToken(),r=nt(EL);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}function _k(...n){let t=[Xl,mk,hk,{provide:Kl,useExisting:hk},{provide:Xm,useFactory:()=>nt(mL,{optional:!0})??nt(mk)},{provide:pk,useValue:kL,multi:!0},{provide:gk,useValue:!0},{provide:Jm,useClass:IL}];for(let e of n)t.push(...e.\u0275providers);return Ki(t)}var a0=class extends ek{constructor(){super(...arguments),this.supportsDOMEvents=!0}},c0=class n extends a0{static makeCurrent(){tk(new n)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=TL();return e==null?null:AL(e)}resetBaseElement(){Zl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Wm(document.cookie,t)}},Zl=null;function TL(){return Zl=Zl||document.querySelector("base"),Zl?Zl.getAttribute("href"):null}function AL(n){return new URL(n,document.baseURI).pathname}var DL=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac});let n=t;return n})(),l0=new ut(""),wk=(()=>{let t=class t{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new Gt(5101,!1);return this._eventNameToPlugin.set(i,r),r}};t.\u0275fac=function(r){return new(r||t)(G(l0),G(mt))},t.\u0275prov=tt({token:t,factory:t.\u0275fac});let n=t;return n})(),tf=class{constructor(t){this._doc=t}},s0="ng-app-id",xk=(()=>{let t=class t{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Gm(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${s0}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(s0),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(s0,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};t.\u0275fac=function(r){return new(r||t)(G(bt),G(Pm),G(Ul,8),G(Di))},t.\u0275prov=tt({token:t,factory:t.\u0275fac});let n=t;return n})(),o0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},u0=/%COMP%/g,Ck="%COMP%",RL=`_nghost-${Ck}`,ML=`_ngcontent-${Ck}`,PL=!0,OL=new ut("",{providedIn:"root",factory:()=>PL});function NL(n){return ML.replace(u0,n)}function FL(n){return RL.replace(u0,n)}function Ek(n,t){return t.map(e=>e.replace(u0,n))}var ef=(()=>{let t=class t{constructor(i,r,s,o,a,c,l,d=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Gm(c),this.defaultRenderer=new Jl(i,a,l,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Vl.ShadowDom&&(r=Ft(Y({},r),{encapsulation:Vl.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof nf?s.applyToHost(i):s instanceof td&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Vl.Emulated:o=new nf(l,d,r,this.appId,h,a,c,m);break;case Vl.ShadowDom:return new d0(l,d,i,r,a,c,this.nonce,m);default:o=new td(l,d,r,h,a,c,m);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(r){return new(r||t)(G(wk),G(xk),G(Pm),G(OL),G(bt),G(Di),G(mt),G(Ul))},t.\u0275prov=tt({token:t,factory:t.\u0275fac});let n=t;return n})(),Jl=class{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(o0[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(vk(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(vk(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new Gt(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let s=o0[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=o0[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(jl.DashCase|jl.Important)?t.style.setProperty(e,i,r&jl.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&jl.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if(typeof t=="string"&&(t=Ra().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function vk(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var d0=class extends Jl{constructor(t,e,i,r,s,o,a,c){super(t,s,o,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Ek(r.id,r.styles);for(let d of l){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},td=class extends Jl{constructor(t,e,i,r,s,o,a,c){super(t,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=c?Ek(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},nf=class extends td{constructor(t,e,i,r,s,o,a,c){let l=r+"-"+i.id;super(t,e,i,s,o,a,c,l),this.contentAttr=NL(l),this.hostAttr=FL(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}},LL=(()=>{let t=class t extends tf{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};t.\u0275fac=function(r){return new(r||t)(G(bt))},t.\u0275prov=tt({token:t,factory:t.\u0275fac});let n=t;return n})(),yk=["alt","control","meta","shift"],VL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},BL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},UL=(()=>{let t=class t extends tf{constructor(i){super(i)}supports(i){return t.parseEventName(i)!=null}addEventListener(i,r,s){let o=t.parseEventName(r),a=t.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ra().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=t._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),yk.forEach(d=>{let h=r.indexOf(d);h>-1&&(r.splice(h,1),a+=d+".")}),a+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(i,r){let s=VL[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),yk.forEach(a=>{if(a!==s){let c=BL[a];c(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{t.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};t.\u0275fac=function(r){return new(r||t)(G(bt))},t.\u0275prov=tt({token:t,factory:t.\u0275fac});let n=t;return n})();function Ik(n,t){return ZI(Y({rootComponent:n},jL(t)))}function jL(n){return{appProviders:[...qL,...n?.providers??[]],platformProviders:$L}}function zL(){c0.makeCurrent()}function HL(){return new Rm}function WL(){return AI(document),document}var $L=[{provide:Di,useValue:sk},{provide:DI,useValue:zL,multi:!0},{provide:bt,useFactory:WL,deps:[]}];var qL=[{provide:TI,useValue:"root"},{provide:Rm,useFactory:HL,deps:[]},{provide:l0,useClass:LL,multi:!0,deps:[bt,mt,Di]},{provide:l0,useClass:UL,multi:!0,deps:[bt]},ef,xk,wk,{provide:Nm,useExisting:ef},{provide:Km,useClass:DL,deps:[]},[]];var kk=(()=>{let t=class t{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};t.\u0275fac=function(r){return new(r||t)(G(bt))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var h0=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:function(r){let s=null;return r?s=new(r||t):s=G(GL),s},providedIn:"root"});let n=t;return n})(),GL=(()=>{let t=class t extends h0{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case io.NONE:return r;case io.HTML:return ka(r,"HTML")?Ia(r):LI(this._doc,String(r)).toString();case io.STYLE:return ka(r,"Style")?Ia(r):r;case io.SCRIPT:if(ka(r,"Script"))return Ia(r);throw new Gt(5200,!1);case io.URL:return ka(r,"URL")?Ia(r):FI(String(r));case io.RESOURCE_URL:if(ka(r,"ResourceURL"))return Ia(r);throw new Gt(5201,!1);default:throw new Gt(5202,!1)}}bypassSecurityTrustHtml(i){return RI(i)}bypassSecurityTrustStyle(i){return MI(i)}bypassSecurityTrustScript(i){return PI(i)}bypassSecurityTrustUrl(i){return OI(i)}bypassSecurityTrustResourceUrl(i){return NI(i)}};t.\u0275fac=function(r){return new(r||t)(G(bt))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var At="primary",gd=Symbol("RouteTitle"),_0=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Ua(n){return new _0(n)}function KL(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function YL(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!qn(n[e],t[e]))return!1;return!0}function qn(n,t){let e=n?b0(n):void 0,i=t?b0(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Vk(n[r],t[r]))return!1;return!0}function b0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Vk(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}else return n===t}function Bk(n){return n.length>0?n[n.length-1]:null}function fs(n){return wa(n)?n:Um(n)?oe(Promise.resolve(n)):ht(n)}var QL={exact:jk,subset:zk},Uk={exact:XL,subset:ZL,ignored:()=>!0};function Tk(n,t,e){return QL[e.paths](n.root,t.root,e.matrixParams)&&Uk[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function XL(n,t){return qn(n,t)}function jk(n,t,e){if(!ao(n.segments,t.segments)||!of(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!jk(n.children[i],t.children[i],e))return!1;return!0}function ZL(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Vk(n[e],t[e]))}function zk(n,t,e){return Hk(n,t,t.segments,e)}function Hk(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!ao(r,e)||t.hasChildren()||!of(r,e,i))}else if(n.segments.length===e.length){if(!ao(n.segments,e)||!of(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!zk(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!ao(n.segments,r)||!of(n.segments,r,i)||!n.children[At]?!1:Hk(n.children[At],t,s,i)}}function of(n,t,e){return t.every((i,r)=>Uk[e](n[r].parameters,i.parameters))}var us=class{constructor(t=new Wt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ua(this.queryParams),this._queryParamMap}toString(){return eV.serialize(this)}},Wt=class{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return af(this)}},oo=class{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Ua(this.parameters),this._parameterMap}toString(){return $k(this)}};function JL(n,t){return ao(n,t)&&n.every((e,i)=>qn(e.parameters,t[i].parameters))}function ao(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function tV(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===At&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==At&&(e=e.concat(t(r,i)))}),e}var _d=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:()=>new ja,providedIn:"root"});let n=t;return n})(),ja=class{parse(t){let e=new y0(t);return new us(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${ed(t.root,!0)}`,i=rV(t.queryParams),r=typeof t.fragment=="string"?`#${iV(t.fragment)}`:"";return`${e}${i}${r}`}},eV=new ja;function af(n){return n.segments.map(t=>$k(t)).join("/")}function ed(n,t){if(!n.hasChildren())return af(n);if(t){let e=n.children[At]?ed(n.children[At],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==At&&i.push(`${r}:${ed(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=tV(n,(i,r)=>r===At?[ed(n.children[At],!1)]:[`${r}:${ed(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[At]!=null?`${af(n)}/${e[0]}`:`${af(n)}/(${e.join("//")})`}}function Wk(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rf(n){return Wk(n).replace(/%3B/gi,";")}function iV(n){return encodeURI(n)}function v0(n){return Wk(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cf(n){return decodeURIComponent(n)}function Ak(n){return cf(n.replace(/\+/g,"%20"))}function $k(n){return`${v0(n.path)}${nV(n.parameters)}`}function nV(n){return Object.entries(n).map(([t,e])=>`;${v0(t)}=${v0(e)}`).join("")}function rV(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${rf(e)}=${rf(r)}`).join("&"):`${rf(e)}=${rf(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var sV=/^[^\/()?;#]+/;function m0(n){let t=n.match(sV);return t?t[0]:""}var oV=/^[^\/()?;=#]+/;function aV(n){let t=n.match(oV);return t?t[0]:""}var cV=/^[^=?&#]+/;function lV(n){let t=n.match(cV);return t?t[0]:""}var dV=/^[^&#]+/;function uV(n){let t=n.match(dV);return t?t[0]:""}var y0=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wt([],{}):new Wt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[At]=new Wt(t,e)),i}parseSegment(){let t=m0(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Gt(4009,!1);return this.capture(t),new oo(cf(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=aV(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=m0(this.remaining);r&&(i=r,this.capture(i))}t[cf(e)]=cf(i)}parseQueryParam(t){let e=lV(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let o=uV(this.remaining);o&&(i=o,this.capture(i))}let r=Ak(e),s=Ak(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=m0(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Gt(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=At);let o=this.parseChildren();e[s]=Object.keys(o).length===1?o[At]:new Wt([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Gt(4011,!1)}};function qk(n){return n.segments.length>0?new Wt([],{[At]:n}):n}function Gk(n){let t={};for(let[i,r]of Object.entries(n.children)){let s=Gk(r);if(i===At&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}let e=new Wt(n.segments,t);return hV(e)}function hV(n){if(n.numberOfChildren===1&&n.children[At]){let t=n.children[At];return new Wt(n.segments.concat(t.segments),t.children)}return n}function ad(n){return n instanceof us}function mV(n,t,e=null,i=null){let r=Kk(n);return Yk(r,t,e,i)}function Kk(n){let t;function e(s){let o={};for(let c of s.children){let l=e(c);o[c.outlet]=l}let a=new Wt(s.url,o);return s===n&&(t=a),a}let i=e(n.root),r=qk(i);return t??r}function Yk(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return f0(r,r,r,e,i);let s=fV(t);if(s.toRoot())return f0(r,r,new Wt([],{}),e,i);let o=pV(s,r,n),a=o.processChildren?rd(o.segmentGroup,o.index,s.commands):Xk(o.segmentGroup,o.index,s.commands);return f0(r,o.segmentGroup,a,e,i)}function lf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function cd(n){return typeof n=="object"&&n!=null&&n.outlets}function f0(n,t,e,i,r){let s={};i&&Object.entries(i).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let o;n===t?o=e:o=Qk(n,t,e);let a=qk(Gk(o));return new us(a,s,r)}function Qk(n,t,e){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===t?i[r]=e:i[r]=Qk(s,t,e)}),new Wt(n.segments,i)}var df=class{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&lf(i[0]))throw new Gt(4003,!1);let r=i.find(cd);if(r&&r!==Bk(i))throw new Gt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function fV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new df(!0,0,n);let t=0,e=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new df(e,t,i)}var La=class{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function pV(n,t,e){if(n.isAbsolute)return new La(t,!0,0);if(!e)return new La(t,!1,NaN);if(e.parent===null)return new La(e,!0,0);let i=lf(n.commands[0])?0:1,r=e.segments.length-1+i;return gV(e,r,n.numberOfDoubleDots)}function gV(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Gt(4005,!1);r=i.segments.length}return new La(i,!1,r-s)}function _V(n){return cd(n[0])?n[0].outlets:{[At]:n}}function Xk(n,t,e){if(n??=new Wt([],{}),n.segments.length===0&&n.hasChildren())return rd(n,t,e);let i=bV(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new Wt(n.segments.slice(0,i.pathIndex),{});return s.children[At]=new Wt(n.segments.slice(i.pathIndex),n.children),rd(s,0,r)}else return i.match&&r.length===0?new Wt(n.segments,{}):i.match&&!n.hasChildren()?w0(n,t,e):i.match?rd(n,0,r):w0(n,t,e)}function rd(n,t,e){if(e.length===0)return new Wt(n.segments,{});{let i=_V(e),r={};if(Object.keys(i).some(s=>s!==At)&&n.children[At]&&n.numberOfChildren===1&&n.children[At].segments.length===0){let s=rd(n.children[At],t,e);return new Wt(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=Xk(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new Wt(n.segments,r)}}function bV(n,t,e){let i=0,r=t,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;let o=n.segments[r],a=e[i];if(cd(a))break;let c=`${a}`,l=i<e.length-1?e[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Rk(c,l,o))return s;i+=2}else{if(!Rk(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function w0(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let s=e[r];if(cd(s)){let c=vV(s.outlets);return new Wt(i,c)}if(r===0&&lf(e[0])){let c=n.segments[t];i.push(new oo(c.path,Dk(e[0]))),r++;continue}let o=cd(s)?s.outlets[At]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&lf(a)?(i.push(new oo(o,Dk(a))),r+=2):(i.push(new oo(o,{})),r++)}return new Wt(i,{})}function vV(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=w0(new Wt([],{}),0,i))}),t}function Dk(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function Rk(n,t,e){return n==e.path&&qn(t,e.parameters)}var sd="imperative",Je=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Je||{}),cn=class{constructor(t,e){this.id=t,this.url=e}},za=class extends cn{constructor(t,e,i="imperative",r=null){super(t,e),this.type=Je.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Tn=class extends cn{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=Je.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xi=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Xi||{}),uf=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(uf||{}),xr=class extends cn{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=Je.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},hs=class extends cn{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=Je.NavigationSkipped}},ld=class extends cn{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=Je.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hf=class extends cn{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=Je.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},x0=class extends cn{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=Je.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},C0=class extends cn{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=Je.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},E0=class extends cn{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=Je.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},I0=class extends cn{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=Je.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},k0=class{constructor(t){this.route=t,this.type=Je.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},S0=class{constructor(t){this.route=t,this.type=Je.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},T0=class{constructor(t){this.snapshot=t,this.type=Je.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},A0=class{constructor(t){this.snapshot=t,this.type=Je.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},D0=class{constructor(t){this.snapshot=t,this.type=Je.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},R0=class{constructor(t){this.snapshot=t,this.type=Je.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mf=class{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=Je.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},dd=class{},Ha=class{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};var M0=class{constructor(t){this.injector=t,this.outlet=null,this.route=null,this.children=new bd(this.injector),this.attachRef=null}},bd=(()=>{let t=class t{constructor(i){this.parentInjector=i,this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new M0(this.parentInjector),this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};t.\u0275fac=function(r){return new(r||t)(G(rs))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),ff=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=P0(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=P0(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=O0(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return O0(t,this._root).map(e=>e.value)}};function P0(n,t){if(n===t.value)return t;for(let e of t.children){let i=P0(n,e);if(i)return i}return null}function O0(n,t){if(n===t.value)return[t];for(let e of t.children){let i=O0(n,e);if(i.length)return i.unshift(t),i}return[]}var Qi=class{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Fa(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var pf=class extends ff{constructor(t,e){super(t),this.snapshot=e,H0(this,t)}toString(){return this.snapshot.toString()}};function Zk(n){let t=yV(n),e=new Ve([new oo("",{})]),i=new Ve({}),r=new Ve({}),s=new Ve({}),o=new Ve(""),a=new ln(e,i,s,o,r,At,n,t.root);return a.snapshot=t.root,new pf(new Qi(a,[]),t)}function yV(n){let t={},e={},i={},r="",s=new Va([],t,i,r,e,At,n,null,{});return new _f("",new Qi(s,[]))}var ln=class{constructor(t,e,i,r,s,o,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Rt(l=>l[gd]))??ht(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Rt(t=>Ua(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Rt(t=>Ua(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gf(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:Y(Y({},t.params),n.params),data:Y(Y({},t.data),n.data),resolve:Y(Y(Y(Y({},n.data),t.data),r?.data),n._resolvedData)}:i={params:Y({},n.params),data:Y({},n.data),resolve:Y(Y({},n.data),n._resolvedData??{})},r&&tS(r)&&(i.resolve[gd]=r.title),i}var Va=class{get title(){return this.data?.[gd]}constructor(t,e,i,r,s,o,a,c,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ua(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ua(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},_f=class extends ff{constructor(t,e){super(e),this.url=t,H0(this,e)}toString(){return Jk(this._root)}};function H0(n,t){t.value._routerState=n,t.children.forEach(e=>H0(n,e))}function Jk(n){let t=n.children.length>0?` { ${n.children.map(Jk).join(", ")} } `:"";return`${n.value}${t}`}function p0(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,qn(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),qn(t.params,e.params)||n.paramsSubject.next(e.params),YL(t.url,e.url)||n.urlSubject.next(e.url),qn(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function N0(n,t){let e=qn(n.params,t.params)&&JL(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||N0(n.parent,t.parent))}function tS(n){return typeof n.title=="string"||n.title===null}var vd=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=At,this.activateEvents=new Tt,this.deactivateEvents=new Tt,this.attachEvents=new Tt,this.detachEvents=new Tt,this.parentContexts=nt(bd),this.location=nt(an),this.changeDetector=nt(Ni),this.inputBinder=nt(wf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Gt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Gt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Gt(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new Gt(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new F0(i,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=ot({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[oi]});let n=t;return n})(),F0=class n{__ngOutletInjector(t){return new n(this.route,this.childContexts,t)}constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ln?this.route:t===bd?this.childContexts:this.parent.get(t,e)}},wf=new ut(""),Mk=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=es([r.queryParams,r.params,r.data]).pipe(Ui(([o,a,c],l)=>(c=Y(Y(Y({},o),a),c),l===0?ht(c):Promise.resolve(c)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=JI(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:c}of a.inputs)i.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(i,s)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac});let n=t;return n})();function wV(n,t,e){let i=ud(n,t._root,e?e._root:void 0);return new pf(i,t)}function ud(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=xV(n,t,e);return new Qi(i,r)}else{if(n.shouldAttach(t.value)){let s=n.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>ud(n,a)),o}}let i=CV(t.value),r=t.children.map(s=>ud(n,s));return new Qi(i,r)}}function xV(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ud(n,i,r);return ud(n,i)})}function CV(n){return new ln(new Ve(n.url),new Ve(n.params),new Ve(n.queryParams),new Ve(n.fragment),new Ve(n.data),n.outlet,n.component,n)}var hd=class{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},eS="ngNavigationCancelingError";function bf(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=ad(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=iS(!1,Xi.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function iS(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[eS]=!0,e.cancellationCode=t,e}function EV(n){return nS(n)&&ad(n.url)}function nS(n){return!!n&&n[eS]}var IV=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["ng-component"]],standalone:!0,features:[J],decls:1,vars:0,template:function(r,s){r&1&&U(0,"router-outlet")},dependencies:[vd],encapsulation:2});let n=t;return n})();function kV(n,t){return n.providers&&!n._injector&&(n._injector=Xb(n.providers,t,`Route: ${n.path}`)),n._injector??t}function W0(n){let t=n.children&&n.children.map(W0),e=t?Ft(Y({},n),{children:t}):Y({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==At&&(e.component=IV),e}function Sn(n){return n.outlet||At}function SV(n,t){let e=n.filter(i=>Sn(i)===t);return e.push(...n.filter(i=>Sn(i)!==t)),e}function yd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var TV=(n,t,e,i)=>Rt(r=>(new L0(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)),L0=class{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),p0(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=Fa(e);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){let r=t.value,s=e?e.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Fa(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Fa(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=Fa(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new R0(s.value.snapshot))}),t.children.length&&this.forwardEvent(new A0(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,s=e?e.value:null;if(p0(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),p0(a.route.value),this.activateChildRoutes(t,null,o.children)}else{let a=yd(r.snapshot);o.attachRef=null,o.route=r,o.injector=a??o.injector,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}},vf=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ba=class{constructor(t,e){this.component=t,this.route=e}};function AV(n,t,e){let i=n._root,r=t?t._root:null;return id(i,r,e,[i.value])}function DV(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function $a(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!kI(n)?n:t.get(n):i}function id(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Fa(t);return n.children.forEach(o=>{RV(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>od(a,e.getContext(o),r)),r}function RV(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=MV(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new vf(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?id(n,t,a?a.children:null,i,r):id(n,t,e,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ba(a.outlet.component,o))}else o&&od(t,a,r),r.canActivateChecks.push(new vf(i)),s.component?id(n,null,a?a.children:null,i,r):id(n,null,e,i,r);return r}function MV(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!ao(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ao(n.url,t.url)||!qn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!N0(n,t)||!qn(n.queryParams,t.queryParams);case"paramsChange":default:return!N0(n,t)}}function od(n,t,e){let i=Fa(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?t?od(o,t.children.getContext(s),e):od(o,null,e):od(o,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Ba(t.outlet.component,r)):e.canDeactivateChecks.push(new Ba(null,r)):e.canDeactivateChecks.push(new Ba(null,r))}function wd(n){return typeof n=="function"}function PV(n){return typeof n=="boolean"}function OV(n){return n&&wd(n.canLoad)}function NV(n){return n&&wd(n.canActivate)}function FV(n){return n&&wd(n.canActivateChild)}function LV(n){return n&&wd(n.canDeactivate)}function VV(n){return n&&wd(n.canMatch)}function rS(n){return n instanceof yI||n?.name==="EmptyError"}var sf=Symbol("INITIAL_VALUE");function Wa(){return Ui(n=>es(n.map(t=>t.pipe(Bi(1),Ea(sf)))).pipe(Rt(t=>{for(let e of t)if(e!==!0){if(e===sf)return sf;if(e===!1||BV(e))return e}return!0}),Si(t=>t!==sf),Bi(1)))}function BV(n){return ad(n)||n instanceof hd}function UV(n,t){return Gi(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return o.length===0&&s.length===0?ht(Ft(Y({},e),{guardsResult:!0})):jV(o,i,r,n).pipe(Gi(a=>a&&PV(a)?zV(i,s,n,t):ht(a)),Rt(a=>Ft(Y({},e),{guardsResult:a})))})}function jV(n,t,e,i){return oe(n).pipe(Gi(r=>GV(r.component,r.route,e,t,i)),ns(r=>r!==!0,!0))}function zV(n,t,e,i){return oe(t).pipe(is(r=>Sm(WV(r.route.parent,i),HV(r.route,i),qV(n,r.path,e),$V(n,r.route,e))),ns(r=>r!==!0,!0))}function HV(n,t){return n!==null&&t&&t(new D0(n)),ht(!0)}function WV(n,t){return n!==null&&t&&t(new T0(n)),ht(!0)}function $V(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return ht(!0);let r=i.map(s=>jb(()=>{let o=yd(t)??e,a=$a(s,o),c=NV(a)?a.canActivate(t,n):sn(o,()=>a(t,n));return fs(c).pipe(ns())}));return ht(r).pipe(Wa())}function qV(n,t,e){let i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>DV(o)).filter(o=>o!==null).map(o=>jb(()=>{let a=o.guards.map(c=>{let l=yd(o.node)??e,d=$a(c,l),h=FV(d)?d.canActivateChild(i,n):sn(l,()=>d(i,n));return fs(h).pipe(ns())});return ht(a).pipe(Wa())}));return ht(s).pipe(Wa())}function GV(n,t,e,i,r){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return ht(!0);let o=s.map(a=>{let c=yd(t)??r,l=$a(a,c),d=LV(l)?l.canDeactivate(n,t,e,i):sn(c,()=>l(n,t,e,i));return fs(d).pipe(ns())});return ht(o).pipe(Wa())}function KV(n,t,e,i){let r=t.canLoad;if(r===void 0||r.length===0)return ht(!0);let s=r.map(o=>{let a=$a(o,n),c=OV(a)?a.canLoad(t,e):sn(n,()=>a(t,e));return fs(c)});return ht(s).pipe(Wa(),sS(i))}function sS(n){return Lb(Be(t=>{if(typeof t!="boolean")throw bf(n,t)}),Rt(t=>t===!0))}function YV(n,t,e,i){let r=t.canMatch;if(!r||r.length===0)return ht(!0);let s=r.map(o=>{let a=$a(o,n),c=VV(a)?a.canMatch(t,e):sn(n,()=>a(t,e));return fs(c)});return ht(s).pipe(Wa(),sS(i))}var md=class{constructor(t){this.segmentGroup=t||null}},fd=class extends Error{constructor(t){super(),this.urlTree=t}};function Na(n){return Fl(new md(n))}function QV(n){return Fl(new Gt(4e3,!1))}function XV(n){return Fl(iS(!1,Xi.GuardRejected))}var V0=class{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ht(i);if(r.numberOfChildren>1||!r.children[At])return QV(`${t.redirectTo}`);r=r.children[At]}}applyRedirectCommands(t,e,i,r,s){if(typeof e!="string"){let a=e,{queryParams:c,fragment:l,routeConfig:d,url:h,outlet:m,params:p,data:_,title:b}=r,v=sn(s,()=>a({params:p,data:_,queryParams:c,fragment:l,routeConfig:d,url:h,outlet:m,title:b}));if(v instanceof us)throw new fd(v);e=v}let o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e[0]==="/")throw new fd(o);return o}applyRedirectCreateUrlTree(t,e,i,r){let s=this.createSegmentGroup(t,e.root,i,r);return new us(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=e[a]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){let s=this.createSegments(t,e.segments,i,r),o={};return Object.entries(e.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(t,c,i,r)}),new Wt(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path[0]===":"?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new Gt(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}},B0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZV(n,t,e,i,r){let s=$0(n,t,e);return s.matched?(i=kV(t,i),YV(i,t,e,r).pipe(Rt(o=>o===!0?s:Y({},B0)))):ht(s)}function $0(n,t,e){if(t.path==="**")return JV(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?Y({},B0):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||KL)(e,n,t);if(!r)return Y({},B0);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?Y(Y({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function JV(n){return{matched:!0,parameters:n.length>0?Bk(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Pk(n,t,e,i){return e.length>0&&i4(n,e,i)?{segmentGroup:new Wt(t,e4(i,new Wt(e,n.children))),slicedSegments:[]}:e.length===0&&n4(n,e,i)?{segmentGroup:new Wt(n.segments,t4(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Wt(n.segments,n.children),slicedSegments:e}}function t4(n,t,e,i){let r={};for(let s of e)if(xf(n,t,s)&&!i[Sn(s)]){let o=new Wt([],{});r[Sn(s)]=o}return Y(Y({},i),r)}function e4(n,t){let e={};e[At]=t;for(let i of n)if(i.path===""&&Sn(i)!==At){let r=new Wt([],{});e[Sn(i)]=r}return e}function i4(n,t,e){return e.some(i=>xf(n,t,i)&&Sn(i)!==At)}function n4(n,t,e){return e.some(i=>xf(n,t,i))}function xf(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function r4(n,t,e,i){return Sn(n)!==i&&(i===At||!xf(t,e,n))?!1:$0(t,n,e).matched}function s4(n,t,e){return t.length===0&&!n.children[e]}var U0=class{};function o4(n,t,e,i,r,s,o="emptyOnly"){return new j0(n,t,e,i,r,o,s).recognize()}var a4=31,j0=class{constructor(t,e,i,r,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new V0(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Gt(4002,`'${t.segmentGroup}'`)}recognize(){let t=Pk(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Rt(({children:e,rootSnapshot:i})=>{let r=new Qi(i,e),s=new _f("",r),o=mV(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(t){let e=new Va([],Object.freeze({}),Object.freeze(Y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),At,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,At,e).pipe(Rt(i=>({children:i,rootSnapshot:e})),xa(i=>{if(i instanceof fd)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof md?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,s):this.processSegment(t,e,i,i.segments,r,!0,s).pipe(Rt(o=>o instanceof Qi?[o]:[]))}processChildren(t,e,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return oe(s).pipe(is(o=>{let a=i.children[o],c=SV(e,o);return this.processSegmentGroup(t,c,a,o,r)}),qb((o,a)=>(o.push(...a),o)),Wb(null),II(),Gi(o=>{if(o===null)return Na(i);let a=oS(o);return c4(a),ht(a)}))}processSegment(t,e,i,r,s,o,a){return oe(e).pipe(is(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,i,r,s,o,a).pipe(xa(l=>{if(l instanceof md)return ht(null);throw l}))),ns(c=>!!c),xa(c=>{if(rS(c))return s4(i,r,s)?ht(new U0):Na(i);throw c}))}processSegmentAgainstRoute(t,e,i,r,s,o,a,c){return r4(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,o,c):Na(r):Na(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o,a){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:h,remainingSegments:m}=$0(e,r,s);if(!c)return Na(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>a4&&(this.allowRedirects=!1));let p=new Va(s,l,Object.freeze(Y({},this.urlTree.queryParams)),this.urlTree.fragment,Ok(r),Sn(r),r.component??r._loadedComponent??null,r,Nk(r)),_=gf(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(_.params),p.data=Object.freeze(_.data);let b=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,h,p,t);return this.applyRedirects.lineralizeSegments(r,b).pipe(Gi(v=>this.processSegment(t,i,e,v.concat(m),o,!1,a)))}matchSegmentAgainstRoute(t,e,i,r,s,o){let a=ZV(e,i,r,t,this.urlSerializer);return i.path==="**"&&(e.children={}),a.pipe(Ui(c=>c.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(Ui(({routes:l})=>{let d=i._loadedInjector??t,{parameters:h,consumedSegments:m,remainingSegments:p}=c,_=new Va(m,h,Object.freeze(Y({},this.urlTree.queryParams)),this.urlTree.fragment,Ok(i),Sn(i),i.component??i._loadedComponent??null,i,Nk(i)),b=gf(_,o,this.paramsInheritanceStrategy);_.params=Object.freeze(b.params),_.data=Object.freeze(b.data);let{segmentGroup:v,slicedSegments:R}=Pk(e,m,p,l);if(R.length===0&&v.hasChildren())return this.processChildren(d,l,v,_).pipe(Rt(V=>new Qi(_,V)));if(l.length===0&&R.length===0)return ht(new Qi(_,[]));let P=Sn(i)===s;return this.processSegment(d,l,v,R,P?At:s,!0,_).pipe(Rt(V=>new Qi(_,V instanceof Qi?[V]:[])))}))):Na(e)))}getChildConfig(t,e,i){return e.children?ht({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?ht({routes:e._loadedRoutes,injector:e._loadedInjector}):KV(t,e,i,this.urlSerializer).pipe(Gi(r=>r?this.configLoader.loadChildren(t,e).pipe(Be(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):XV(e))):ht({routes:[],injector:t})}};function c4(n){n.sort((t,e)=>t.value.outlet===At?-1:e.value.outlet===At?1:t.value.outlet.localeCompare(e.value.outlet))}function l4(n){let t=n.value.routeConfig;return t&&t.path===""}function oS(n){let t=[],e=new Set;for(let i of n){if(!l4(i)){t.push(i);continue}let r=t.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=oS(i.children);t.push(new Qi(i.value,r))}return t.filter(i=>!e.has(i))}function Ok(n){return n.data||{}}function Nk(n){return n.resolve||{}}function d4(n,t,e,i,r,s){return Gi(o=>o4(n,t,e,i,o.extractedUrl,r,s).pipe(Rt(({state:a,tree:c})=>Ft(Y({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function u4(n,t){return Gi(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return ht(e);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of aS(c))o.add(l);let a=0;return oe(o).pipe(is(c=>s.has(c)?h4(c,i,n,t):(c.data=gf(c,c.parent,n).resolve,ht(void 0))),Be(()=>a++),$b(1),Gi(c=>a===o.size?ht(e):ts))})}function aS(n){let t=n.children.map(e=>aS(e)).flat();return[n,...t]}function h4(n,t,e,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!tS(r)&&(s[gd]=r.title),m4(s,n,t,i).pipe(Rt(o=>(n._resolvedData=o,n.data=gf(n,n.parent,e).resolve,null)))}function m4(n,t,e,i){let r=b0(n);if(r.length===0)return ht({});let s={};return oe(r).pipe(Gi(o=>f4(n[o],t,e,i).pipe(ns(),Be(a=>{if(a instanceof hd)throw bf(new ja,a);s[o]=a}))),$b(1),EI(s),xa(o=>rS(o)?ts:Fl(o)))}function f4(n,t,e,i){let r=yd(t)??i,s=$a(n,r),o=s.resolve?s.resolve(t,e):sn(r,()=>s(t,e));return fs(o)}function g0(n){return Ui(t=>{let e=n(t);return e?oe(e).pipe(Rt(()=>t)):ht(t)})}var cS=(()=>{let t=class t{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===At);return r}getResolvedTitleForRoute(i){return i.data[gd]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:()=>nt(p4),providedIn:"root"});let n=t;return n})(),p4=(()=>{let t=class t extends cS{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(G(kk))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),xd=new ut("",{providedIn:"root",factory:()=>({})}),pd=new ut(""),q0=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=nt(zm)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return ht(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=fs(i.loadComponent()).pipe(Rt(lS),Be(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),Ca(()=>{this.componentLoaders.delete(i)})),s=new Nl(r,()=>new Pt).pipe(Vb());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ht({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=g4(r,this.compiler,i,this.onLoadEndListener).pipe(Ca(()=>{this.childrenLoaders.delete(r)})),a=new Nl(o,()=>new Pt).pipe(Vb());return this.childrenLoaders.set(r,a),a}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function g4(n,t,e,i){return fs(n.loadChildren()).pipe(Rt(lS),Gi(r=>r instanceof zI||Array.isArray(r)?ht(r):oe(t.compileModuleAsync(r))),Rt(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(e).injector,o=s.get(pd,[],{optional:!0,self:!0}).flat()),{routes:o.map(W0),injector:s}}))}function _4(n){return n&&typeof n=="object"&&"default"in n}function lS(n){return _4(n)?n.default:n}var G0=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:()=>nt(b4),providedIn:"root"});let n=t;return n})(),b4=(()=>{let t=class t{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),dS=new ut(""),uS=new ut("");function v4(n,t,e){let i=n.get(uS),r=n.get(bt);return n.get(mt).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=r.startViewTransition(()=>(s(),y4(n))),{onViewTransitionCreated:c}=i;return c&&sn(n,()=>c({transition:a,from:t,to:e})),o})}function y4(n){return new Promise(t=>{Yb(()=>setTimeout(t),{injector:n,phase:jI.Read})})}var w4=new ut(""),K0=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Pt,this.transitionAbortSubject=new Pt,this.configLoader=nt(q0),this.environmentInjector=nt(rs),this.urlSerializer=nt(_d),this.rootContexts=nt(bd),this.location=nt(so),this.inputBindingEnabled=nt(wf,{optional:!0})!==null,this.titleStrategy=nt(cS),this.options=nt(xd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=nt(G0),this.createViewTransition=nt(dS,{optional:!0}),this.navigationErrorHandler=nt(w4,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ht(void 0),this.rootComponentType=null;let i=s=>this.events.next(new k0(s)),r=s=>this.events.next(new S0(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Ft(Y(Y({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new Ve({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:sd,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Si(o=>o.id!==0),Rt(o=>Ft(Y({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ui(o=>{let a=!1,c=!1;return ht(o).pipe(Ui(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Xi.SupersededByNewNavigation),ts;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ft(Y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&h!=="reload"){let m="";return this.events.next(new hs(l.id,this.urlSerializer.serialize(l.rawUrl),m,uf.IgnoredSameUrlNavigation)),l.resolve(!1),ts}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ht(l).pipe(Ui(m=>{let p=this.transitions?.getValue();return this.events.next(new za(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),p!==this.transitions?.getValue()?ts:Promise.resolve(m)}),d4(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Be(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Ft(Y({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let p=new hf(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(p)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:p,source:_,restoredState:b,extras:v}=l,R=new za(m,this.urlSerializer.serialize(p),_,b);this.events.next(R);let P=Zk(this.rootComponentType).snapshot;return this.currentTransition=o=Ft(Y({},l),{targetSnapshot:P,urlAfterRedirects:p,extras:Ft(Y({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,ht(o)}else{let m="";return this.events.next(new hs(l.id,this.urlSerializer.serialize(l.extractedUrl),m,uf.IgnoredByUrlHandlingStrategy)),l.resolve(!1),ts}}),Be(l=>{let d=new x0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Rt(l=>(this.currentTransition=o=Ft(Y({},l),{guards:AV(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),UV(this.environmentInjector,l=>this.events.next(l)),Be(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw bf(this.urlSerializer,l.guardsResult);let d=new C0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),Si(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Xi.GuardRejected),!1)),g0(l=>{if(l.guards.canActivateChecks.length)return ht(l).pipe(Be(d=>{let h=new E0(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),Ui(d=>{let h=!1;return ht(d).pipe(u4(this.paramsInheritanceStrategy,this.environmentInjector),Be({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",Xi.NoDataFromResolver)}}))}),Be(d=>{let h=new I0(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),g0(l=>{let d=h=>{let m=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(h.routeConfig).pipe(Be(p=>{h.component=p}),Rt(()=>{})));for(let p of h.children)m.push(...d(p));return m};return es(d(l.targetSnapshot.root)).pipe(Wb(null),Bi(1))}),g0(()=>this.afterPreactivation()),Ui(()=>{let{currentSnapshot:l,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return h?oe(h).pipe(Rt(()=>o)):ht(o)}),Rt(l=>{let d=wV(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Ft(Y({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),Be(()=>{this.events.next(new dd)}),TV(this.rootContexts,i.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Bi(1),Be({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Tn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),si(this.transitionAbortSubject.pipe(Be(l=>{throw l}))),Ca(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Xi.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),xa(l=>{if(c=!0,nS(l))this.events.next(new xr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),EV(l)?this.events.next(new Ha(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let d=new ld(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let h=sn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(h instanceof hd){let{message:m,cancellationCode:p}=bf(this.urlSerializer,h);this.events.next(new xr(o.id,this.urlSerializer.serialize(o.extractedUrl),m,p)),this.events.next(new Ha(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(d);let m=i.errorHandler(l);o.resolve(!!m)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return ts}))}))}cancelNavigationTransition(i,r,s){let o=new xr(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function x4(n){return n!==sd}var C4=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:()=>nt(E4),providedIn:"root"});let n=t;return n})(),z0=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},E4=(()=>{let t=class t extends z0{};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Lt(t)))(s||t)}})(),t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),hS=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:()=>nt(I4),providedIn:"root"});let n=t;return n})(),I4=(()=>{let t=class t extends hS{constructor(){super(...arguments),this.location=nt(so),this.urlSerializer=nt(_d),this.options=nt(xd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=nt(G0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new us,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Zk(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof za)this.stateMemento=this.createStateMemento();else if(i instanceof hs)this.rawUrlTree=r.initialUrl;else if(i instanceof hf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof dd?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof xr&&(i.code===Xi.GuardRejected||i.code===Xi.NoDataFromResolver)?this.restoreHistory(r):i instanceof ld?this.restoreHistory(r,!0):i instanceof Tn&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=Y(Y({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=Y(Y({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Lt(t)))(s||t)}})(),t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),nd=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(nd||{});function mS(n,t){n.events.pipe(Si(e=>e instanceof Tn||e instanceof xr||e instanceof ld||e instanceof hs),Rt(e=>e instanceof Tn||e instanceof hs?nd.COMPLETE:(e instanceof xr?e.code===Xi.Redirect||e.code===Xi.SupersededByNewNavigation:!1)?nd.REDIRECTING:nd.FAILED),Si(e=>e!==nd.REDIRECTING),Bi(1)).subscribe(()=>{t()})}function k4(n){throw n}var S4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},T4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},De=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=nt(Bm),this.stateManager=nt(hS),this.options=nt(xd,{optional:!0})||{},this.pendingTasks=nt(Mm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=nt(K0),this.urlSerializer=nt(_d),this.location=nt(so),this.urlHandlingStrategy=nt(G0),this._events=new Pt,this.errorHandler=this.options.errorHandler||k4,this.navigated=!1,this.routeReuseStrategy=nt(C4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=nt(pd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!nt(wf,{optional:!0}),this.eventsSubscription=new eo,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof xr&&r.code!==Xi.Redirect&&r.code!==Xi.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Tn)this.navigated=!0;else if(r instanceof Ha){let a=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),l=Y({info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||x4(s.source)},a);this.scheduleNavigation(c,sd,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}D4(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),sd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=Y({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(W0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:a,h=null;switch(c){case"merge":h=Y(Y({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let m;try{let p=s?s.snapshot:this.routerState.snapshot.root;m=Kk(p)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),m=this.currentUrlTree.root}return Yk(m,i,h,d??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=ad(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,sd,null,r)}navigate(i,r={skipLocationChange:!1}){return A4(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=Y({},S4):r===!1?s=Y({},T4):s=r,ad(i))return Tk(this.currentUrlTree,i,s);let o=this.parseUrl(i);return Tk(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,d;a?(c=a.resolve,l=a.reject,d=a.promise):d=new Promise((m,p)=>{c=m,l=p});let h=this.pendingTasks.add();return mS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function A4(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new Gt(4008,!1)}function D4(n){return!(n instanceof dd)&&!(n instanceof Ha)}var ms=(()=>{let t=class t{constructor(i,r,s,o,a,c){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Pt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=i.events.subscribe(d=>{d instanceof Tn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(i!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:BI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,i,r):s.removeAttribute(o,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};t.\u0275fac=function(r){return new(r||t)(N(De),N(ln),Bl("tabindex"),N(on),N(wt),N(Wl))},t.\u0275dir=ot({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&et("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&ft("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ct],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ct],replaceUrl:[2,"replaceUrl","replaceUrl",ct],routerLink:"routerLink"},standalone:!0,features:[ae,oi]});let n=t;return n})(),fS=(()=>{let t=class t{get isActive(){return this._isActive}constructor(i,r,s,o,a){this.router=i,this.element=r,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Tt,this.routerEventsSubscription=i.events.subscribe(c=>{c instanceof Tn&&this.update()})}ngAfterContentInit(){ht(this.links.changes,ht(null)).pipe(Ll()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=oe(i).pipe(Ll()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.isActiveChange.emit(i))})}isLinkActive(i){let r=R4(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?i.isActive(o,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};t.\u0275fac=function(r){return new(r||t)(N(De),N(wt),N(on),N(Ni),N(ms,8))},t.\u0275dir=ot({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,o){if(r&1&&pi(o,ms,5),r&2){let a;Qt(a=Xt())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[oi]});let n=t;return n})();function R4(n){return!!n.paths}var yf=class{};var M4=(()=>{let t=class t{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Si(i=>i instanceof Tn),is(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Xb(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return oe(s).pipe(Ll())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=ht(null);let o=s.pipe(Gi(a=>a===null?ht(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return oe([o,a]).pipe(Ll())}else return o})}};t.\u0275fac=function(r){return new(r||t)(G(De),G(zm),G(rs),G(yf),G(q0))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),pS=new ut(""),P4=(()=>{let t=class t{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=nt(rs),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof za?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Tn?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof hs&&i.code===uf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof mf&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>E(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),Yb(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new mf(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(r){Ta()},t.\u0275prov=tt({token:t,factory:t.\u0275fac});let n=t;return n})();function gS(n,...t){return Ki([{provide:pd,multi:!0,useValue:n},[],{provide:ln,useFactory:_S,deps:[De]},{provide:jm,multi:!0,useFactory:bS},t.map(e=>e.\u0275providers)])}function _S(n){return n.routerState.root}function Cd(n,t){return{\u0275kind:n,\u0275providers:t}}function bS(){let n=nt(Ze);return t=>{let e=n.get(Da);if(t!==e.components[0])return;let i=n.get(De),r=n.get(vS);n.get(Y0)===1&&i.initialNavigation(),n.get(yS,null,Gb.Optional)?.setUpPreloading(),n.get(pS,null,Gb.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var vS=new ut("",{factory:()=>new Pt}),Y0=new ut("",{providedIn:"root",factory:()=>1});function O4(){return Cd(2,[{provide:Y0,useValue:0},{provide:Jb,multi:!0,deps:[Ze],useFactory:t=>{let e=t.get(ik,Promise.resolve());return()=>e.then(()=>new Promise(i=>{let r=t.get(De),s=t.get(vS);mS(r,()=>{i(!0)}),t.get(K0).afterPreactivation=()=>(i(!0),s.closed?ht(void 0):s),r.initialNavigation()}))}}])}function N4(){return Cd(3,[{provide:Jb,multi:!0,useFactory:()=>{let t=nt(De);return()=>{t.setUpLocationChangeListener()}}},{provide:Y0,useValue:2}])}var yS=new ut("");function F4(n){return Cd(0,[{provide:yS,useExisting:M4},{provide:yf,useExisting:n}])}function L4(){return Cd(8,[Mk,{provide:wf,useExisting:Mk}])}function V4(n){let t=[{provide:dS,useValue:v4},{provide:uS,useValue:Y({skipNextTransition:!!n?.skipInitialTransition},n)}];return Cd(9,t)}var Fk=new ut("ROUTER_FORROOT_GUARD"),B4=[so,{provide:_d,useClass:ja},De,bd,{provide:ln,useFactory:_S,deps:[De]},q0,[]],qa=(()=>{let t=class t{constructor(i){}static forRoot(i,r){return{ngModule:t,providers:[B4,[],{provide:pd,multi:!0,useValue:i},{provide:Fk,useFactory:H4,deps:[[De,new Ti,new SI]]},{provide:xd,useValue:r||{}},r?.useHash?j4():z4(),U4(),r?.preloadingStrategy?F4(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?W4(r):[],r?.bindToComponentInputs?L4().\u0275providers:[],r?.enableViewTransitions?V4().\u0275providers:[],$4()]}}static forChild(i){return{ngModule:t,providers:[{provide:pd,multi:!0,useValue:i}]}}};t.\u0275fac=function(r){return new(r||t)(G(Fk,8))},t.\u0275mod=yt({type:t}),t.\u0275inj=vt({});let n=t;return n})();function U4(){return{provide:pS,useFactory:()=>{let n=nt(ok),t=nt(mt),e=nt(xd),i=nt(K0),r=nt(_d);return e.scrollOffset&&n.setOffset(e.scrollOffset),new P4(r,i,n,t,e)}}}function j4(){return{provide:Wl,useClass:rk}}function z4(){return{provide:Wl,useClass:nk}}function H4(n){return"guarded"}function W4(n){return[n.initialNavigation==="disabled"?N4().\u0275providers:[],n.initialNavigation==="enabledBlocking"?O4().\u0275providers:[]]}var Lk=new ut("");function $4(){return[{provide:Lk,useFactory:bS},{provide:jm,multi:!0,useExisting:Lk}]}var bv={};iL(bv,{FirebaseError:()=>ze,SDK_VERSION:()=>Dn,_DEFAULT_ENTRY_NAME:()=>Yn,_addComponent:()=>Qa,_addOrOverwriteComponent:()=>_v,_apps:()=>_s,_clearComponents:()=>$3,_components:()=>Ya,_getProvider:()=>fo,_isFirebaseApp:()=>WS,_isFirebaseServerApp:()=>Ce,_registerComponent:()=>An,_removeServiceInstance:()=>HS,_serverApps:()=>Ka,deleteApp:()=>Dd,getApp:()=>po,getApps:()=>Ad,initializeApp:()=>bs,initializeServerApp:()=>$S,onLog:()=>Pf,registerVersion:()=>fe,setLogLevel:()=>Of});var xS=function(n){let t=[],e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},q4=function(n){let t=[],e=0,i=0;for(;e<n.length;){let r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[e++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[e++],o=n[e++],a=n[e++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(c>>10)),t[i++]=String.fromCharCode(56320+(c&1023))}else{let s=n[e++],o=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},CS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,a=o?n[r+1]:0,c=r+2<n.length,l=c?n[r+2]:0,d=s>>2,h=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,p=l&63;c||(p=64,o||(m=64)),i.push(e[d],e[h],e[m],e[p])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(xS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):q4(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();let e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;let l=r<n.length?e[n.charAt(r)]:64;++r;let h=r<n.length?e[n.charAt(r)]:64;if(++r,s==null||a==null||l==null||h==null)throw new X0;let m=s<<2|a>>4;if(i.push(m),l!==64){let p=a<<4&240|l>>2;if(i.push(p),h!==64){let _=l<<6&192|h;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},X0=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},G4=function(n){let t=xS(n);return CS.encodeByteArray(t,!0)},Ed=function(n){return G4(n).replace(/\./g,"")},J0=function(n){try{return CS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Id(n,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let e=t;return new Date(e.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return t}for(let e in t)!t.hasOwnProperty(e)||!K4(e)||(n[e]=Id(n[e],t[e]));return n}function K4(n){return n!=="__proto__"}function Y4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Q4=()=>Y4().__FIREBASE_DEFAULTS__,X4=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Z4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=n&&J0(n[1]);return t&&JSON.parse(t)},Ef=()=>{try{return Q4()||X4()||Z4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},tv=n=>{var t,e;return(e=(t=Ef())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},ES=n=>{let t=tv(n);if(!t)return;let e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},ev=()=>{var n;return(n=Ef())===null||n===void 0?void 0:n.config},iv=n=>{var t;return(t=Ef())===null||t===void 0?void 0:t[`_${n}`]};var Cf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}};function IS(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ed(JSON.stringify(e)),Ed(JSON.stringify(o)),""].join(".")}function _e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_e())}function If(){var n;let t=(n=Ef())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kf(){return typeof self=="object"&&self.self===self}function Sf(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function kd(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tf(){let n=_e();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function SS(){return!If()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function co(){try{return typeof indexedDB=="object"}catch{return!1}}function TS(){return new Promise((n,t)=>{try{let e=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){t(e)}})}var J4="FirebaseError",ze=class n extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=J4,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dn.prototype.create)}},dn=class{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){let i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?t3(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new ze(r,a,i)}};function t3(n,t){return n.replace(e3,(e,i)=>{let r=t[i];return r!=null?String(r):`<${i}?>`})}var e3=/\{\$([^}]+)}/g;function nv(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function AS(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function lo(n,t){if(n===t)return!0;let e=Object.keys(n),i=Object.keys(t);for(let r of e){if(!i.includes(r))return!1;let s=n[r],o=t[r];if(wS(s)&&wS(o)){if(!lo(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!e.includes(r))return!1;return!0}function wS(n){return n!==null&&typeof n=="object"}function uo(n){let t=[];for(let[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function gs(n){let t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function Ga(n){let t=n.indexOf("?");if(!t)return"";let e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function Af(n,t){let e=new Z0(n,t);return e.subscribe.bind(e)}var Z0=class{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");i3(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Q0),r.error===void 0&&(r.error=Q0),r.complete===void 0&&(r.complete=Q0);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function i3(n,t){if(typeof n!="object"||n===null)return!1;for(let e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Q0(){}var hX=4*60*60*1e3;function Et(n){return n&&n._delegate?n._delegate:n}var gi=class{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var ho="[DEFAULT]";var rv=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){let i=new Cf;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;let i=this.normalizeInstanceIdentifier(t?.identifier),r=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(r3(t))try{this.getOrInitializeService({instanceIdentifier:ho})}catch{}for(let[e,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=ho){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return E(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=ho){return this.instances.has(t)}getOptions(t=ho){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(t,e){var i;let r=this.normalizeInstanceIdentifier(e),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){let i=this.onInitCallbacks.get(e);if(i)for(let r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:n3(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ho){return this.component?this.component.multipleInstances?t:ho:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function n3(n){return n===ho?void 0:n}function r3(n){return n.instantiationMode==="EAGER"}var Sd=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let e=new rv(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}};var sv=[],Ot=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ot||{}),DS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},s3=Ot.INFO,o3={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},a3=(n,t,...e)=>{if(t<n.logLevel)return;let i=new Date().toISOString(),r=o3[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Gn=class{constructor(t){this.name=t,this._logLevel=s3,this._logHandler=a3,this._userLogHandler=null,sv.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?DS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}};function RS(n){sv.forEach(t=>{t.setLogLevel(n)})}function MS(n,t){for(let e of sv){let i=null;t&&t.level&&(i=DS[t.level]),n===null?e.userLogHandler=null:e.userLogHandler=(r,s,...o)=>{let a=o.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");s>=(i??r.logLevel)&&n({level:Ot[s].toLowerCase(),message:a,args:o,type:r.name})}}}var c3=(n,t)=>t.some(e=>n instanceof e),PS,OS;function l3(){return PS||(PS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d3(){return OS||(OS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var NS=new WeakMap,av=new WeakMap,FS=new WeakMap,ov=new WeakMap,lv=new WeakMap;function u3(n){let t=new Promise((e,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(Kn(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&NS.set(e,n)}).catch(()=>{}),lv.set(t,n),t}function h3(n){if(av.has(n))return;let t=new Promise((e,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});av.set(n,t)}var cv={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return av.get(n);if(t==="objectStoreNames")return n.objectStoreNames||FS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Kn(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function LS(n){cv=n(cv)}function m3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){let i=n.call(Df(this),t,...e);return FS.set(i,t.sort?t.sort():[t]),Kn(i)}:d3().includes(n)?function(...t){return n.apply(Df(this),t),Kn(NS.get(this))}:function(...t){return Kn(n.apply(Df(this),t))}}function f3(n){return typeof n=="function"?m3(n):(n instanceof IDBTransaction&&h3(n),c3(n,l3())?new Proxy(n,cv):n)}function Kn(n){if(n instanceof IDBRequest)return u3(n);if(ov.has(n))return ov.get(n);let t=f3(n);return t!==n&&(ov.set(n,t),lv.set(t,n)),t}var Df=n=>lv.get(n);function BS(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(n,t),a=Kn(o);return i&&o.addEventListener("upgradeneeded",c=>{i(Kn(o.result),c.oldVersion,c.newVersion,Kn(o.transaction),c)}),e&&o.addEventListener("blocked",c=>e(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var p3=["get","getKey","getAll","getAllKeys","count"],g3=["put","add","delete","clear"],dv=new Map;function VS(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(dv.get(t))return dv.get(t);let e=t.replace(/FromIndex$/,""),i=t!==e,r=g3.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||p3.includes(e)))return;let s=function(o,...a){return E(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[e](...a),r&&c.done]))[0]})};return dv.set(t,s),s}LS(n=>Ft(Y({},n),{get:(t,e,i)=>VS(t,e)||n.get(t,e,i),has:(t,e)=>!!VS(t,e)||n.has(t,e)}));var hv=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(_3(e)){let i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}};function _3(n){let t=n.getComponent();return t?.type==="VERSION"}var Rf="@firebase/app",mv="0.10.5";var mo=new Gn("@firebase/app"),b3="@firebase/app-compat",v3="@firebase/analytics-compat",y3="@firebase/analytics",w3="@firebase/app-check-compat",x3="@firebase/app-check",C3="@firebase/auth",E3="@firebase/auth-compat",I3="@firebase/database",k3="@firebase/database-compat",S3="@firebase/functions",T3="@firebase/functions-compat",A3="@firebase/installations",D3="@firebase/installations-compat",R3="@firebase/messaging",M3="@firebase/messaging-compat",P3="@firebase/performance",O3="@firebase/performance-compat",N3="@firebase/remote-config",F3="@firebase/remote-config-compat",L3="@firebase/storage",V3="@firebase/storage-compat",B3="@firebase/firestore",U3="@firebase/vertexai-preview",j3="@firebase/firestore-compat",z3="firebase",H3="10.12.2";var Yn="[DEFAULT]",W3={[Rf]:"fire-core",[b3]:"fire-core-compat",[y3]:"fire-analytics",[v3]:"fire-analytics-compat",[x3]:"fire-app-check",[w3]:"fire-app-check-compat",[C3]:"fire-auth",[E3]:"fire-auth-compat",[I3]:"fire-rtdb",[k3]:"fire-rtdb-compat",[S3]:"fire-fn",[T3]:"fire-fn-compat",[A3]:"fire-iid",[D3]:"fire-iid-compat",[R3]:"fire-fcm",[M3]:"fire-fcm-compat",[P3]:"fire-perf",[O3]:"fire-perf-compat",[N3]:"fire-rc",[F3]:"fire-rc-compat",[L3]:"fire-gcs",[V3]:"fire-gcs-compat",[B3]:"fire-fst",[j3]:"fire-fst-compat",[U3]:"fire-vertex","fire-js":"fire-js",[z3]:"fire-js-all"};var _s=new Map,Ka=new Map,Ya=new Map;function Qa(n,t){try{n.container.addComponent(t)}catch(e){mo.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function _v(n,t){n.container.addOrOverwriteComponent(t)}function An(n){let t=n.name;if(Ya.has(t))return mo.debug(`There were multiple attempts to register component ${t}.`),!1;Ya.set(t,n);for(let e of _s.values())Qa(e,n);for(let e of Ka.values())Qa(e,n);return!0}function fo(n,t){let e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function HS(n,t,e=Yn){fo(n,t).clearInstance(e)}function WS(n){return n.options!==void 0}function Ce(n){return n.settings!==void 0}function $3(){Ya.clear()}var q3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},un=new dn("app","Firebase",q3);var Mf=class{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw un.create("app-deleted",{appName:this._name})}};var fv=class extends Mf{constructor(t,e,i,r){let s=e.automaticDataCollectionEnabled!==void 0?e.automaticDataCollectionEnabled:!1,o={name:i,automaticDataCollectionEnabled:s};if(t.apiKey!==void 0)super(t,o,r);else{let a=t;super(a.options,o,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},e),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,e.releaseOnDeref=void 0,fe(Rf,mv,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(t){this.isDeleted||(this._refCount++,t!==void 0&&this._finalizationRegistry.register(t,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Dd(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw un.create("server-app-deleted")}};var Dn=H3;function bs(n,t={}){let e=n;typeof t!="object"&&(t={name:t});let i=Object.assign({name:Yn,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw un.create("bad-app-name",{appName:String(r)});if(e||(e=ev()),!e)throw un.create("no-options");let s=_s.get(r);if(s){if(lo(e,s.options)&&lo(i,s.config))return s;throw un.create("duplicate-app",{appName:r})}let o=new Sd(r);for(let c of Ya.values())o.addComponent(c);let a=new Mf(e,i,o);return _s.set(r,a),a}function $S(n,t){if(kf())throw un.create("invalid-server-app-environment");t.automaticDataCollectionEnabled===void 0&&(t.automaticDataCollectionEnabled=!1);let e;WS(n)?e=n.options:e=n;let i=Object.assign(Object.assign({},t),e);i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;let r=l=>[...l].reduce((d,h)=>Math.imul(31,d)+h.charCodeAt(0)|0,0);if(t.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw un.create("finalization-registry-not-supported",{});let s=""+r(JSON.stringify(i)),o=Ka.get(s);if(o)return o.incRefCount(t.releaseOnDeref),o;let a=new Sd(s);for(let l of Ya.values())a.addComponent(l);let c=new fv(e,t,s,a);return Ka.set(s,c),c}function po(n=Yn){let t=_s.get(n);if(!t&&n===Yn&&ev())return bs();if(!t)throw un.create("no-app",{appName:n});return t}function Ad(){return Array.from(_s.values())}function Dd(n){return E(this,null,function*(){let t=!1,e=n.name;_s.has(e)?(t=!0,_s.delete(e)):Ka.has(e)&&n.decRefCount()<=0&&(Ka.delete(e),t=!0),t&&(yield Promise.all(n.container.getProviders().map(i=>i.delete())),n.isDeleted=!0)})}function fe(n,t,e){var i;let r=(i=W3[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);let s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),mo.warn(a.join(" "));return}An(new gi(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}function Pf(n,t){if(n!==null&&typeof n!="function")throw un.create("invalid-log-argument");MS(n,t)}function Of(n){RS(n)}var G3="firebase-heartbeat-database",K3=1,Td="firebase-heartbeat-store",uv=null;function qS(){return uv||(uv=BS(G3,K3,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Td)}catch(e){console.warn(e)}}}}).catch(n=>{throw un.create("idb-open",{originalErrorMessage:n.message})})),uv}function Y3(n){return E(this,null,function*(){try{let e=(yield qS()).transaction(Td),i=yield e.objectStore(Td).get(GS(n));return yield e.done,i}catch(t){if(t instanceof ze)mo.warn(t.message);else{let e=un.create("idb-get",{originalErrorMessage:t?.message});mo.warn(e.message)}}})}function US(n,t){return E(this,null,function*(){try{let i=(yield qS()).transaction(Td,"readwrite");yield i.objectStore(Td).put(t,GS(n)),yield i.done}catch(e){if(e instanceof ze)mo.warn(e.message);else{let i=un.create("idb-set",{originalErrorMessage:e?.message});mo.warn(i.message)}}})}function GS(n){return`${n.name}!${n.options.appId}`}var Q3=1024,X3=30*24*60*60*1e3,pv=class{constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new gv(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return E(this,null,function*(){var t,e;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jS();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=X3}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return E(this,null,function*(){var t;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=jS(),{heartbeatsToSend:i,unsentEntries:r}=Z3(this._heartbeatsCache.heartbeats),s=Ed(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function jS(){return new Date().toISOString().substring(0,10)}function Z3(n,t=Q3){let e=[],i=n.slice();for(let r of n){let s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),zS(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),zS(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}var gv=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return co()?TS().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let e=yield Y3(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return E(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return US(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return E(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return US(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function zS(n){return Ed(JSON.stringify({version:2,heartbeats:n})).length}function J3(n){An(new gi("platform-logger",t=>new hv(t),"PRIVATE")),An(new gi("heartbeat",t=>new pv(t),"PRIVATE")),fe(Rf,mv,n),fe(Rf,mv,"esm2017"),fe("fire-js","")}J3("");var tB="firebase",eB="10.12.2";fe(tB,eB,"app");var _o=new Aa("ANGULARFIRE2_VERSION");function Ff(n,t,e){if(t){if(t.length===1)return t[0];let s=t.filter(o=>o.app===e);if(s.length===1)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}var Rd=(n,t)=>{let e=t?[t]:Ad(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},Za=class{constructor(){return Rd(iB)}},iB="app-check";function Xa(){}var Nf=class{zone;delegate;constructor(t,e=vI){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){let r=this.zone,s=function(o){r.runGuarded(()=>{t.apply(this,[o])})};return this.delegate.schedule(s,e,i)}},vv=class{zone;task=null;constructor(t){this.zone=t}call(t,e){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xa,{},Xa,Xa)),e.pipe(Be({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ja=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new Nf(Zone.current)),this.insideAngular=e.run(()=>new Nf(Zone.current,bI)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(G(mt))};static \u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Lf(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function nB(n){return Lf().ngZone.runOutsideAngular(()=>n())}function go(n){return Lf().ngZone.run(()=>n())}function rB(n){return sB(Lf())(n)}function sB(n){return function(e){return e=e.lift(new vv(n.ngZone)),e.pipe(Ub(n.outsideAngular),Bb(n.insideAngular))}}var oB=(n,t)=>function(){let i=arguments;return t&&setTimeout(()=>{t.state==="scheduled"&&t.invoke()},10),go(()=>n.apply(void 0,i))},_i=(n,t)=>function(){let e,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(t&&(e||=go(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xa,{},Xa,Xa))),i[s]=oB(i[s],e));let r=nB(()=>n.apply(this,i));if(!t)if(r instanceof hi){let s=Lf();return r.pipe(Ub(s.outsideAngular),Bb(s.insideAngular))}else return go(()=>r);return r instanceof hi?r.pipe(rB):r instanceof Promise?go(()=>new Promise((s,o)=>r.then(a=>go(()=>s(a)),a=>go(()=>o(a))))):typeof r=="function"&&e?function(){return setTimeout(()=>{e&&e.state==="scheduled"&&e.invoke()},10),r.apply(this,arguments)}:go(()=>r)};var Cr=class{constructor(t){return t}},bo=class{constructor(){return Ad()}};function aB(n){return n&&n.length===1?n[0]:new Cr(po())}var yv=new ut("angularfire2._apps"),cB={provide:Cr,useFactory:aB,deps:[[new Ti,yv]]},lB={provide:bo,deps:[[new Ti,yv]]};function dB(n){return(t,e)=>{let i=e.get(Di);fe("angularfire",_o.full,"core"),fe("angularfire",_o.full,"app"),fe("angular",QI.full,i.toString());let r=t.runOutsideAngular(()=>n(e));return new Cr(r)}}function KS(n,...t){return Ki([cB,lB,{provide:yv,useFactory:dB(n),multi:!0,deps:[mt,Ze,Ja,...t]}])}var Cs={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};var Sr={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function uB(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function uT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Zf=uB,Xv=uT,hT=new dn("auth","Firebase",uT());var jf=new Gn("@firebase/auth");function hB(n,...t){jf.logLevel<=Ot.WARN&&jf.warn(`Auth (${Dn}): ${n}`,...t)}function Bf(n,...t){jf.logLevel<=Ot.ERROR&&jf.error(`Auth (${Dn}): ${n}`,...t)}function Ne(n,...t){throw Jv(n,...t)}function We(n,...t){return Jv(n,...t)}function Zv(n,t,e){let i=Object.assign(Object.assign({},Xv()),{[t]:e});return new dn("auth","Firebase",i).create(t,{appName:n.name})}function ti(n){return Zv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nc(n,t,e){let i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&Ne(n,"argument-error"),Zv(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jv(n,...t){if(typeof n!="string"){let e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return hT.create(n,...t)}function X(n,t,...e){if(!n)throw Jv(t,...e)}function Qn(n){let t="INTERNAL ASSERTION FAILED: "+n;throw Bf(t),new Error(t)}function hn(n,t){n||Qn(t)}function Fd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ty(){return YS()==="http:"||YS()==="https:"}function YS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function mB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ty()||Sf()||"connection"in navigator)?navigator.onLine:!0}function fB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var vo=class{constructor(t,e){this.shortDelay=t,this.longDelay=e,hn(e>t,"Short delay should be less than long delay!"),this.isMobile=kS()||kd()}get(){return mB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ey(n,t){hn(n.emulator,"Emulator should always be set here");let{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}var Ld=class{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var pB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var gB=new vo(3e4,6e4);function Re(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function Me(s,o,a,c){return E(this,arguments,function*(n,t,e,i,r={}){return mT(n,r,()=>E(this,null,function*(){let l={},d={};i&&(t==="GET"?d=i:l={body:JSON.stringify(i)});let h=uo(Object.assign({key:n.config.apiKey},d)).slice(1),m=yield n._getAdditionalHeaders();return m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode),Ld.fetch()(fT(n,n.config.apiHost,e,h),Object.assign({method:t,headers:m,referrerPolicy:"no-referrer"},l))}))})}function mT(n,t,e){return E(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},pB),t);try{let r=new Iv(n),s=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Md(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Md(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Md(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw Md(n,"user-disabled",o);let d=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Zv(n,d,l);Ne(n,d)}}catch(r){if(r instanceof ze)throw r;Ne(n,"network-request-failed",{message:String(r)})}})}function Tr(s,o,a,c){return E(this,arguments,function*(n,t,e,i,r={}){let l=yield Me(n,t,e,i,r);return"mfaPendingCredential"in l&&Ne(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function fT(n,t,e,i){let r=`${t}${e}?${i}`;return n.config.emulator?ey(n.config,r):`${n.config.apiScheme}://${r}`}function _B(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Iv=class{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(We(this.auth,"network-request-failed")),gB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Md(n,t,e){let i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);let r=We(n,t,i);return r.customData._tokenResponse=e,r}function QS(n){return n!==void 0&&n.getResponse!==void 0}function XS(n){return n!==void 0&&n.enterprise!==void 0}var kv=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return _B(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}};function bB(n){return E(this,null,function*(){return(yield Me(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function vB(n,t){return E(this,null,function*(){return Me(n,"GET","/v2/recaptchaConfig",Re(n,t))})}function yB(n,t){return E(this,null,function*(){return Me(n,"POST","/v1/accounts:delete",t)})}function wB(n,t){return E(this,null,function*(){return Me(n,"POST","/v1/accounts:update",t)})}function pT(n,t){return E(this,null,function*(){return Me(n,"POST","/v1/accounts:lookup",t)})}function Pd(n){if(n)try{let t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function Jf(n,t=!1){return E(this,null,function*(){let e=Et(n),i=yield e.getIdToken(t),r=tp(i);X(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Pd(wv(r.auth_time)),issuedAtTime:Pd(wv(r.iat)),expirationTime:Pd(wv(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function wv(n){return Number(n)*1e3}function tp(n){let[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Bf("JWT malformed, contained fewer than 3 sections"),null;try{let r=J0(e);return r?JSON.parse(r):(Bf("Failed to decode base64 JWT payload"),null)}catch(r){return Bf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function ZS(n){let t=tp(n);return X(t,"internal-error"),X(typeof t.exp<"u","internal-error"),X(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Ir(n,t,e=!1){return E(this,null,function*(){if(e)return t;try{return yield t}catch(i){throw i instanceof ze&&xB(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function xB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Sv=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let e=this.getInterval(t);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),e)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Vd=class{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pd(this.lastLoginAt),this.creationTime=Pd(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Bd(n){return E(this,null,function*(){var t;let e=n.auth,i=yield n.getIdToken(),r=yield Ir(n,pT(e,{idToken:i}));X(r?.users.length,e,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?gT(s.providerUserInfo):[],a=CB(n.providerData,o),c=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!a?.length,d=c?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Vd(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,h)})}function ep(n){return E(this,null,function*(){let t=Et(n);yield Bd(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function CB(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function gT(n){return n.map(t=>{var{providerId:e}=t,i=km(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function EB(n,t){return E(this,null,function*(){let e=yield mT(n,{},()=>E(this,null,function*(){let i=uo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=fT(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ld.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})}function IB(n,t){return E(this,null,function*(){return Me(n,"POST","/v2/accounts:revokeToken",Re(n,t))})}var Od=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){X(t.idToken,"internal-error"),X(typeof t.idToken<"u","internal-error"),X(typeof t.refreshToken<"u","internal-error");let e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ZS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){X(t.length!==0,"internal-error");let e=ZS(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){return E(this,null,function*(){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,e){return E(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield EB(t,e);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){let{refreshToken:i,accessToken:r,expirationTime:s}=e,o=new n;return i&&(X(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(X(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(X(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Qn("not implemented")}};function vs(n,t){X(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}var yo=class n{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,s=km(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Vd(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){return E(this,null,function*(){let e=yield Ir(this,this.stsTokenManager.getToken(this.auth,t));return X(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e})}getIdTokenResult(t){return Jf(this,t)}reload(){return ep(this)}_assign(t){this!==t&&(X(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let e=new n(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){return E(this,null,function*(){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&(yield Bd(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(Ce(this.auth.app))return Promise.reject(ti(this.auth));let t=yield this.getIdToken();return yield Ir(this,yB(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,s,o,a,c,l,d;let h=(i=e.displayName)!==null&&i!==void 0?i:void 0,m=(r=e.email)!==null&&r!==void 0?r:void 0,p=(s=e.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=e.photoURL)!==null&&o!==void 0?o:void 0,b=(a=e.tenantId)!==null&&a!==void 0?a:void 0,v=(c=e._redirectEventId)!==null&&c!==void 0?c:void 0,R=(l=e.createdAt)!==null&&l!==void 0?l:void 0,P=(d=e.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:V,emailVerified:j,isAnonymous:z,providerData:H,stsTokenManager:k}=e;X(V&&k,t,"internal-error");let x=Od.fromJSON(this.name,k);X(typeof V=="string",t,"internal-error"),vs(h,t.name),vs(m,t.name),X(typeof j=="boolean",t,"internal-error"),X(typeof z=="boolean",t,"internal-error"),vs(p,t.name),vs(_,t.name),vs(b,t.name),vs(v,t.name),vs(R,t.name),vs(P,t.name);let I=new n({uid:V,auth:t,email:m,emailVerified:j,displayName:h,isAnonymous:z,photoURL:_,phoneNumber:p,tenantId:b,stsTokenManager:x,createdAt:R,lastLoginAt:P});return H&&Array.isArray(H)&&(I.providerData=H.map(D=>Object.assign({},D))),v&&(I._redirectEventId=v),I}static _fromIdTokenResponse(t,e,i=!1){return E(this,null,function*(){let r=new Od;r.updateFromServerResponse(e);let s=new n({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield Bd(s),s})}static _fromGetAccountInfoResponse(t,e,i){return E(this,null,function*(){let r=e.users[0];X(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?gT(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new Od;a.updateFromIdToken(i);let c=new n({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Vd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var JS=new Map;function bi(n){hn(n instanceof Function,"Expected a class definition");let t=JS.get(n);return t?(hn(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,JS.set(n,t),t)}var kB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(e,i){return E(this,null,function*(){this.storage[e]=i})}_get(e){return E(this,null,function*(){let i=this.storage[e];return i===void 0?null:i})}_remove(e){return E(this,null,function*(){delete this.storage[e]})}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})(),kr=kB;function Xn(n,t,e){return`firebase:${n}:${t}:${e}`}var zf=class n{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=Xn(this.userKey,r.apiKey,s),this.fullPersistenceKey=Xn("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return E(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);return t?yo._fromJSON(this.auth,t):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return E(this,null,function*(){if(this.persistence===t)return;let e=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return E(this,null,function*(){if(!e.length)return new n(bi(kr),t,i);let r=(yield Promise.all(e.map(l=>E(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=r[0]||bi(kr),o=Xn(i,t.config.apiKey,t.name),a=null;for(let l of e)try{let d=yield l._get(o);if(d){let h=yo._fromJSON(t,d);l!==s&&(a=h),s=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,t,i):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(e.map(l=>E(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,t,i))})}};function tT(n){let t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_T(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yT(t))return"Blackberry";if(wT(t))return"Webos";if(iy(t))return"Safari";if((t.includes("chrome/")||bT(t))&&!t.includes("edge/"))return"Chrome";if(rc(t))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function _T(n=_e()){return/firefox\//i.test(n)}function iy(n=_e()){let t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function bT(n=_e()){return/crios\//i.test(n)}function vT(n=_e()){return/iemobile/i.test(n)}function rc(n=_e()){return/android/i.test(n)}function yT(n=_e()){return/blackberry/i.test(n)}function wT(n=_e()){return/webos/i.test(n)}function ko(n=_e()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function xT(n=_e()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function SB(n=_e()){var t;return ko(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function TB(){return Tf()&&document.documentMode===10}function CT(n=_e()){return ko(n)||rc(n)||wT(n)||yT(n)||/windows phone/i.test(n)||vT(n)}function AB(){try{return!!(window&&window!==window.top)}catch{return!1}}function ny(n,t=[]){let e;switch(n){case"Browser":e=tT(_e());break;case"Worker":e=`${tT(_e())}-${n}`;break;default:e=n}let i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Dn}/${i}`}var Tv=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){let i=s=>new Promise((o,a)=>{try{let c=t(s);o(c)}catch(c){a(c)}});i.onAbort=e,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){return E(this,null,function*(){if(this.auth.currentUser===t)return;let e=[];try{for(let i of this.queue)yield i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(let r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function DB(e){return E(this,arguments,function*(n,t={}){return Me(n,"GET","/v2/passwordPolicy",Re(n,t))})}var RB=6,Av=class{constructor(t){var e,i,r,s;let o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=o.minPasswordLength)!==null&&e!==void 0?e:RB,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(e=c.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,e){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}};var Hf=class{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wf(this),this.idTokenSubscription=new Wf(this),this.beforeStateQueue=new Tv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=bi(e)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield zf.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(e),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return E(this,null,function*(){try{let e=yield pT(this,{idToken:t}),i=yield yo._fromGetAccountInfoResponse(this,e,t);yield this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return E(this,null,function*(){var e;if(Ce(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!o||o===a)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(t){return E(this,null,function*(){let e=null;try{e=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return e})}reloadAndSetCurrentUserOrClear(t){return E(this,null,function*(){try{yield Bd(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=fB()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return E(this,null,function*(){if(Ce(this.app))return Promise.reject(ti(this));let e=t?Et(t):null;return e&&X(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))})}_updateCurrentUser(t,e=!1){return E(this,null,function*(){if(!this._deleted)return t&&X(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return Ce(this.app)?Promise.reject(ti(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return Ce(this.app)?Promise.reject(ti(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(bi(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let t=yield DB(this),e=new Av(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new dn("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{let i=this.onAuthStateChanged(()=>{i(),t()},e)}})}revokeAccessToken(t){return E(this,null,function*(){if(this.currentUser){let e=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),yield IB(this,i)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,e){return E(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return E(this,null,function*(){if(!this.redirectPersistenceManager){let e=t&&bi(t)||this._popupRedirectResolver;X(e,this,"argument-error"),this.redirectPersistenceManager=yield zf.create(this,[bi(e._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return E(this,null,function*(){var e,i;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return E(this,null,function*(){if(t===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};let s=typeof e=="function"?e:e.next.bind(e),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof e=="function"){let c=t.addObserver(e,i,r);return()=>{o=!0,c()}}else{let c=t.addObserver(e);return()=>{o=!0,c()}}}directlySetCurrentUser(t){return E(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ny(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var t;let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e})}_getAppCheckToken(){return E(this,null,function*(){var t;let e=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return e?.error&&hB(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function pe(n){return Et(n)}var Wf=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=Af(e=>this.observer=e)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var $d={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MB(n){$d=n}function ry(n){return $d.loadJS(n)}function PB(){return $d.recaptchaV2Script}function OB(){return $d.recaptchaEnterpriseScript}function NB(){return $d.gapiScript}function ET(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var FB="recaptcha-enterprise",LB="NO_RECAPTCHA",Dv=class{constructor(t){this.type=FB,this.auth=pe(t)}verify(t="verify",e=!1){return E(this,null,function*(){function i(s){return E(this,null,function*(){if(!e){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>E(this,null,function*(){vB(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new kv(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})}))})}function r(s,o,a){let c=window.grecaptcha;XS(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:t}).then(l=>{o(l)}).catch(()=>{o(LB)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!e&&XS(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=OB();c.length!==0&&(c+=a),ry(c).then(()=>{r(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function eT(n,t,e,i=!1){return E(this,null,function*(){let r=new Dv(n),s;try{s=yield r.verify(e)}catch{s=yield r.verify(e,!0)}let o=Object.assign({},t);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Ud(n,t,e,i){return E(this,null,function*(){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield eT(n,t,e,e==="getOobCode");return i(n,s)}else return i(n,t).catch(s=>E(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield eT(n,t,e,e==="getOobCode");return i(n,o)}else return Promise.reject(s)}))})}function ip(n,t){let e=fo(n,"auth");if(e.isInitialized()){let r=e.getImmediate(),s=e.getOptions();if(lo(s,t??{}))return r;Ne(r,"already-initialized")}return e.initialize({options:t})}function VB(n,t){let e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(bi);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function sc(n,t,e){let i=pe(n);X(i._canInitEmulator,i,"emulator-config-failed"),X(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");let r=!!e?.disableWarnings,s=IT(t),{host:o,port:a}=BB(t),c=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||UB()}function IT(n){let t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function BB(n){let t=IT(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};let i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:iT(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:iT(o)}}}function iT(n){if(!n)return null;let t=Number(n);return isNaN(t)?null:t}function UB(){function n(){let t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Rn=class{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Qn("not implemented")}_getIdTokenResponse(t){return Qn("not implemented")}_linkToIdToken(t,e){return Qn("not implemented")}_getReauthenticationResolver(t){return Qn("not implemented")}};function kT(n,t){return E(this,null,function*(){return Me(n,"POST","/v1/accounts:resetPassword",Re(n,t))})}function jB(n,t){return E(this,null,function*(){return Me(n,"POST","/v1/accounts:update",t)})}function zB(n,t){return E(this,null,function*(){return Me(n,"POST","/v1/accounts:signUp",t)})}function HB(n,t){return E(this,null,function*(){return Me(n,"POST","/v1/accounts:update",Re(n,t))})}function WB(n,t){return E(this,null,function*(){return Tr(n,"POST","/v1/accounts:signInWithPassword",Re(n,t))})}function np(n,t){return E(this,null,function*(){return Me(n,"POST","/v1/accounts:sendOobCode",Re(n,t))})}function $B(n,t){return E(this,null,function*(){return np(n,t)})}function qB(n,t){return E(this,null,function*(){return np(n,t)})}function GB(n,t){return E(this,null,function*(){return np(n,t)})}function KB(n,t){return E(this,null,function*(){return np(n,t)})}function YB(n,t){return E(this,null,function*(){return Tr(n,"POST","/v1/accounts:signInWithEmailLink",Re(n,t))})}function QB(n,t){return E(this,null,function*(){return Tr(n,"POST","/v1/accounts:signInWithEmailLink",Re(n,t))})}var tc=class n extends Rn{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new n(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new n(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){return E(this,null,function*(){switch(this.signInMethod){case"password":let e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ud(t,e,"signInWithPassword",WB);case"emailLink":return YB(t,{email:this._email,oobCode:this._password});default:Ne(t,"internal-error")}})}_linkToIdToken(t,e){return E(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ud(t,i,"signUpPassword",zB);case"emailLink":return QB(t,{idToken:e,email:this._email,oobCode:this._password});default:Ne(t,"internal-error")}})}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}};function Er(n,t){return E(this,null,function*(){return Tr(n,"POST","/v1/accounts:signInWithIdp",Re(n,t))})}var XB="http://localhost",mn=class n extends Rn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let e=new n(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ne("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,s=km(e,["providerId","signInMethod"]);if(!i||!r)return null;let o=new n(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){let e=this.buildRequest();return Er(t,e)}_linkToIdToken(t,e){let i=this.buildRequest();return i.idToken=e,Er(t,i)}_getReauthenticationResolver(t){let e=this.buildRequest();return e.autoCreate=!1,Er(t,e)}buildRequest(){let t={requestUri:XB,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{let e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=uo(e)}return t}};function ZB(n,t){return E(this,null,function*(){return Me(n,"POST","/v1/accounts:sendVerificationCode",Re(n,t))})}function JB(n,t){return E(this,null,function*(){return Tr(n,"POST","/v1/accounts:signInWithPhoneNumber",Re(n,t))})}function t5(n,t){return E(this,null,function*(){let e=yield Tr(n,"POST","/v1/accounts:signInWithPhoneNumber",Re(n,t));if(e.temporaryProof)throw Md(n,"account-exists-with-different-credential",e);return e})}var e5={USER_NOT_FOUND:"user-not-found"};function i5(n,t){return E(this,null,function*(){let e=Object.assign(Object.assign({},t),{operation:"REAUTH"});return Tr(n,"POST","/v1/accounts:signInWithPhoneNumber",Re(n,e),e5)})}var wo=class n extends Rn{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new n({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new n({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return JB(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return t5(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return i5(t,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:t,phoneNumber:e,verificationId:i,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:i,code:r}}toJSON(){let t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){typeof t=="string"&&(t=JSON.parse(t));let{verificationId:e,verificationCode:i,phoneNumber:r,temporaryProof:s}=t;return!i&&!e&&!r&&!s?null:new n({verificationId:e,verificationCode:i,phoneNumber:r,temporaryProof:s})}};function n5(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function r5(n){let t=gs(Ga(n)).link,e=t?gs(Ga(t)).deep_link_id:null,i=gs(Ga(n)).deep_link_id;return(i?gs(Ga(i)).link:null)||i||e||t||n}var ec=class n{constructor(t){var e,i,r,s,o,a;let c=gs(Ga(t)),l=(e=c.apiKey)!==null&&e!==void 0?e:null,d=(i=c.oobCode)!==null&&i!==void 0?i:null,h=n5((r=c.mode)!==null&&r!==void 0?r:null);X(l&&d&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){let e=r5(t);try{return new n(e)}catch{return null}}};var oc=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,i){return tc._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){let r=ec.parseLink(i);return X(r,"argument-error"),tc._fromEmailAndCode(e,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Mn=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var ws=class extends Mn{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}},xo=class n extends ws{static credentialFromJSON(t){let e=typeof t=="string"?JSON.parse(t):t;return X("providerId"in e&&"signInMethod"in e,"argument-error"),mn._fromParams(e)}credential(t){return this._credential(Object.assign(Object.assign({},t),{nonce:t.rawNonce}))}_credential(t){return X(t.idToken||t.accessToken,"argument-error"),mn._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return n.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return n.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:s,nonce:o,providerId:a}=t;if(!i&&!r&&!e&&!s||!a)return null;try{return new n(a)._credential({idToken:e,accessToken:i,nonce:o,pendingToken:s})}catch{return null}}};var qd=(()=>{class n extends ws{constructor(){super("facebook.com")}static credential(e){return mn._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return n.credential(e.oauthAccessToken)}catch{return null}}}n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com";return n})(),Gd=(()=>{class n extends ws{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return mn._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return n.credential(i,r)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})(),Kd=(()=>{class n extends ws{constructor(){super("github.com")}static credential(e){return mn._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return n.credential(e.oauthAccessToken)}catch{return null}}}n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com";return n})(),s5="http://localhost",Co=class n extends Rn{constructor(t,e){super(t,t),this.pendingToken=e}_getIdTokenResponse(t){let e=this.buildRequest();return Er(t,e)}_linkToIdToken(t,e){let i=this.buildRequest();return i.idToken=e,Er(t,i)}_getReauthenticationResolver(t){let e=this.buildRequest();return e.autoCreate=!1,Er(t,e)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,pendingToken:s}=e;return!i||!r||!s||i!==r?null:new n(i,s)}static _create(t,e){return new n(t,e)}buildRequest(){return{requestUri:s5,returnSecureToken:!0,pendingToken:this.pendingToken}}};var o5="saml.",ic=class n extends Mn{constructor(t){X(t.startsWith(o5),"argument-error"),super(t)}static credentialFromResult(t){return n.samlCredentialFromTaggedObject(t)}static credentialFromError(t){return n.samlCredentialFromTaggedObject(t.customData||{})}static credentialFromJSON(t){let e=Co.fromJSON(t);return X(e,"argument-error"),e}static samlCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{pendingToken:e,providerId:i}=t;if(!e||!i)return null;try{return Co._create(i,e)}catch{return null}}};var Yd=(()=>{class n extends ws{constructor(){super("twitter.com")}static credential(e,i){return mn._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return n.credential(i,r)}catch{return null}}}n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com";return n})();function ST(n,t){return E(this,null,function*(){return Tr(n,"POST","/v1/accounts:signUp",Re(n,t))})}var Pn=class n{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,i,r=!1){return E(this,null,function*(){let s=yield yo._fromIdTokenResponse(t,i,r),o=nT(i);return new n({user:s,providerId:o,_tokenResponse:i,operationType:e})})}static _forOperation(t,e,i){return E(this,null,function*(){yield t._updateTokensIfNecessary(i,!0);let r=nT(i);return new n({user:t,providerId:r,_tokenResponse:i,operationType:e})})}};function nT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function Qd(n){return E(this,null,function*(){var t;if(Ce(n.app))return Promise.reject(ti(n));let e=pe(n);if(yield e._initializationPromise,!((t=e.currentUser)===null||t===void 0)&&t.isAnonymous)return new Pn({user:e.currentUser,providerId:null,operationType:"signIn"});let i=yield ST(e,{returnSecureToken:!0}),r=yield Pn._fromIdTokenResponse(e,"signIn",i,!0);return yield e._updateCurrentUser(r.user),r})}var Rv=class n extends ze{constructor(t,e,i,r){var s;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new n(t,e,i,r)}};function TT(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Rv._fromErrorAndOperation(n,s,t,i):s})}function AT(n){return new Set(n.map(({providerId:t})=>t).filter(t=>!!t))}function Xd(n,t){return E(this,null,function*(){let e=Et(n);yield rp(!0,e,t);let{providerUserInfo:i}=yield wB(e.auth,{idToken:yield e.getIdToken(),deleteProvider:[t]}),r=AT(i||[]);return e.providerData=e.providerData.filter(s=>r.has(s.providerId)),r.has("phone")||(e.phoneNumber=null),yield e.auth._persistUserIfCurrent(e),e})}function sy(n,t,e=!1){return E(this,null,function*(){let i=yield Ir(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return Pn._forOperation(n,"link",i)})}function rp(n,t,e){return E(this,null,function*(){yield Bd(t);let i=AT(t.providerData),r=n===!1?"provider-already-linked":"no-such-provider";X(i.has(e)===n,t.auth,r)})}function DT(n,t,e=!1){return E(this,null,function*(){let{auth:i}=n;if(Ce(i.app))return Promise.reject(ti(i));let r="reauthenticate";try{let s=yield Ir(n,TT(i,r,t,n),e);X(s.idToken,i,"internal-error");let o=tp(s.idToken);X(o,i,"internal-error");let{sub:a}=o;return X(n.uid===a,i,"user-mismatch"),Pn._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ne(i,"user-mismatch"),s}})}function RT(n,t,e=!1){return E(this,null,function*(){if(Ce(n.app))return Promise.reject(ti(n));let i="signIn",r=yield TT(n,i,t),s=yield Pn._fromIdTokenResponse(n,i,r);return e||(yield n._updateCurrentUser(s.user)),s})}function Es(n,t){return E(this,null,function*(){return RT(pe(n),t)})}function ac(n,t){return E(this,null,function*(){let e=Et(n);return yield rp(!1,e,t.providerId),sy(e,t)})}function cc(n,t){return E(this,null,function*(){return DT(Et(n),t)})}function a5(n,t){return E(this,null,function*(){return Tr(n,"POST","/v1/accounts:signInWithCustomToken",Re(n,t))})}function Zd(n,t){return E(this,null,function*(){if(Ce(n.app))return Promise.reject(ti(n));let e=pe(n),i=yield a5(e,{token:t,returnSecureToken:!0}),r=yield Pn._fromIdTokenResponse(e,"signIn",i);return yield e._updateCurrentUser(r.user),r})}var Eo=class{constructor(t,e){this.factorId=t,this.uid=e.mfaEnrollmentId,this.enrollmentTime=new Date(e.enrolledAt).toUTCString(),this.displayName=e.displayName}static _fromServerResponse(t,e){return"phoneInfo"in e?Mv._fromServerResponse(t,e):"totpInfo"in e?Pv._fromServerResponse(t,e):Ne(t,"internal-error")}},Mv=class n extends Eo{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,e){return new n(e)}},Pv=class n extends Eo{constructor(t){super("totp",t)}static _fromServerResponse(t,e){return new n(e)}};function sp(n,t,e){var i;X(((i=e.url)===null||i===void 0?void 0:i.length)>0,n,"invalid-continue-uri"),X(typeof e.dynamicLinkDomain>"u"||e.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),t.continueUrl=e.url,t.dynamicLinkDomain=e.dynamicLinkDomain,t.canHandleCodeInApp=e.handleCodeInApp,e.iOS&&(X(e.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),t.iOSBundleId=e.iOS.bundleId),e.android&&(X(e.android.packageName.length>0,n,"missing-android-pkg-name"),t.androidInstallApp=e.android.installApp,t.androidMinimumVersionCode=e.android.minimumVersion,t.androidPackageName=e.android.packageName)}function oy(n){return E(this,null,function*(){let t=pe(n);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})}function Jd(n,t,e){return E(this,null,function*(){let i=pe(n),r={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};e&&sp(i,r,e),yield Ud(i,r,"getOobCode",qB)})}function tu(n,t,e){return E(this,null,function*(){yield kT(Et(n),{oobCode:t,newPassword:e}).catch(i=>E(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&oy(n),i}))})}function eu(n,t){return E(this,null,function*(){yield HB(Et(n),{oobCode:t})})}function lc(n,t){return E(this,null,function*(){let e=Et(n),i=yield kT(e,{oobCode:t}),r=i.requestType;switch(X(r,e,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(i.newEmail,e,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(i.mfaInfo,e,"internal-error");default:X(i.email,e,"internal-error")}let s=null;return i.mfaInfo&&(s=Eo._fromServerResponse(pe(e),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:s},operation:r}})}function iu(n,t){return E(this,null,function*(){let{data:e}=yield lc(Et(n),t);return e.email})}function dc(n,t,e){return E(this,null,function*(){if(Ce(n.app))return Promise.reject(ti(n));let i=pe(n),o=yield Ud(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ST).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&oy(n),c}),a=yield Pn._fromIdTokenResponse(i,"signIn",o);return yield i._updateCurrentUser(a.user),a})}function uc(n,t,e){return Ce(n.app)?Promise.reject(ti(n)):Es(Et(n),oc.credential(t,e)).catch(i=>E(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&oy(n),i}))}function nu(n,t,e){return E(this,null,function*(){let i=pe(n),r={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function s(o,a){X(a.handleCodeInApp,i,"argument-error"),a&&sp(i,o,a)}s(r,e),yield Ud(i,r,"getOobCode",GB)})}function ru(n,t){let e=ec.parseLink(t);return e?.operation==="EMAIL_SIGNIN"}function su(n,t,e){return E(this,null,function*(){if(Ce(n.app))return Promise.reject(ti(n));let i=Et(n),r=oc.credentialWithLink(t,e||Fd());return X(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Es(i,r)})}function c5(n,t){return E(this,null,function*(){return Me(n,"POST","/v1/accounts:createAuthUri",Re(n,t))})}function ou(n,t){return E(this,null,function*(){let e=ty()?Fd():"http://localhost",i={identifier:t,continueUri:e},{signinMethods:r}=yield c5(Et(n),i);return r||[]})}function au(n,t){return E(this,null,function*(){let e=Et(n),r={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};t&&sp(e.auth,r,t);let{email:s}=yield $B(e.auth,r);s!==n.email&&(yield n.reload())})}function cu(n,t,e){return E(this,null,function*(){let i=Et(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield n.getIdToken(),newEmail:t};e&&sp(i.auth,s,e);let{email:o}=yield KB(i.auth,s);o!==n.email&&(yield n.reload())})}function l5(n,t){return E(this,null,function*(){return Me(n,"POST","/v1/accounts:update",t)})}function lu(i,r){return E(this,arguments,function*(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;let s=Et(n),a={idToken:yield s.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},c=yield Ir(s,l5(s.auth,a));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;let l=s.providerData.find(({providerId:d})=>d==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),yield s._updateTokensIfNecessary(c)})}function du(n,t){let e=Et(n);return Ce(e.auth.app)?Promise.reject(ti(e.auth)):MT(e,t,null)}function uu(n,t){return MT(Et(n),null,t)}function MT(n,t,e){return E(this,null,function*(){let{auth:i}=n,s={idToken:yield n.getIdToken(),returnSecureToken:!0};t&&(s.email=t),e&&(s.password=e);let o=yield Ir(n,jB(i,s));yield n._updateTokensIfNecessary(o,!0)})}function d5(n){var t,e;if(!n)return null;let{providerId:i}=n,r=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&n?.idToken){let o=(e=(t=tp(n.idToken))===null||t===void 0?void 0:t.firebase)===null||e===void 0?void 0:e.sign_in_provider;if(o){let a=o!=="anonymous"&&o!=="custom"?o:null;return new ys(s,a)}}if(!i)return null;switch(i){case"facebook.com":return new Ov(s,r);case"github.com":return new Nv(s,r);case"google.com":return new Fv(s,r);case"twitter.com":return new Lv(s,r,n.screenName||null);case"custom":case"anonymous":return new ys(s,null);default:return new ys(s,i,r)}}var ys=class{constructor(t,e,i={}){this.isNewUser=t,this.providerId=e,this.profile=i}},$f=class extends ys{constructor(t,e,i,r){super(t,e,i),this.username=r}},Ov=class extends ys{constructor(t,e){super(t,"facebook.com",e)}},Nv=class extends $f{constructor(t,e){super(t,"github.com",e,typeof e?.login=="string"?e?.login:null)}},Fv=class extends ys{constructor(t,e){super(t,"google.com",e)}},Lv=class extends $f{constructor(t,e,i){super(t,"twitter.com",e,i)}};function hu(n){let{user:t,_tokenResponse:e}=n;return t.isAnonymous&&!e?{providerId:null,isNewUser:!1,profile:null}:d5(e)}function mu(n,t,e,i){return Et(n).onIdTokenChanged(t,e,i)}function op(n,t,e){return Et(n).beforeAuthStateChanged(t,e)}function fu(n,t,e,i){return Et(n).onAuthStateChanged(t,e,i)}var qf=class n{constructor(t,e,i){this.type=t,this.credential=e,this.user=i}static _fromIdtoken(t,e){return new n("enroll",t,e)}static _fromMfaPendingCredential(t){return new n("signin",t)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(t){var e,i;if(t?.multiFactorSession){if(!((e=t.multiFactorSession)===null||e===void 0)&&e.pendingCredential)return n._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(!((i=t.multiFactorSession)===null||i===void 0)&&i.idToken)return n._fromIdtoken(t.multiFactorSession.idToken)}return null}};var Vv=class n{constructor(t,e,i){this.session=t,this.hints=e,this.signInResolver=i}static _fromError(t,e){let i=pe(t),r=e.customData._serverResponse,s=(r.mfaInfo||[]).map(a=>Eo._fromServerResponse(i,a));X(r.mfaPendingCredential,i,"internal-error");let o=qf._fromMfaPendingCredential(r.mfaPendingCredential);return new n(o,s,a=>E(this,null,function*(){let c=yield a._process(i,o);delete r.mfaInfo,delete r.mfaPendingCredential;let l=Object.assign(Object.assign({},r),{idToken:c.idToken,refreshToken:c.refreshToken});switch(e.operationType){case"signIn":let d=yield Pn._fromIdTokenResponse(i,e.operationType,l);return yield i._updateCurrentUser(d.user),d;case"reauthenticate":return X(e.user,i,"internal-error"),Pn._forOperation(e.user,e.operationType,l);default:Ne(i,"internal-error")}}))}resolveSignIn(t){return E(this,null,function*(){let e=t;return this.signInResolver(e)})}};function pu(n,t){var e;let i=Et(n),r=t;return X(t.customData.operationType,i,"argument-error"),X((e=r.customData._serverResponse)===null||e===void 0?void 0:e.mfaPendingCredential,i,"argument-error"),Vv._fromError(i,r)}function u5(n,t){return Me(n,"POST","/v2/accounts/mfaEnrollment:start",Re(n,t))}function h5(n,t){return Me(n,"POST","/v2/accounts/mfaEnrollment:finalize",Re(n,t))}function m5(n,t){return Me(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Re(n,t))}var Bv=class n{constructor(t){this.user=t,this.enrolledFactors=[],t._onReload(e=>{e.mfaInfo&&(this.enrolledFactors=e.mfaInfo.map(i=>Eo._fromServerResponse(t.auth,i)))})}static _fromUser(t){return new n(t)}getSession(){return E(this,null,function*(){return qf._fromIdtoken(yield this.user.getIdToken(),this.user)})}enroll(t,e){return E(this,null,function*(){let i=t,r=yield this.getSession(),s=yield Ir(this.user,i._process(this.user.auth,r,e));return yield this.user._updateTokensIfNecessary(s),this.user.reload()})}unenroll(t){return E(this,null,function*(){let e=typeof t=="string"?t:t.uid,i=yield this.user.getIdToken();try{let r=yield Ir(this.user,m5(this.user.auth,{idToken:i,mfaEnrollmentId:e}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==e),yield this.user._updateTokensIfNecessary(r),yield this.user.reload()}catch(r){throw r}})}},xv=new WeakMap;function gu(n){let t=Et(n);return xv.has(t)||xv.set(t,Bv._fromUser(t)),xv.get(t)}var Gf="__sak";var Kf=class{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Gf,"1"),this.storage.removeItem(Gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){let e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};function f5(){let n=_e();return iy(n)||ko(n)}var p5=1e3,g5=10,_5=(()=>{class n extends Kf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=f5()&&AB(),this.fallbackToPolling=CT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&e(i,s,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let r=e.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!i)return}let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);TB()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,g5):s()}notifyListeners(e,i){this.localCache[e]=i;let r=this.listeners[e];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},p5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,i){return E(this,null,function*(){yield Jr(n.prototype,this,"_set").call(this,e,i),this.localCache[e]=JSON.stringify(i)})}_get(e){return E(this,null,function*(){let i=yield Jr(n.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(i),i})}_remove(e){return E(this,null,function*(){yield Jr(n.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}}return n.type="LOCAL",n})(),Is=_5;var b5=(()=>{class n extends Kf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}return n.type="SESSION",n})(),fn=b5;function v5(n){return Promise.all(n.map(t=>E(this,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}})))}var y5=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let i=this.receivers.find(s=>s.isListeningto(e));if(i)return i;let r=new n(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){return E(this,null,function*(){let i=e,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let c=Array.from(a).map(d=>E(this,null,function*(){return d(i.origin,o)})),l=yield v5(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function So(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}var Uv=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,i=50){return E(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=So("",20);r.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){let m=h;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function He(){return window}function w5(n){He().location.href=n}function ay(){return typeof He().WorkerGlobalScope<"u"&&typeof He().importScripts=="function"}function x5(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function C5(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function E5(){return ay()?self:null}var PT="firebaseLocalStorageDb",I5=1,Yf="firebaseLocalStorage",OT="fbase_key",Io=class{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}};function ap(n,t){return n.transaction([Yf],t?"readwrite":"readonly").objectStore(Yf)}function k5(){let n=indexedDB.deleteDatabase(PT);return new Io(n).toPromise()}function jv(){let n=indexedDB.open(PT,I5);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(Yf,{keyPath:OT})}catch(r){e(r)}}),n.addEventListener("success",()=>E(this,null,function*(){let i=n.result;i.objectStoreNames.contains(Yf)?t(i):(i.close(),yield k5(),t(yield jv()))}))})}function rT(n,t,e){return E(this,null,function*(){let i=ap(n,!0).put({[OT]:t,value:e});return new Io(i).toPromise()})}function S5(n,t){return E(this,null,function*(){let e=ap(n,!1).get(t),i=yield new Io(e).toPromise();return i===void 0?null:i.value})}function sT(n,t){let e=ap(n,!0).delete(t);return new Io(e).toPromise()}var T5=800,A5=3,D5=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield jv(),this.db)})}_withRetries(e){return E(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield e(r)}catch(r){if(i++>A5)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return ay()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=y5._getInstance(E5()),this.receiver._subscribe("keyChanged",(e,i)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(e,i)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var e,i;if(this.activeServiceWorker=yield x5(),!this.activeServiceWorker)return;this.sender=new Uv(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||C5()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let e=yield jv();return yield rT(e,Gf,"1"),yield sT(e,Gf),!0}catch{}return!1})}_withPendingWrite(e){return E(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,i){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>rT(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)}))})}_get(e){return E(this,null,function*(){let i=yield this._withRetries(r=>S5(r,e));return this.localCache[e]=i,i})}_remove(e){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>sT(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return E(this,null,function*(){let e=yield this._withRetries(s=>{let o=ap(s,!1).getAll();return new Io(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(e.length!==0)for(let{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(e,i){this.localCache[e]=i;let r=this.listeners[e];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),T5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Ar=D5;function R5(n,t){return Me(n,"POST","/v2/accounts/mfaSignIn:start",Re(n,t))}function M5(n,t){return Me(n,"POST","/v2/accounts/mfaSignIn:finalize",Re(n,t))}var P5=500,O5=6e4,Vf=1e12,zv=class{constructor(t){this.auth=t,this.counter=Vf,this._widgets=new Map}render(t,e){let i=this.counter;return this._widgets.set(i,new Hv(t,this.auth.name,e||{})),this.counter++,i}reset(t){var e;let i=t||Vf;(e=this._widgets.get(i))===null||e===void 0||e.delete(),this._widgets.delete(i)}getResponse(t){var e;let i=t||Vf;return((e=this._widgets.get(i))===null||e===void 0?void 0:e.getResponse())||""}execute(t){return E(this,null,function*(){var e;let i=t||Vf;return(e=this._widgets.get(i))===null||e===void 0||e.execute(),""})}},Hv=class{constructor(t,e,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let r=typeof t=="string"?document.getElementById(t):t;X(r,"argument-error",{appName:e}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=N5(50);let{callback:t,"expired-callback":e}=this.params;if(t)try{t(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,e)try{e()}catch{}this.isVisible&&this.execute()},O5)},P5))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function N5(n){let t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<n;i++)t.push(e.charAt(Math.floor(Math.random()*e.length)));return t.join("")}var Cv=ET("rcb"),F5=new vo(3e4,6e4),Wv=class{constructor(){var t;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((t=He().grecaptcha)===null||t===void 0)&&t.render)}load(t,e=""){return X(L5(e),t,"argument-error"),this.shouldResolveImmediately(e)&&QS(He().grecaptcha)?Promise.resolve(He().grecaptcha):new Promise((i,r)=>{let s=He().setTimeout(()=>{r(We(t,"network-request-failed"))},F5.get());He()[Cv]=()=>{He().clearTimeout(s),delete He()[Cv];let a=He().grecaptcha;if(!a||!QS(a)){r(We(t,"internal-error"));return}let c=a.render;a.render=(l,d)=>{let h=c(l,d);return this.counter++,h},this.hostLanguage=e,i(a)};let o=`${PB()}?${uo({onload:Cv,render:"explicit",hl:e})}`;ry(o).catch(()=>{clearTimeout(s),r(We(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){var e;return!!(!((e=He().grecaptcha)===null||e===void 0)&&e.render)&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function L5(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}var $v=class{load(t){return E(this,null,function*(){return new zv(t)})}clearedOneInstance(){}};var NT="recaptcha",V5={theme:"light",type:"image"},xs=class{constructor(t,e,i=Object.assign({},V5)){this.parameters=i,this.type=NT,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pe(t),this.isInvisible=this.parameters.size==="invisible",X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let r=typeof e=="string"?document.getElementById(e):e;X(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $v:new Wv,this.validateStartingState()}verify(){return E(this,null,function*(){this.assertNotDestroyed();let t=yield this.render(),e=this.getAssertedRecaptcha(),i=e.getResponse(t);return i||new Promise(r=>{let s=o=>{o&&(this.tokenChangeListeners.delete(s),r(o))};this.tokenChangeListeners.add(s),this.isInvisible&&e.execute(t)})})}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return e=>{if(this.tokenChangeListeners.forEach(i=>i(e)),typeof t=="function")t(e);else if(typeof t=="string"){let i=He()[t];typeof i=="function"&&i(e)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return E(this,null,function*(){if(yield this.init(),!this.widgetId){let t=this.container;if(!this.isInvisible){let e=document.createElement("div");t.appendChild(e),t=e}this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)}return this.widgetId})}init(){return E(this,null,function*(){X(ty()&&!ay(),this.auth,"internal-error"),yield B5(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let t=yield bB(this.auth);X(t,this.auth,"internal-error"),this.parameters.sitekey=t})}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function B5(){let n=null;return new Promise(t=>{if(document.readyState==="complete"){t();return}n=()=>t(),window.addEventListener("load",n)}).catch(t=>{throw n&&window.removeEventListener("load",n),t})}var jd=class{constructor(t,e){this.verificationId=t,this.onConfirmation=e}confirm(t){let e=wo._fromVerification(this.verificationId,t);return this.onConfirmation(e)}};function hc(n,t,e){return E(this,null,function*(){if(Ce(n.app))return Promise.reject(ti(n));let i=pe(n),r=yield cp(i,t,Et(e));return new jd(r,s=>Es(i,s))})}function _u(n,t,e){return E(this,null,function*(){let i=Et(n);yield rp(!1,i,"phone");let r=yield cp(i.auth,t,Et(e));return new jd(r,s=>ac(i,s))})}function bu(n,t,e){return E(this,null,function*(){let i=Et(n);if(Ce(i.auth.app))return Promise.reject(ti(i.auth));let r=yield cp(i.auth,t,Et(e));return new jd(r,s=>cc(i,s))})}function cp(n,t,e){return E(this,null,function*(){var i;let r=yield e.verify();try{X(typeof r=="string",n,"argument-error"),X(e.type===NT,n,"argument-error");let s;if(typeof t=="string"?s={phoneNumber:t}:s=t,"session"in s){let o=s.session;if("phoneNumber"in s)return X(o.type==="enroll",n,"internal-error"),(yield u5(n,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{X(o.type==="signin",n,"internal-error");let a=((i=s.multiFactorHint)===null||i===void 0?void 0:i.uid)||s.multiFactorUid;return X(a,n,"missing-multi-factor-info"),(yield R5(n,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}else{let{sessionInfo:o}=yield ZB(n,{phoneNumber:s.phoneNumber,recaptchaToken:r});return o}}finally{e._reset()}})}function vu(n,t){return E(this,null,function*(){let e=Et(n);if(Ce(e.auth.app))return Promise.reject(ti(e.auth));yield sy(e,t)})}var ks=(()=>{class n{constructor(e){this.providerId=n.PROVIDER_ID,this.auth=pe(e)}verifyPhoneNumber(e,i){return cp(this.auth,e,Et(i))}static credential(e,i){return wo._fromVerification(e,i)}static credentialFromResult(e){let i=e;return n.credentialFromTaggedObject(i)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:i,temporaryProof:r}=e;return i&&r?wo._fromTokenResponse(i,r):null}}n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone";return n})();function To(n,t){return t?bi(t):(X(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var zd=class extends Rn{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Er(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Er(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Er(t,this._buildIdpRequest())}_buildIdpRequest(t){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}};function U5(n){return RT(n.auth,new zd(n),n.bypassAuthState)}function j5(n){let{auth:t,user:e}=n;return X(e,t,"internal-error"),DT(e,new zd(n),n.bypassAuthState)}function z5(n){return E(this,null,function*(){let{auth:t,user:e}=n;return X(e,t,"internal-error"),sy(e,new zd(n),n.bypassAuthState)})}var Qf=class{constructor(t,e,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((t,e)=>E(this,null,function*(){this.pendingPromise={resolve:t,reject:e};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(t){return E(this,null,function*(){let{urlResponse:e,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:e,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return U5;case"linkViaPopup":case"linkViaRedirect":return z5;case"reauthViaPopup":case"reauthViaRedirect":return j5;default:Ne(this.auth,"internal-error")}}resolve(t){hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var H5=new vo(2e3,1e4);function yu(n,t,e){return E(this,null,function*(){if(Ce(n.app))return Promise.reject(We(n,"operation-not-supported-in-this-environment"));let i=pe(n);nc(n,t,Mn);let r=To(i,e);return new cy(i,"signInViaPopup",t,r).executeNotNull()})}function wu(n,t,e){return E(this,null,function*(){let i=Et(n);if(Ce(i.auth.app))return Promise.reject(We(i.auth,"operation-not-supported-in-this-environment"));nc(i.auth,t,Mn);let r=To(i.auth,e);return new cy(i.auth,"reauthViaPopup",t,r,i).executeNotNull()})}function xu(n,t,e){return E(this,null,function*(){let i=Et(n);nc(i.auth,t,Mn);let r=To(i.auth,e);return new cy(i.auth,"linkViaPopup",t,r,i).executeNotNull()})}var cy=(()=>{class n extends Qf{constructor(e,i,r,s,o){super(e,i,s,o),this.provider=r,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return E(this,null,function*(){let e=yield this.execute();return X(e,this.auth,"internal-error"),e})}onExecution(){return E(this,null,function*(){hn(this.filter.length===1,"Popup operations only handle one event");let e=So();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(We(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(We(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let e=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(We(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,H5.get())};e()}}n.currentPopupAction=null;return n})(),W5="pendingRedirect",Nd=new Map,qv=class n extends Qf{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}execute(){return E(this,null,function*(){let t=Nd.get(this.auth._key());if(!t){try{let i=(yield $5(this.resolver,this.auth))?yield Jr(n.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Nd.set(this.auth._key(),t)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return E(this,null,function*(){if(t.type==="signInViaRedirect")return Jr(n.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let e=yield this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,Jr(n.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function $5(n,t){return E(this,null,function*(){let e=VT(t),i=LT(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(e))==="true";return yield i._remove(e),r})}function ly(n,t){return E(this,null,function*(){return LT(n)._set(VT(t),"true")})}function FT(){Nd.clear()}function mc(n,t){Nd.set(n._key(),t)}function LT(n){return bi(n._redirectPersistence)}function VT(n){return Xn(W5,n.config.apiKey,n.name)}function Cu(n,t,e){return q5(n,t,e)}function q5(n,t,e){return E(this,null,function*(){if(Ce(n.app))return Promise.reject(ti(n));let i=pe(n);nc(n,t,Mn),yield i._initializationPromise;let r=To(i,e);return yield ly(r,i),r._openRedirect(i,t,"signInViaRedirect")})}function Eu(n,t,e){return G5(n,t,e)}function G5(n,t,e){return E(this,null,function*(){let i=Et(n);if(nc(i.auth,t,Mn),Ce(i.auth.app))return Promise.reject(ti(i.auth));yield i.auth._initializationPromise;let r=To(i.auth,e);yield ly(r,i.auth);let s=yield BT(i);return r._openRedirect(i.auth,t,"reauthViaRedirect",s)})}function Iu(n,t,e){return K5(n,t,e)}function K5(n,t,e){return E(this,null,function*(){let i=Et(n);nc(i.auth,t,Mn),yield i.auth._initializationPromise;let r=To(i.auth,e);yield rp(!1,i,t.providerId),yield ly(r,i.auth);let s=yield BT(i);return r._openRedirect(i.auth,t,"linkViaRedirect",s)})}function ku(n,t){return E(this,null,function*(){return yield pe(n)._initializationPromise,Ao(n,t,!1)})}function Ao(n,t,e=!1){return E(this,null,function*(){if(Ce(n.app))return Promise.reject(ti(n));let i=pe(n),r=To(i,t),o=yield new qv(i,r,e).execute();return o&&!e&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,t)),o})}function BT(n){return E(this,null,function*(){let t=So(`${n.uid}:::`);return n._redirectEventId=t,yield n.auth._setRedirectUser(n),yield n.auth._persistUserIfCurrent(n),t})}var Y5=10*60*1e3,Hd=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Q5(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!UT(t)){let r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(We(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){let i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Y5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oT(t))}saveEventToCache(t){this.cachedEventUids.add(oT(t)),this.lastProcessedEventTime=Date.now()}};function oT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function UT({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function Q5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UT(n);default:return!1}}function dy(e){return E(this,arguments,function*(n,t={}){return Me(n,"GET","/v1/projects",t)})}var X5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z5=/^https?/;function J5(n){return E(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:t}=yield dy(n);for(let e of t)try{if(tU(e))return}catch{}Ne(n,"unauthorized-domain")})}function tU(n){let t=Fd(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===i}if(!Z5.test(e))return!1;if(X5.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var eU=new vo(3e4,6e4);function aT(){let n=He().___jsl;if(n?.H){for(let t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function iU(n){return new Promise((t,e)=>{var i,r,s;function o(){aT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{aT(),e(We(n,"network-request-failed"))},timeout:eU.get()})}if(!((r=(i=He().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=He().gapi)===null||s===void 0)&&s.load)o();else{let a=ET("iframefcb");return He()[a]=()=>{gapi.load?o():e(We(n,"network-request-failed"))},ry(`${NB()}?onload=${a}`).catch(c=>e(c))}}).catch(t=>{throw Uf=null,t})}var Uf=null;function nU(n){return Uf=Uf||iU(n),Uf}var rU=new vo(5e3,15e3),sU="__/auth/iframe",oU="emulator/auth/iframe",aU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lU(n){let t=n.config;X(t.authDomain,n,"auth-domain-config-required");let e=t.emulator?ey(t,oU):`https://${n.config.authDomain}/${sU}`,i={apiKey:t.apiKey,appName:n.name,v:Dn},r=cU.get(n.config.apiHost);r&&(i.eid=r);let s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${e}?${uo(i).slice(1)}`}function dU(n){return E(this,null,function*(){let t=yield nU(n),e=He().gapi;return X(e,n,"internal-error"),t.open({where:document.body,url:lU(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aU,dontclear:!0},i=>new Promise((r,s)=>E(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=We(n,"network-request-failed"),a=He().setTimeout(()=>{s(o)},rU.get());function c(){He().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{s(o)})})))})}var uU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hU=500,mU=600,fU="_blank",pU="http://localhost",Wd=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function gU(n,t,e,i=hU,r=mU){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},uU),{width:i.toString(),height:r.toString(),top:s,left:o}),l=_e().toLowerCase();e&&(a=bT(l)?fU:e),_T(l)&&(t=t||pU,c.scrollbars="yes");let d=Object.entries(c).reduce((m,[p,_])=>`${m}${p}=${_},`,"");if(SB(l)&&a!=="_self")return _U(t||"",a),new Wd(null);let h=window.open(t||"",a,d);X(h,n,"popup-blocked");try{h.focus()}catch{}return new Wd(h)}function _U(n,t){let e=document.createElement("a");e.href=n,e.target=t;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}var bU="__/auth/handler",vU="emulator/auth/handler",yU=encodeURIComponent("fac");function Xf(n,t,e,i,r,s){return E(this,null,function*(){X(n.config.authDomain,n,"auth-domain-config-required"),X(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Dn,eventId:r};if(t instanceof Mn){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",AS(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(t instanceof ws){let d=t.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),l=c?`#${yU}=${encodeURIComponent(c)}`:"";return`${wU(n)}?${uo(a).slice(1)}${l}`})}function wU({config:n}){return n.emulator?ey(n,vU):`https://${n.authDomain}/${bU}`}var Ev="webStorageSupport",Gv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fn,this._completeRedirectFn=Ao,this._overrideRedirectResult=mc}_openPopup(t,e,i,r){return E(this,null,function*(){var s;hn((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Xf(t,e,i,Fd(),r);return gU(t,o,So())})}_openRedirect(t,e,i,r){return E(this,null,function*(){yield this._originValidation(t);let s=yield Xf(t,e,i,Fd(),r);return w5(s),new Promise(()=>{})})}_initialize(t){let e=t._key();if(this.eventManagers[e]){let{manager:r,promise:s}=this.eventManagers[e];return r?Promise.resolve(r):(hn(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}initAndGetManager(t){return E(this,null,function*(){let e=yield dU(t),i=new Hd(t);return e.register("authEvent",r=>(X(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i})}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ev,{type:Ev},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[Ev];o!==void 0&&e(!!o),Ne(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=J5(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return CT()||iy()||ko()}},Su=Gv,Kv=class{constructor(t){this.factorId=t}_process(t,e,i){switch(e.type){case"enroll":return this._finalizeEnroll(t,e.credential,i);case"signin":return this._finalizeSignIn(t,e.credential);default:return Qn("unexpected MultiFactorSessionType")}}},Yv=class n extends Kv{constructor(t){super("phone"),this.credential=t}static _fromCredential(t){return new n(t)}_finalizeEnroll(t,e,i){return h5(t,{idToken:e,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(t,e){return M5(t,{mfaPendingCredential:e,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},lp=(()=>{class n{constructor(){}static assertion(e){return Yv._fromCredential(e)}}return n.FACTOR_ID="phone",n})();var cT="@firebase/auth",lT="1.7.4";var Qv=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function xU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CU(n){An(new gi("auth",(t,{options:e})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ny(n)},l=new Hf(i,r,s,c);return VB(l,e),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),An(new gi("auth-internal",t=>{let e=pe(t.getProvider("auth").getImmediate());return(i=>new Qv(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),fe(cT,lT,xU(n)),fe(cT,lT,"esm2017")}var EU=5*60,IU=iv("authIdTokenMaxAge")||EU,dT=null,kU=n=>t=>E(void 0,null,function*(){let e=t&&(yield t.getIdTokenResult()),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>IU)return;let r=e?.token;dT!==r&&(dT=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function dp(n=po()){let t=fo(n,"auth");if(t.isInitialized())return t.getImmediate();let e=ip(n,{popupRedirectResolver:Su,persistence:[Ar,Is,fn]}),i=iv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=kU(s.toString());op(e,o,()=>o(e.currentUser)),mu(e,a=>o(a))}}let r=tv("auth");return r&&sc(e,`http://${r}`),e}function SU(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}MB({loadJS(n){return new Promise((t,e)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{let s=We("internal-error");s.customData=r,e(s)},i.type="text/javascript",i.charset="UTF-8",SU().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CU("Browser");function QT(n){return new hi(function(t){var e=fu(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:e}})}var XT="auth",Do=class{constructor(t){return t}},Tu=class{constructor(){return Rd(XT)}};var hy=new ut("angularfire2.auth-instances");function OU(n,t){let e=Ff(XT,n,t);return e&&new Do(e)}function NU(n){return(t,e)=>{let i=t.runOutsideAngular(()=>n(e));return new Do(i)}}var FU={provide:Tu,deps:[[new Ti,hy]]},LU={provide:Do,useFactory:OU,deps:[[new Ti,hy],Cr]};function ZT(n,...t){return fe("angularfire",_o.full,"auth"),Ki([LU,FU,{provide:hy,useFactory:NU(n),multi:!0,deps:[mt,Ze,Ja,bo,[new Ti,Za],...t]}])}var JT=_i(QT,!0);var tA=_i(dc,!0);var up=_i(dp,!0);var eA=_i(uc,!0);var iA=_i(hc,!0);var nA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rA={};var Ss,my;(function(){var n;function t(k,x){function I(){}I.prototype=x.prototype,k.D=x.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(D,M,O){for(var A=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)A[ye-2]=arguments[ye];return x.prototype[M].apply(D,A)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(k,x,I){I||(I=0);var D=Array(16);if(typeof x=="string")for(var M=0;16>M;++M)D[M]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(M=0;16>M;++M)D[M]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=k.g[0],I=k.g[1],M=k.g[2];var O=k.g[3],A=x+(O^I&(M^O))+D[0]+3614090360&4294967295;x=I+(A<<7&4294967295|A>>>25),A=O+(M^x&(I^M))+D[1]+3905402710&4294967295,O=x+(A<<12&4294967295|A>>>20),A=M+(I^O&(x^I))+D[2]+606105819&4294967295,M=O+(A<<17&4294967295|A>>>15),A=I+(x^M&(O^x))+D[3]+3250441966&4294967295,I=M+(A<<22&4294967295|A>>>10),A=x+(O^I&(M^O))+D[4]+4118548399&4294967295,x=I+(A<<7&4294967295|A>>>25),A=O+(M^x&(I^M))+D[5]+1200080426&4294967295,O=x+(A<<12&4294967295|A>>>20),A=M+(I^O&(x^I))+D[6]+2821735955&4294967295,M=O+(A<<17&4294967295|A>>>15),A=I+(x^M&(O^x))+D[7]+4249261313&4294967295,I=M+(A<<22&4294967295|A>>>10),A=x+(O^I&(M^O))+D[8]+1770035416&4294967295,x=I+(A<<7&4294967295|A>>>25),A=O+(M^x&(I^M))+D[9]+2336552879&4294967295,O=x+(A<<12&4294967295|A>>>20),A=M+(I^O&(x^I))+D[10]+4294925233&4294967295,M=O+(A<<17&4294967295|A>>>15),A=I+(x^M&(O^x))+D[11]+2304563134&4294967295,I=M+(A<<22&4294967295|A>>>10),A=x+(O^I&(M^O))+D[12]+1804603682&4294967295,x=I+(A<<7&4294967295|A>>>25),A=O+(M^x&(I^M))+D[13]+4254626195&4294967295,O=x+(A<<12&4294967295|A>>>20),A=M+(I^O&(x^I))+D[14]+2792965006&4294967295,M=O+(A<<17&4294967295|A>>>15),A=I+(x^M&(O^x))+D[15]+1236535329&4294967295,I=M+(A<<22&4294967295|A>>>10),A=x+(M^O&(I^M))+D[1]+4129170786&4294967295,x=I+(A<<5&4294967295|A>>>27),A=O+(I^M&(x^I))+D[6]+3225465664&4294967295,O=x+(A<<9&4294967295|A>>>23),A=M+(x^I&(O^x))+D[11]+643717713&4294967295,M=O+(A<<14&4294967295|A>>>18),A=I+(O^x&(M^O))+D[0]+3921069994&4294967295,I=M+(A<<20&4294967295|A>>>12),A=x+(M^O&(I^M))+D[5]+3593408605&4294967295,x=I+(A<<5&4294967295|A>>>27),A=O+(I^M&(x^I))+D[10]+38016083&4294967295,O=x+(A<<9&4294967295|A>>>23),A=M+(x^I&(O^x))+D[15]+3634488961&4294967295,M=O+(A<<14&4294967295|A>>>18),A=I+(O^x&(M^O))+D[4]+3889429448&4294967295,I=M+(A<<20&4294967295|A>>>12),A=x+(M^O&(I^M))+D[9]+568446438&4294967295,x=I+(A<<5&4294967295|A>>>27),A=O+(I^M&(x^I))+D[14]+3275163606&4294967295,O=x+(A<<9&4294967295|A>>>23),A=M+(x^I&(O^x))+D[3]+4107603335&4294967295,M=O+(A<<14&4294967295|A>>>18),A=I+(O^x&(M^O))+D[8]+1163531501&4294967295,I=M+(A<<20&4294967295|A>>>12),A=x+(M^O&(I^M))+D[13]+2850285829&4294967295,x=I+(A<<5&4294967295|A>>>27),A=O+(I^M&(x^I))+D[2]+4243563512&4294967295,O=x+(A<<9&4294967295|A>>>23),A=M+(x^I&(O^x))+D[7]+1735328473&4294967295,M=O+(A<<14&4294967295|A>>>18),A=I+(O^x&(M^O))+D[12]+2368359562&4294967295,I=M+(A<<20&4294967295|A>>>12),A=x+(I^M^O)+D[5]+4294588738&4294967295,x=I+(A<<4&4294967295|A>>>28),A=O+(x^I^M)+D[8]+2272392833&4294967295,O=x+(A<<11&4294967295|A>>>21),A=M+(O^x^I)+D[11]+1839030562&4294967295,M=O+(A<<16&4294967295|A>>>16),A=I+(M^O^x)+D[14]+4259657740&4294967295,I=M+(A<<23&4294967295|A>>>9),A=x+(I^M^O)+D[1]+2763975236&4294967295,x=I+(A<<4&4294967295|A>>>28),A=O+(x^I^M)+D[4]+1272893353&4294967295,O=x+(A<<11&4294967295|A>>>21),A=M+(O^x^I)+D[7]+4139469664&4294967295,M=O+(A<<16&4294967295|A>>>16),A=I+(M^O^x)+D[10]+3200236656&4294967295,I=M+(A<<23&4294967295|A>>>9),A=x+(I^M^O)+D[13]+681279174&4294967295,x=I+(A<<4&4294967295|A>>>28),A=O+(x^I^M)+D[0]+3936430074&4294967295,O=x+(A<<11&4294967295|A>>>21),A=M+(O^x^I)+D[3]+3572445317&4294967295,M=O+(A<<16&4294967295|A>>>16),A=I+(M^O^x)+D[6]+76029189&4294967295,I=M+(A<<23&4294967295|A>>>9),A=x+(I^M^O)+D[9]+3654602809&4294967295,x=I+(A<<4&4294967295|A>>>28),A=O+(x^I^M)+D[12]+3873151461&4294967295,O=x+(A<<11&4294967295|A>>>21),A=M+(O^x^I)+D[15]+530742520&4294967295,M=O+(A<<16&4294967295|A>>>16),A=I+(M^O^x)+D[2]+3299628645&4294967295,I=M+(A<<23&4294967295|A>>>9),A=x+(M^(I|~O))+D[0]+4096336452&4294967295,x=I+(A<<6&4294967295|A>>>26),A=O+(I^(x|~M))+D[7]+1126891415&4294967295,O=x+(A<<10&4294967295|A>>>22),A=M+(x^(O|~I))+D[14]+2878612391&4294967295,M=O+(A<<15&4294967295|A>>>17),A=I+(O^(M|~x))+D[5]+4237533241&4294967295,I=M+(A<<21&4294967295|A>>>11),A=x+(M^(I|~O))+D[12]+1700485571&4294967295,x=I+(A<<6&4294967295|A>>>26),A=O+(I^(x|~M))+D[3]+2399980690&4294967295,O=x+(A<<10&4294967295|A>>>22),A=M+(x^(O|~I))+D[10]+4293915773&4294967295,M=O+(A<<15&4294967295|A>>>17),A=I+(O^(M|~x))+D[1]+2240044497&4294967295,I=M+(A<<21&4294967295|A>>>11),A=x+(M^(I|~O))+D[8]+1873313359&4294967295,x=I+(A<<6&4294967295|A>>>26),A=O+(I^(x|~M))+D[15]+4264355552&4294967295,O=x+(A<<10&4294967295|A>>>22),A=M+(x^(O|~I))+D[6]+2734768916&4294967295,M=O+(A<<15&4294967295|A>>>17),A=I+(O^(M|~x))+D[13]+1309151649&4294967295,I=M+(A<<21&4294967295|A>>>11),A=x+(M^(I|~O))+D[4]+4149444226&4294967295,x=I+(A<<6&4294967295|A>>>26),A=O+(I^(x|~M))+D[11]+3174756917&4294967295,O=x+(A<<10&4294967295|A>>>22),A=M+(x^(O|~I))+D[2]+718787259&4294967295,M=O+(A<<15&4294967295|A>>>17),A=I+(O^(M|~x))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+x&4294967295,k.g[1]=k.g[1]+(M+(A<<21&4294967295|A>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+O&4294967295}i.prototype.u=function(k,x){x===void 0&&(x=k.length);for(var I=x-this.blockSize,D=this.B,M=this.h,O=0;O<x;){if(M==0)for(;O<=I;)r(this,k,O),O+=this.blockSize;if(typeof k=="string"){for(;O<x;)if(D[M++]=k.charCodeAt(O++),M==this.blockSize){r(this,D),M=0;break}}else for(;O<x;)if(D[M++]=k[O++],M==this.blockSize){r(this,D),M=0;break}}this.h=M,this.o+=x},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var x=1;x<k.length-8;++x)k[x]=0;var I=8*this.o;for(x=k.length-8;x<k.length;++x)k[x]=I&255,I/=256;for(this.u(k),k=Array(16),x=I=0;4>x;++x)for(var D=0;32>D;D+=8)k[I++]=this.g[x]>>>D&255;return k};function s(k,x){var I=a;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=x(k)}function o(k,x){this.h=x;for(var I=[],D=!0,M=k.length-1;0<=M;M--){var O=k[M]|0;D&&O==x||(I[M]=O,D=!1)}this.g=I}var a={};function c(k){return-128<=k&&128>k?s(k,function(x){return new o([x|0],0>x?-1:0)}):new o([k|0],0>k?-1:0)}function l(k){if(isNaN(k)||!isFinite(k))return h;if(0>k)return v(l(-k));for(var x=[],I=1,D=0;k>=I;D++)x[D]=k/I|0,I*=4294967296;return new o(x,0)}function d(k,x){if(k.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(k.charAt(0)=="-")return v(d(k.substring(1),x));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(x,8)),D=h,M=0;M<k.length;M+=8){var O=Math.min(8,k.length-M),A=parseInt(k.substring(M,M+O),x);8>O?(O=l(Math.pow(x,O)),D=D.j(O).add(l(A))):(D=D.j(I),D=D.add(l(A)))}return D}var h=c(0),m=c(1),p=c(16777216);n=o.prototype,n.m=function(){if(b(this))return-v(this).m();for(var k=0,x=1,I=0;I<this.g.length;I++){var D=this.i(I);k+=(0<=D?D:4294967296+D)*x,x*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(_(this))return"0";if(b(this))return"-"+v(this).toString(k);for(var x=l(Math.pow(k,6)),I=this,D="";;){var M=j(I,x).g;I=R(I,M.j(x));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=M,_(I))return O+D;for(;6>O.length;)O="0"+O;D=O+D}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function _(k){if(k.h!=0)return!1;for(var x=0;x<k.g.length;x++)if(k.g[x]!=0)return!1;return!0}function b(k){return k.h==-1}n.l=function(k){return k=R(this,k),b(k)?-1:_(k)?0:1};function v(k){for(var x=k.g.length,I=[],D=0;D<x;D++)I[D]=~k.g[D];return new o(I,~k.h).add(m)}n.abs=function(){return b(this)?v(this):this},n.add=function(k){for(var x=Math.max(this.g.length,k.g.length),I=[],D=0,M=0;M<=x;M++){var O=D+(this.i(M)&65535)+(k.i(M)&65535),A=(O>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);D=A>>>16,O&=65535,A&=65535,I[M]=A<<16|O}return new o(I,I[I.length-1]&-2147483648?-1:0)};function R(k,x){return k.add(v(x))}n.j=function(k){if(_(this)||_(k))return h;if(b(this))return b(k)?v(this).j(v(k)):v(v(this).j(k));if(b(k))return v(this.j(v(k)));if(0>this.l(p)&&0>k.l(p))return l(this.m()*k.m());for(var x=this.g.length+k.g.length,I=[],D=0;D<2*x;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<k.g.length;M++){var O=this.i(D)>>>16,A=this.i(D)&65535,ye=k.i(M)>>>16,Vt=k.i(M)&65535;I[2*D+2*M]+=A*Vt,P(I,2*D+2*M),I[2*D+2*M+1]+=O*Vt,P(I,2*D+2*M+1),I[2*D+2*M+1]+=A*ye,P(I,2*D+2*M+1),I[2*D+2*M+2]+=O*ye,P(I,2*D+2*M+2)}for(D=0;D<x;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=x;D<2*x;D++)I[D]=0;return new o(I,0)};function P(k,x){for(;(k[x]&65535)!=k[x];)k[x+1]+=k[x]>>>16,k[x]&=65535,x++}function V(k,x){this.g=k,this.h=x}function j(k,x){if(_(x))throw Error("division by zero");if(_(k))return new V(h,h);if(b(k))return x=j(v(k),x),new V(v(x.g),v(x.h));if(b(x))return x=j(k,v(x)),new V(v(x.g),x.h);if(30<k.g.length){if(b(k)||b(x))throw Error("slowDivide_ only works with positive integers.");for(var I=m,D=x;0>=D.l(k);)I=z(I),D=z(D);var M=H(I,1),O=H(D,1);for(D=H(D,2),I=H(I,2);!_(D);){var A=O.add(D);0>=A.l(k)&&(M=M.add(I),O=A),D=H(D,1),I=H(I,1)}return x=R(k,M.j(x)),new V(M,x)}for(M=h;0<=k.l(x);){for(I=Math.max(1,Math.floor(k.m()/x.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),O=l(I),A=O.j(x);b(A)||0<A.l(k);)I-=D,O=l(I),A=O.j(x);_(O)&&(O=m),M=M.add(O),k=R(k,A)}return new V(M,k)}n.A=function(k){return j(this,k).h},n.and=function(k){for(var x=Math.max(this.g.length,k.g.length),I=[],D=0;D<x;D++)I[D]=this.i(D)&k.i(D);return new o(I,this.h&k.h)},n.or=function(k){for(var x=Math.max(this.g.length,k.g.length),I=[],D=0;D<x;D++)I[D]=this.i(D)|k.i(D);return new o(I,this.h|k.h)},n.xor=function(k){for(var x=Math.max(this.g.length,k.g.length),I=[],D=0;D<x;D++)I[D]=this.i(D)^k.i(D);return new o(I,this.h^k.h)};function z(k){for(var x=k.g.length+1,I=[],D=0;D<x;D++)I[D]=k.i(D)<<1|k.i(D-1)>>>31;return new o(I,k.h)}function H(k,x){var I=x>>5;x%=32;for(var D=k.g.length-I,M=[],O=0;O<D;O++)M[O]=0<x?k.i(O+I)>>>x|k.i(O+I+1)<<32-x:k.i(O+I);return new o(M,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,my=rA.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=d,Ss=rA.Integer=o}).apply(typeof nA<"u"?nA:typeof self<"u"?self:typeof window<"u"?window:{});var hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dr={};var fy,py,fc,gy,Au,mp,_y,by,vy;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,g){return u==Array.prototype||u==Object.prototype||(u[f]=g.value),u};function e(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof hp=="object"&&hp];for(var f=0;f<u.length;++f){var g=u[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var i=e(this);function r(u,f){if(f)t:{var g=i;u=u.split(".");for(var C=0;C<u.length-1;C++){var L=u[C];if(!(L in g))break t;g=g[L]}u=u[u.length-1],C=g[u],f=f(C),f!=C&&f!=null&&t(g,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var g=0,C=!1,L={next:function(){if(!C&&g<u.length){var W=g++;return{value:f(W,u[W]),done:!1}}return C=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}r("Array.prototype.values",function(u){return u||function(){return s(this,function(f,g){return g})}});var o=o||{},a=this||self;function c(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function l(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function d(u,f,g){return u.call.apply(u.bind,arguments)}function h(u,f,g){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,C),u.apply(f,L)}}return function(){return u.apply(f,arguments)}}function m(u,f,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,m.apply(null,arguments)}function p(u,f){var g=Array.prototype.slice.call(arguments,1);return function(){var C=g.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function _(u,f){function g(){}g.prototype=f.prototype,u.aa=f.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(C,L,W){for(var rt=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)rt[ee-2]=arguments[ee];return f.prototype[L].apply(C,rt)}}function b(u){let f=u.length;if(0<f){let g=Array(f);for(let C=0;C<f;C++)g[C]=u[C];return g}return[]}function v(u,f){for(let g=1;g<arguments.length;g++){let C=arguments[g];if(c(C)){let L=u.length||0,W=C.length||0;u.length=L+W;for(let rt=0;rt<W;rt++)u[L+rt]=C[rt]}else u.push(C)}}class R{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function P(u){return/^[\s\xa0]*$/.test(u)}function V(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function j(u){return j[" "](u),u}j[" "]=function(){};var z=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function H(u,f,g){for(let C in u)f.call(g,u[C],C,u)}function k(u,f){for(let g in u)f.call(void 0,u[g],g,u)}function x(u){let f={};for(let g in u)f[g]=u[g];return f}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,f){let g,C;for(let L=1;L<arguments.length;L++){C=arguments[L];for(g in C)u[g]=C[g];for(let W=0;W<I.length;W++)g=I[W],Object.prototype.hasOwnProperty.call(C,g)&&(u[g]=C[g])}}function M(u){var f=1;u=u.split(":");let g=[];for(;0<f&&u.length;)g.push(u.shift()),f--;return u.length&&g.push(u.join(":")),g}function O(u){a.setTimeout(()=>{throw u},0)}function A(){var u=Le;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class ye{constructor(){this.h=this.g=null}add(f,g){let C=Vt.get();C.set(f,g),this.h?this.h.next=C:this.g=C,this.h=C}}var Vt=new R(()=>new se,u=>u.reset());class se{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let te,ni=!1,Le=new ye,fr=()=>{let u=a.Promise.resolve(void 0);te=()=>{u.then(ga)}};var ga=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(g){O(g)}var f=Vt;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}ni=!1};function Ei(){this.s=this.s,this.C=this.C}Ei.prototype.s=!1,Ei.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ei.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var pr=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return u}();function xn(u,f){if(Se.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(z){t:{try{j(f.nodeName);var L=!0;break t}catch{}L=!1}L||(f=null)}}else g=="mouseover"?f=u.fromElement:g=="mouseout"&&(f=u.toElement);this.relatedTarget=f,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:gr[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xn.aa.h.call(this)}}_(xn,Se);var gr={2:"touch",3:"pen",4:"mouse"};xn.prototype.h=function(){xn.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var yl="closure_listenable_"+(1e6*Math.random()|0),kF=0;function SF(u,f,g,C,L){this.listener=u,this.proxy=null,this.src=f,this.type=g,this.capture=!!C,this.ha=L,this.key=++kF,this.da=this.fa=!1}function lm(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function dm(u){this.src=u,this.g={},this.h=0}dm.prototype.add=function(u,f,g,C,L){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var rt=fb(u,f,C,L);return-1<rt?(f=u[rt],g||(f.fa=!1)):(f=new SF(f,this.src,W,!!C,L),f.fa=g,u.push(f)),f};function mb(u,f){var g=f.type;if(g in u.g){var C=u.g[g],L=Array.prototype.indexOf.call(C,f,void 0),W;(W=0<=L)&&Array.prototype.splice.call(C,L,1),W&&(lm(f),u.g[g].length==0&&(delete u.g[g],u.h--))}}function fb(u,f,g,C){for(var L=0;L<u.length;++L){var W=u[L];if(!W.da&&W.listener==f&&W.capture==!!g&&W.ha==C)return L}return-1}var pb="closure_lm_"+(1e6*Math.random()|0),gb={};function bE(u,f,g,C,L){if(C&&C.once)return yE(u,f,g,C,L);if(Array.isArray(f)){for(var W=0;W<f.length;W++)bE(u,f[W],g,C,L);return null}return g=yb(g),u&&u[yl]?u.K(f,g,l(C)?!!C.capture:!!C,L):vE(u,f,g,!1,C,L)}function vE(u,f,g,C,L,W){if(!f)throw Error("Invalid event type");var rt=l(L)?!!L.capture:!!L,ee=bb(u);if(ee||(u[pb]=ee=new dm(u)),g=ee.add(f,g,C,rt,W),g.proxy)return g;if(C=TF(),g.proxy=C,C.src=u,C.listener=g,u.addEventListener)pr||(L=rt),L===void 0&&(L=!1),u.addEventListener(f.toString(),C,L);else if(u.attachEvent)u.attachEvent(xE(f.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return g}function TF(){function u(g){return f.call(u.src,u.listener,g)}let f=AF;return u}function yE(u,f,g,C,L){if(Array.isArray(f)){for(var W=0;W<f.length;W++)yE(u,f[W],g,C,L);return null}return g=yb(g),u&&u[yl]?u.L(f,g,l(C)?!!C.capture:!!C,L):vE(u,f,g,!0,C,L)}function wE(u,f,g,C,L){if(Array.isArray(f))for(var W=0;W<f.length;W++)wE(u,f[W],g,C,L);else C=l(C)?!!C.capture:!!C,g=yb(g),u&&u[yl]?(u=u.i,f=String(f).toString(),f in u.g&&(W=u.g[f],g=fb(W,g,C,L),-1<g&&(lm(W[g]),Array.prototype.splice.call(W,g,1),W.length==0&&(delete u.g[f],u.h--)))):u&&(u=bb(u))&&(f=u.g[f.toString()],u=-1,f&&(u=fb(f,g,C,L)),(g=-1<u?f[u]:null)&&_b(g))}function _b(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[yl])mb(f.i,u);else{var g=u.type,C=u.proxy;f.removeEventListener?f.removeEventListener(g,C,u.capture):f.detachEvent?f.detachEvent(xE(g),C):f.addListener&&f.removeListener&&f.removeListener(C),(g=bb(f))?(mb(g,u),g.h==0&&(g.src=null,f[pb]=null)):lm(u)}}}function xE(u){return u in gb?gb[u]:gb[u]="on"+u}function AF(u,f){if(u.da)u=!0;else{f=new xn(f,this);var g=u.listener,C=u.ha||u.src;u.fa&&_b(u),u=g.call(C,f)}return u}function bb(u){return u=u[pb],u instanceof dm?u:null}var vb="__closure_events_fn_"+(1e9*Math.random()>>>0);function yb(u){return typeof u=="function"?u:(u[vb]||(u[vb]=function(f){return u.handleEvent(f)}),u[vb])}function li(){Ei.call(this),this.i=new dm(this),this.M=this,this.F=null}_(li,Ei),li.prototype[yl]=!0,li.prototype.removeEventListener=function(u,f,g,C){wE(this,u,f,g,C)};function Ii(u,f){var g,C=u.F;if(C)for(g=[];C;C=C.F)g.push(C);if(u=u.M,C=f.type||f,typeof f=="string")f=new Se(f,u);else if(f instanceof Se)f.target=f.target||u;else{var L=f;f=new Se(C,u),D(f,L)}if(L=!0,g)for(var W=g.length-1;0<=W;W--){var rt=f.g=g[W];L=um(rt,C,!0,f)&&L}if(rt=f.g=u,L=um(rt,C,!0,f)&&L,L=um(rt,C,!1,f)&&L,g)for(W=0;W<g.length;W++)rt=f.g=g[W],L=um(rt,C,!1,f)&&L}li.prototype.N=function(){if(li.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var g=u.g[f],C=0;C<g.length;C++)lm(g[C]);delete u.g[f],u.h--}}this.F=null},li.prototype.K=function(u,f,g,C){return this.i.add(String(u),f,!1,g,C)},li.prototype.L=function(u,f,g,C){return this.i.add(String(u),f,!0,g,C)};function um(u,f,g,C){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,W=0;W<f.length;++W){var rt=f[W];if(rt&&!rt.da&&rt.capture==g){var ee=rt.listener,ri=rt.ha||rt.src;rt.fa&&mb(u.i,rt),L=ee.call(ri,C)!==!1&&L}}return L&&!C.defaultPrevented}function CE(u,f,g){if(typeof u=="function")g&&(u=m(u,g));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function EE(u){u.g=CE(()=>{u.g=null,u.i&&(u.i=!1,EE(u))},u.l);let f=u.h;u.h=null,u.m.apply(null,f)}class DF extends Ei{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:EE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wl(u){Ei.call(this),this.h=u,this.g={}}_(wl,Ei);var IE=[];function kE(u){H(u.g,function(f,g){this.g.hasOwnProperty(g)&&_b(f)},u),u.g={}}wl.prototype.N=function(){wl.aa.N.call(this),kE(this)},wl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wb=a.JSON.stringify,RF=a.JSON.parse,MF=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function xb(){}xb.prototype.h=null;function SE(u){return u.h||(u.h=u.i())}function TE(){}var xl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cb(){Se.call(this,"d")}_(Cb,Se);function Eb(){Se.call(this,"c")}_(Eb,Se);var Xs={},AE=null;function hm(){return AE=AE||new li}Xs.La="serverreachability";function DE(u){Se.call(this,Xs.La,u)}_(DE,Se);function Cl(u){let f=hm();Ii(f,new DE(f))}Xs.STAT_EVENT="statevent";function RE(u,f){Se.call(this,Xs.STAT_EVENT,u),this.stat=f}_(RE,Se);function ki(u){let f=hm();Ii(f,new RE(f,u))}Xs.Ma="timingevent";function ME(u,f){Se.call(this,Xs.Ma,u),this.size=f}_(ME,Se);function El(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function Il(){this.g=!0}Il.prototype.xa=function(){this.g=!1};function PF(u,f,g,C,L,W){u.info(function(){if(u.g)if(W)for(var rt="",ee=W.split("&"),ri=0;ri<ee.length;ri++){var jt=ee[ri].split("=");if(1<jt.length){var di=jt[0];jt=jt[1];var ui=di.split("_");rt=2<=ui.length&&ui[1]=="type"?rt+(di+"="+jt+"&"):rt+(di+"=redacted&")}}else rt=null;else rt=W;return"XMLHTTP REQ ("+C+") [attempt "+L+"]: "+f+`
`+g+`
`+rt})}function OF(u,f,g,C,L,W,rt){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+L+"]: "+f+`
`+g+`
`+W+" "+rt})}function _a(u,f,g,C){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+FF(u,g)+(C?" "+C:"")})}function NF(u,f){u.info(function(){return"TIMEOUT: "+f})}Il.prototype.info=function(){};function FF(u,f){if(!u.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var C=g[u];if(!(2>C.length)){var L=C[1];if(Array.isArray(L)&&!(1>L.length)){var W=L[0];if(W!="noop"&&W!="stop"&&W!="close")for(var rt=1;rt<L.length;rt++)L[rt]=""}}}}return wb(g)}catch{return f}}var mm={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},PE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ib;function fm(){}_(fm,xb),fm.prototype.g=function(){return new XMLHttpRequest},fm.prototype.i=function(){return{}},Ib=new fm;function Qr(u,f,g,C){this.j=u,this.i=f,this.l=g,this.R=C||1,this.U=new wl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new OE}function OE(){this.i=null,this.g="",this.h=!1}var NE={},kb={};function Sb(u,f,g){u.L=1,u.v=bm(_r(f)),u.m=g,u.P=!0,FE(u,null)}function FE(u,f){u.F=Date.now(),pm(u),u.A=_r(u.v);var g=u.A,C=u.R;Array.isArray(C)||(C=[String(C)]),QE(g.i,"t",C),u.C=0,g=u.j.J,u.h=new OE,u.g=fI(u.j,g?f:null,!u.m),0<u.O&&(u.M=new DF(m(u.Y,u,u.g),u.O)),f=u.U,g=u.g,C=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(IE[0]=L.toString()),L=IE);for(var W=0;W<L.length;W++){var rt=bE(g,L[W],C||f.handleEvent,!1,f.h||f);if(!rt)break;f.g[rt.key]=rt}f=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),Cl(),PF(u.i,u.u,u.A,u.l,u.R,u.m)}Qr.prototype.ca=function(u){u=u.target;let f=this.M;f&&br(u)==3?f.j():this.Y(u)},Qr.prototype.Y=function(u){try{if(u==this.g)t:{let ui=br(this.g);var f=this.g.Ba();let ya=this.g.Z();if(!(3>ui)&&(ui!=3||this.g&&(this.h.h||this.g.oa()||nI(this.g)))){this.J||ui!=4||f==7||(f==8||0>=ya?Cl(3):Cl(2)),Tb(this);var g=this.g.Z();this.X=g;e:if(LE(this)){var C=nI(this.g);u="";var L=C.length,W=br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zs(this),kl(this);var rt="";break e}this.h.i=new a.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,u+=this.h.i.decode(C[f],{stream:!(W&&f==L-1)});C.length=0,this.h.g+=u,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=g==200,OF(this.i,this.u,this.A,this.l,this.R,ui,g),this.o){if(this.T&&!this.K){e:{if(this.g){var ee,ri=this.g;if((ee=ri.g?ri.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(ee)){var jt=ee;break e}}jt=null}if(g=jt)_a(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ab(this,g);else{this.o=!1,this.s=3,ki(12),Zs(this),kl(this);break t}}if(this.P){g=!0;let Cn;for(;!this.J&&this.C<rt.length;)if(Cn=LF(this,rt),Cn==kb){ui==4&&(this.s=4,ki(14),g=!1),_a(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==NE){this.s=4,ki(15),_a(this.i,this.l,rt,"[Invalid Chunk]"),g=!1;break}else _a(this.i,this.l,Cn,null),Ab(this,Cn);if(LE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ui!=4||rt.length!=0||this.h.h||(this.s=1,ki(16),g=!1),this.o=this.o&&g,!g)_a(this.i,this.l,rt,"[Invalid Chunked Response]"),Zs(this),kl(this);else if(0<rt.length&&!this.W){this.W=!0;var di=this.j;di.g==this&&di.ba&&!di.M&&(di.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),Nb(di),di.M=!0,ki(11))}}else _a(this.i,this.l,rt,null),Ab(this,rt);ui==4&&Zs(this),this.o&&!this.J&&(ui==4?dI(this.j,this):(this.o=!1,pm(this)))}else tL(this.g),g==400&&0<rt.indexOf("Unknown SID")?(this.s=3,ki(12)):(this.s=0,ki(13)),Zs(this),kl(this)}}}catch{}finally{}};function LE(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function LF(u,f){var g=u.C,C=f.indexOf(`
`,g);return C==-1?kb:(g=Number(f.substring(g,C)),isNaN(g)?NE:(C+=1,C+g>f.length?kb:(f=f.slice(C,C+g),u.C=C+g,f)))}Qr.prototype.cancel=function(){this.J=!0,Zs(this)};function pm(u){u.S=Date.now()+u.I,VE(u,u.I)}function VE(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=El(m(u.ba,u),f)}function Tb(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Qr.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(NF(this.i,this.A),this.L!=2&&(Cl(),ki(17)),Zs(this),this.s=2,kl(this)):VE(this,this.S-u)};function kl(u){u.j.G==0||u.J||dI(u.j,u)}function Zs(u){Tb(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,kE(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function Ab(u,f){try{var g=u.j;if(g.G!=0&&(g.g==u||Db(g.h,u))){if(!u.K&&Db(g.h,u)&&g.G==3){try{var C=g.Da.g.parse(f)}catch{C=null}if(Array.isArray(C)&&C.length==3){var L=C;if(L[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Cm(g),wm(g);else break t;Ob(g),ki(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=El(m(g.Za,g),6e3));if(1>=jE(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else to(g,11)}else if((u.K||g.g==u)&&Cm(g),!P(f))for(L=g.Da.g.parse(f),f=0;f<L.length;f++){let jt=L[f];if(g.T=jt[0],jt=jt[1],g.G==2)if(jt[0]=="c"){g.K=jt[1],g.ia=jt[2];let di=jt[3];di!=null&&(g.la=di,g.j.info("VER="+g.la));let ui=jt[4];ui!=null&&(g.Aa=ui,g.j.info("SVER="+g.Aa));let ya=jt[5];ya!=null&&typeof ya=="number"&&0<ya&&(C=1.5*ya,g.L=C,g.j.info("backChannelRequestTimeoutMs_="+C)),C=g;let Cn=u.g;if(Cn){let Im=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Im){var W=C.h;W.g||Im.indexOf("spdy")==-1&&Im.indexOf("quic")==-1&&Im.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Rb(W,W.h),W.h=null))}if(C.D){let Fb=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fb&&(C.ya=Fb,he(C.I,C.D,Fb))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),C=g;var rt=u;if(C.qa=mI(C,C.J?C.ia:null,C.W),rt.K){zE(C.h,rt);var ee=rt,ri=C.L;ri&&(ee.I=ri),ee.B&&(Tb(ee),pm(ee)),C.g=rt}else cI(C);0<g.i.length&&xm(g)}else jt[0]!="stop"&&jt[0]!="close"||to(g,7);else g.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?to(g,7):Pb(g):jt[0]!="noop"&&g.l&&g.l.ta(jt),g.v=0)}}Cl(4)}catch{}}var VF=class{constructor(u,f){this.g=u,this.map=f}};function BE(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function UE(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function jE(u){return u.h?1:u.g?u.g.size:0}function Db(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function Rb(u,f){u.g?u.g.add(f):u.h=f}function zE(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}BE.prototype.cancel=function(){if(this.i=HE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function HE(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(let g of u.g.values())f=f.concat(g.D);return f}return b(u.i)}function BF(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var f=[],g=u.length,C=0;C<g;C++)f.push(u[C]);return f}f=[],g=0;for(C in u)f[g++]=u[C];return f}function UF(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var f=[];u=u.length;for(var g=0;g<u;g++)f.push(g);return f}f=[],g=0;for(let C in u)f[g++]=C;return f}}}function WE(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var g=UF(u),C=BF(u),L=C.length,W=0;W<L;W++)f.call(void 0,C[W],g&&g[W],u)}var $E=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jF(u,f){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var C=u[g].indexOf("="),L=null;if(0<=C){var W=u[g].substring(0,C);L=u[g].substring(C+1)}else W=u[g];f(W,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Js(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Js){this.h=u.h,gm(this,u.j),this.o=u.o,this.g=u.g,_m(this,u.s),this.l=u.l;var f=u.i,g=new Al;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),qE(this,g),this.m=u.m}else u&&(f=String(u).match($E))?(this.h=!1,gm(this,f[1]||"",!0),this.o=Sl(f[2]||""),this.g=Sl(f[3]||"",!0),_m(this,f[4]),this.l=Sl(f[5]||"",!0),qE(this,f[6]||"",!0),this.m=Sl(f[7]||"")):(this.h=!1,this.i=new Al(null,this.h))}Js.prototype.toString=function(){var u=[],f=this.j;f&&u.push(Tl(f,GE,!0),":");var g=this.g;return(g||f=="file")&&(u.push("//"),(f=this.o)&&u.push(Tl(f,GE,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Tl(g,g.charAt(0)=="/"?WF:HF,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Tl(g,qF)),u.join("")};function _r(u){return new Js(u)}function gm(u,f,g){u.j=g?Sl(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function _m(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function qE(u,f,g){f instanceof Al?(u.i=f,GF(u.i,u.h)):(g||(f=Tl(f,$F)),u.i=new Al(f,u.h))}function he(u,f,g){u.i.set(f,g)}function bm(u){return he(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Sl(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Tl(u,f,g){return typeof u=="string"?(u=encodeURI(u).replace(f,zF),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function zF(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var GE=/[#\/\?@]/g,HF=/[#\?:]/g,WF=/[#\?]/g,$F=/[#\?@]/g,qF=/#/g;function Al(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function Xr(u){u.g||(u.g=new Map,u.h=0,u.i&&jF(u.i,function(f,g){u.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}n=Al.prototype,n.add=function(u,f){Xr(this),this.i=null,u=ba(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(f),this.h+=1,this};function KE(u,f){Xr(u),f=ba(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function YE(u,f){return Xr(u),f=ba(u,f),u.g.has(f)}n.forEach=function(u,f){Xr(this),this.g.forEach(function(g,C){g.forEach(function(L){u.call(f,L,C,this)},this)},this)},n.na=function(){Xr(this);let u=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let C=0;C<f.length;C++){let L=u[C];for(let W=0;W<L.length;W++)g.push(f[C])}return g},n.V=function(u){Xr(this);let f=[];if(typeof u=="string")YE(this,u)&&(f=f.concat(this.g.get(ba(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)f=f.concat(u[g])}return f},n.set=function(u,f){return Xr(this),this.i=null,u=ba(this,u),YE(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},n.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function QE(u,f,g){KE(u,f),0<g.length&&(u.i=null,u.g.set(ba(u,f),b(g)),u.h+=g.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var C=f[g];let W=encodeURIComponent(String(C)),rt=this.V(C);for(C=0;C<rt.length;C++){var L=W;rt[C]!==""&&(L+="="+encodeURIComponent(String(rt[C]))),u.push(L)}}return this.i=u.join("&")};function ba(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function GF(u,f){f&&!u.j&&(Xr(u),u.i=null,u.g.forEach(function(g,C){var L=C.toLowerCase();C!=L&&(KE(this,C),QE(this,L,g))},u)),u.j=f}function KF(u,f){let g=new Il;if(a.Image){let C=new Image;C.onload=p(Zr,g,"TestLoadImage: loaded",!0,f,C),C.onerror=p(Zr,g,"TestLoadImage: error",!1,f,C),C.onabort=p(Zr,g,"TestLoadImage: abort",!1,f,C),C.ontimeout=p(Zr,g,"TestLoadImage: timeout",!1,f,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else f(!1)}function YF(u,f){let g=new Il,C=new AbortController,L=setTimeout(()=>{C.abort(),Zr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:C.signal}).then(W=>{clearTimeout(L),W.ok?Zr(g,"TestPingServer: ok",!0,f):Zr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),Zr(g,"TestPingServer: error",!1,f)})}function Zr(u,f,g,C,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),C(g)}catch{}}function QF(){this.g=new MF}function XF(u,f,g){let C=g||"";try{WE(u,function(L,W){let rt=L;l(L)&&(rt=wb(L)),f.push(C+W+"="+encodeURIComponent(rt))})}catch(L){throw f.push(C+"type="+encodeURIComponent("_badmap")),L}}function Dl(u){this.l=u.Ub||null,this.j=u.eb||!1}_(Dl,xb),Dl.prototype.g=function(){return new vm(this.l,this.j)},Dl.prototype.i=function(u){return function(){return u}}({});function vm(u,f){li.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(vm,li),n=vm.prototype,n.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,Ml(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rl(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ml(this)),this.g&&(this.readyState=3,Ml(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;XE(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function XE(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?Rl(this):Ml(this),this.readyState==3&&XE(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Rl(this))},n.Qa=function(u){this.g&&(this.response=u,Rl(this))},n.ga=function(){this.g&&Rl(this)};function Rl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ml(u)}n.setRequestHeader=function(u,f){this.u.append(u,f)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=f.next();return u.join(`\r
`)};function Ml(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ZE(u){let f="";return H(u,function(g,C){f+=C,f+=":",f+=g,f+=`\r
`}),f}function Mb(u,f,g){t:{for(C in g){var C=!1;break t}C=!0}C||(g=ZE(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):he(u,f,g))}function Te(u){li.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Te,li);var ZF=/^https?$/i,JF=["POST","PUT"];n=Te.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,f,g,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ib.g(),this.v=this.o?SE(this.o):SE(Ib),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(W){JE(this,W);return}if(u=g||"",g=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var L in C)g.set(L,C[L]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(let W of C.keys())g.set(W,C.get(W));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(g.keys()).find(W=>W.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(JF,f,void 0))||C||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[W,rt]of g)this.g.setRequestHeader(W,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{iI(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){JE(this,W)}};function JE(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,tI(u),ym(u)}function tI(u){u.A||(u.A=!0,Ii(u,"complete"),Ii(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ii(this,"complete"),Ii(this,"abort"),ym(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ym(this,!0)),Te.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?eI(this):this.bb())},n.bb=function(){eI(this)};function eI(u){if(u.h&&typeof o<"u"&&(!u.v[1]||br(u)!=4||u.Z()!=2)){if(u.u&&br(u)==4)CE(u.Ea,0,u);else if(Ii(u,"readystatechange"),br(u)==4){u.h=!1;try{let rt=u.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break t;default:f=!1}var g;if(!(g=f)){var C;if(C=rt===0){var L=String(u.D).match($E)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),C=!ZF.test(L?L.toLowerCase():"")}g=C}if(g)Ii(u,"complete"),Ii(u,"success");else{u.m=6;try{var W=2<br(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",tI(u)}}finally{ym(u)}}}}function ym(u,f){if(u.g){iI(u);let g=u.g,C=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||Ii(u,"ready");try{g.onreadystatechange=C}catch{}}}function iI(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function br(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<br(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),RF(f)}};function nI(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function tL(u){let f={};u=(u.g&&2<=br(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(P(u[C]))continue;var g=M(u[C]);let L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let W=f[L]||[];f[L]=W,W.push(g)}k(f,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pl(u,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||f}function rI(u){this.Aa=0,this.i=[],this.j=new Il,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pl("baseRetryDelayMs",5e3,u),this.cb=Pl("retryDelaySeedMs",1e4,u),this.Wa=Pl("forwardChannelMaxRetries",2,u),this.wa=Pl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new BE(u&&u.concurrentRequestLimit),this.Da=new QF,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=rI.prototype,n.la=8,n.G=1,n.connect=function(u,f,g,C){ki(0),this.W=u,this.H=f||{},g&&C!==void 0&&(this.H.OSID=g,this.H.OAID=C),this.F=this.X,this.I=mI(this,null,this.W),xm(this)};function Pb(u){if(sI(u),u.G==3){var f=u.U++,g=_r(u.I);if(he(g,"SID",u.K),he(g,"RID",f),he(g,"TYPE","terminate"),Ol(u,g),f=new Qr(u,u.j,f),f.L=2,f.v=bm(_r(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=fI(f.j,null),f.g.ea(f.v)),f.F=Date.now(),pm(f)}hI(u)}function wm(u){u.g&&(Nb(u),u.g.cancel(),u.g=null)}function sI(u){wm(u),u.u&&(a.clearTimeout(u.u),u.u=null),Cm(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function xm(u){if(!UE(u.h)&&!u.s){u.s=!0;var f=u.Ga;te||fr(),ni||(te(),ni=!0),Le.add(f,u),u.B=0}}function eL(u,f){return jE(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=El(m(u.Ga,u,f),uI(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let L=new Qr(this,this.j,u),W=this.o;if(this.S&&(W?(W=x(W),D(W,this.S)):W=this.S),this.m!==null||this.O||(L.H=W,W=null),this.P)t:{for(var f=0,g=0;g<this.i.length;g++){e:{var C=this.i[g];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break e}C=void 0}if(C===void 0)break;if(f+=C,4096<f){f=g;break t}if(f===4096||g===this.i.length-1){f=g+1;break t}}f=1e3}else f=1e3;f=aI(this,L,f),g=_r(this.I),he(g,"RID",u),he(g,"CVER",22),this.D&&he(g,"X-HTTP-Session-Id",this.D),Ol(this,g),W&&(this.O?f="headers="+encodeURIComponent(String(ZE(W)))+"&"+f:this.m&&Mb(g,this.m,W)),Rb(this.h,L),this.Ua&&he(g,"TYPE","init"),this.P?(he(g,"$req",f),he(g,"SID","null"),L.T=!0,Sb(L,g,null)):Sb(L,g,f),this.G=2}}else this.G==3&&(u?oI(this,u):this.i.length==0||UE(this.h)||oI(this))};function oI(u,f){var g;f?g=f.l:g=u.U++;let C=_r(u.I);he(C,"SID",u.K),he(C,"RID",g),he(C,"AID",u.T),Ol(u,C),u.m&&u.o&&Mb(C,u.m,u.o),g=new Qr(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),f&&(u.i=f.D.concat(u.i)),f=aI(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Rb(u.h,g),Sb(g,C,f)}function Ol(u,f){u.H&&H(u.H,function(g,C){he(f,C,g)}),u.l&&WE({},function(g,C){he(f,C,g)})}function aI(u,f,g){g=Math.min(u.i.length,g);var C=u.l?m(u.l.Na,u.l,u):null;t:{var L=u.i;let W=-1;for(;;){let rt=["count="+g];W==-1?0<g?(W=L[0].g,rt.push("ofs="+W)):W=0:rt.push("ofs="+W);let ee=!0;for(let ri=0;ri<g;ri++){let jt=L[ri].g,di=L[ri].map;if(jt-=W,0>jt)W=Math.max(0,L[ri].g-100),ee=!1;else try{XF(di,rt,"req"+jt+"_")}catch{C&&C(di)}}if(ee){C=rt.join("&");break t}}}return u=u.i.splice(0,g),f.D=u,C}function cI(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;te||fr(),ni||(te(),ni=!0),Le.add(f,u),u.v=0}}function Ob(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=El(m(u.Fa,u),uI(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,lI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=El(m(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ki(10),wm(this),lI(this))};function Nb(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function lI(u){u.g=new Qr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=_r(u.qa);he(f,"RID","rpc"),he(f,"SID",u.K),he(f,"AID",u.T),he(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&he(f,"TO",u.ja),he(f,"TYPE","xmlhttp"),Ol(u,f),u.m&&u.o&&Mb(f,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=bm(_r(f)),g.m=null,g.P=!0,FE(g,u)}n.Za=function(){this.C!=null&&(this.C=null,wm(this),Ob(this),ki(19))};function Cm(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function dI(u,f){var g=null;if(u.g==f){Cm(u),Nb(u),u.g=null;var C=2}else if(Db(u.h,f))g=f.D,zE(u.h,f),C=1;else return;if(u.G!=0){if(f.o)if(C==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var L=u.B;C=hm(),Ii(C,new ME(C,g)),xm(u)}else cI(u);else if(L=f.s,L==3||L==0&&0<f.X||!(C==1&&eL(u,f)||C==2&&Ob(u)))switch(g&&0<g.length&&(f=u.h,f.i=f.i.concat(g)),L){case 1:to(u,5);break;case 4:to(u,10);break;case 3:to(u,6);break;default:to(u,2)}}}function uI(u,f){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*f}function to(u,f){if(u.j.info("Error code "+f),f==2){var g=m(u.fb,u),C=u.Xa;let L=!C;C=new Js(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||gm(C,"https"),bm(C),L?KF(C.toString(),g):YF(C.toString(),g)}else ki(2);u.G=0,u.l&&u.l.sa(f),hI(u),sI(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ki(2)):(this.j.info("Failed to ping google.com"),ki(1))};function hI(u){if(u.G=0,u.ka=[],u.l){let f=HE(u.h);(f.length!=0||u.i.length!=0)&&(v(u.ka,f),v(u.ka,u.i),u.h.i.length=0,b(u.i),u.i.length=0),u.l.ra()}}function mI(u,f,g){var C=g instanceof Js?_r(g):new Js(g);if(C.g!="")f&&(C.g=f+"."+C.g),_m(C,C.s);else{var L=a.location;C=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var W=new Js(null);C&&gm(W,C),f&&(W.g=f),L&&_m(W,L),g&&(W.l=g),C=W}return g=u.D,f=u.ya,g&&f&&he(C,g,f),he(C,"VER",u.la),Ol(u,C),C}function fI(u,f,g){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new Te(new Dl({eb:g})):new Te(u.pa),f.Ha(u.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pI(){}n=pI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Em(){}Em.prototype.g=function(u,f){return new qi(u,f)};function qi(u,f){li.call(this),this.g=new rI(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!P(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!P(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new va(this)}_(qi,li),qi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qi.prototype.close=function(){Pb(this.g)},qi.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=wb(u),u=g);f.i.push(new VF(f.Ya++,u)),f.G==3&&xm(f)},qi.prototype.N=function(){this.g.l=null,delete this.j,Pb(this.g),delete this.g,qi.aa.N.call(this)};function gI(u){Cb.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){t:{for(let g in f){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}_(gI,Cb);function _I(){Eb.call(this),this.status=1}_(_I,Eb);function va(u){this.g=u}_(va,pI),va.prototype.ua=function(){Ii(this.g,"a")},va.prototype.ta=function(u){Ii(this.g,new gI(u))},va.prototype.sa=function(u){Ii(this.g,new _I)},va.prototype.ra=function(){Ii(this.g,"b")},Em.prototype.createWebChannel=Em.prototype.g,qi.prototype.send=qi.prototype.o,qi.prototype.open=qi.prototype.m,qi.prototype.close=qi.prototype.close,vy=Dr.createWebChannelTransport=function(){return new Em},by=Dr.getStatEventTarget=function(){return hm()},_y=Dr.Event=Xs,mp=Dr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mm.NO_ERROR=0,mm.TIMEOUT=8,mm.HTTP_ERROR=6,Au=Dr.ErrorCode=mm,PE.COMPLETE="complete",gy=Dr.EventType=PE,TE.EventType=xl,xl.OPEN="a",xl.CLOSE="b",xl.ERROR="c",xl.MESSAGE="d",li.prototype.listen=li.prototype.K,fc=Dr.WebChannel=TE,py=Dr.FetchXmlHttpFactory=Dl,Te.prototype.listenOnce=Te.prototype.L,Te.prototype.getLastError=Te.prototype.Ka,Te.prototype.getLastErrorCode=Te.prototype.Ba,Te.prototype.getStatus=Te.prototype.Z,Te.prototype.getResponseJson=Te.prototype.Oa,Te.prototype.getResponseText=Te.prototype.oa,Te.prototype.send=Te.prototype.ea,Te.prototype.setWithCredentials=Te.prototype.Ha,fy=Dr.XhrIo=Te}).apply(typeof hp<"u"?hp:typeof self<"u"?self:typeof window<"u"?window:{});var sA="@firebase/firestore";var ei=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};ei.UNAUTHENTICATED=new ei(null),ei.GOOGLE_CREDENTIALS=new ei("google-credentials-uid"),ei.FIRST_PARTY=new ei("first-party-uid"),ei.MOCK_USER=new ei("mock-user");var Nc="10.12.1";var Oo=new Gn("@firebase/firestore");function Du(){return Oo.logLevel}function dt(n,...t){if(Oo.logLevel<=Ot.DEBUG){let e=t.map(rx);Oo.debug(`Firestore (${Nc}): ${n}`,...e)}}function Mr(n,...t){if(Oo.logLevel<=Ot.ERROR){let e=t.map(rx);Oo.error(`Firestore (${Nc}): ${n}`,...e)}}function xc(n,...t){if(Oo.logLevel<=Ot.WARN){let e=t.map(rx);Oo.warn(`Firestore (${Nc}): ${n}`,...e)}}function rx(n){if(typeof n=="string")return n;try{return function(e){return JSON.stringify(e)}(n)}catch{return n}}function xt(n="Unexpected state"){let t=`FIRESTORE (${Nc}) INTERNAL ASSERTION FAILED: `+n;throw Mr(t),new Error(t)}function de(n,t){n||xt()}function kt(n,t){return n}var Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},lt=class extends ze{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Rr=class{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}};var bp=class{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},Ey=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ei.UNAUTHENTICATED))}shutdown(){}},Iy=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}},ky=class{constructor(t){this.t=t,this.currentUser=ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let i=this.i,r=c=>this.i!==i?(i=this.i,e(c)):Promise.resolve(),s=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rr,t.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let c=s;t.enqueueRetryable(()=>E(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rr)}},0),o()}getToken(){let t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(de(typeof i.accessToken=="string"),new bp(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let t=this.auth&&this.auth.getUid();return de(t===null||typeof t=="string"),new ei(t)}},Sy=class{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=ei.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ty=class{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new Sy(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(ei.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ay=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Dy=class{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){let i=s=>{s.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,dt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};let r=s=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(de(typeof e.token=="string"),this.R=e.token,new Ay(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function BU(n){let t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}var vp=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,i="";for(;i.length<20;){let r=BU(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}};function zt(n,t){return n<t?-1:n>t?1:0}function Cc(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}var ci=class n{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new lt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new lt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new lt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return n.fromMillis(Date.now())}static fromDate(t){return n.fromMillis(t.getTime())}static fromMillis(t){let e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new n(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var St=class n{constructor(t){this.timestamp=t}static fromTimestamp(t){return new n(t)}static min(){return new n(new ci(0,0))}static max(){return new n(new ci(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var yp=class n{constructor(t,e,i){e===void 0?e=0:e>t.length&&xt(),i===void 0?i=t.length-e:i>t.length-e&&xt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return n.comparator(this,t)===0}child(t){let e=this.segments.slice(this.offset,this.limit());return t instanceof n?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){let i=Math.min(t.length,e.length);for(let r=0;r<i;r++){let s=t.get(r),o=e.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}},Ee=class n extends yp{construct(t,e,i){return new n(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let e=[];for(let i of t){if(i.indexOf("//")>=0)throw new lt(Q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new n(e)}static emptyPath(){return new n([])}},UU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zi=class n extends yp{construct(t,e,i){return new n(t,e,i)}static isValidIdentifier(t){return UU.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(t){let e=[],i="",r=0,s=()=>{if(i.length===0)throw new lt(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""},o=!1;for(;r<t.length;){let a=t[r];if(a==="\\"){if(r+1===t.length)throw new lt(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let c=t[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new lt(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new lt(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new n(e)}static emptyPath(){return new n([])}};var pt=class n{constructor(t){this.path=t}static fromPath(t){return new n(Ee.fromString(t))}static fromName(t){return new n(Ee.fromString(t).popFirst(5))}static empty(){return new n(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ee.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new n(new Ee(t.slice()))}};var Ry=class{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}};Ry.UNKNOWN_ID=-1;function jU(n,t){let e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(i===1e9?new ci(e+1,0):new ci(e,i));return new No(r,pt.empty(),t)}function zU(n){return new No(n.readTime,n.key,-1)}var No=class n{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new n(St.min(),pt.empty(),-1)}static max(){return new n(St.max(),pt.empty(),-1)}};function HU(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=pt.comparator(n.documentKey,t.documentKey),e!==0?e:zt(n.largestBatchId,t.largestBatchId))}var WU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",My=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}};function Ku(n){return E(this,null,function*(){if(n.code!==Q.FAILED_PRECONDITION||n.message!==WU)throw n;dt("LocalStore","Unexpectedly lost primary lease")})}var it=class n{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new n((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{let e=t();return e instanceof n?e:n.resolve(e)}catch(e){return n.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):n.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):n.reject(e)}static resolve(t){return new n((e,i)=>{e(t)})}static reject(t){return new n((e,i)=>{i(t)})}static waitFor(t){return new n((e,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&e()},c=>i(c))}),o=!0,s===r&&e()})}static or(t){let e=n.resolve(!1);for(let i of t)e=e.next(r=>r?n.resolve(r):i());return e}static forEach(t,e){let i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new n((i,r)=>{let s=t.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;e(t[l]).next(d=>{o[l]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(t,e){return new n((i,r)=>{let s=()=>{t()===!0?e().next(()=>{s()},r):i()};s()})}};function $U(n){let t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Yu(n){return n.name==="IndexedDbTransactionError"}var VA=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.se&&this.se(e),e}}return n.oe=-1,n})();function Kp(n){return n==null}function Fu(n){return n===0&&1/n==-1/0}function qU(n){return typeof n=="number"&&Number.isInteger(n)&&!Fu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var GU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],AZ=[...GU,"documentOverlays"],KU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],YU=KU,DZ=[...YU,"indexConfiguration","indexState","indexEntries"];function oA(n){let t=0;for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Fc(n,t){for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function BA(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}var Oe=class n{constructor(t,e){this.comparator=t,this.root=e||tr.EMPTY}insert(t,e){return new n(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,tr.BLACK,null,null))}remove(t){return new n(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){let i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){let t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bc(this.root,t,this.comparator,!0)}},bc=class{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},tr=class n{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new n(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this,s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):s===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();let t=this.left.check();if(t!==this.right.check())throw xt();return t+(this.isRed()?0:1)}};tr.EMPTY=null,tr.RED=!0,tr.BLACK=!1;tr.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(t,e,i,r,s){return this}insert(t,e,i){return new tr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var yi=class n{constructor(t){this.comparator=t,this.data=new Oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){let i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){let e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new wp(this.data.getIterator())}getIteratorFrom(t){return new wp(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof n)||this.size!==t.size)return!1;let e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){let r=e.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(e=>{t.push(e)}),t}toString(){let t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){let e=new n(this.comparator);return e.data=t,e}},wp=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Jn=class n{constructor(t){this.fields=t,t.sort(Zi.comparator)}static empty(){return new n([])}unionWith(t){let e=new yi(Zi.comparator);for(let i of this.fields)e=e.add(i);for(let i of t)e=e.add(i);return new n(e.toArray())}covers(t){for(let e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Cc(this.fields,t.fields,(e,i)=>e.isEqual(i))}};var xp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Fi=class n{constructor(t){this.binaryString=t}static fromBase64String(t){let e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xp("Invalid base64 string: "+s):s}}(t);return new n(e)}static fromUint8Array(t){let e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new n(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};Fi.EMPTY_BYTE_STRING=new Fi("");var QU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(n){if(de(!!n),typeof n=="string"){let t=0,e=QU.exec(n);if(de(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Pe(n.seconds),nanos:Pe(n.nanos)}}function Pe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ds(n){return typeof n=="string"?Fi.fromBase64String(n):Fi.fromUint8Array(n)}function sx(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="server_timestamp"}function ox(n){let t=n.mapValue.fields.__previous_value__;return sx(t)?ox(t):t}function Lu(n){let t=Pr(n.mapValue.fields.__local_write_time__.timestampValue);return new ci(t.seconds,t.nanos)}var Py=class{constructor(t,e,i,r,s,o,a,c,l){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Cp=class n{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof n&&t.projectId===this.projectId&&t.database===this.database}};var fp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sx(n)?4:UA(n)?9007199254740991:10:xt()}function nr(n,t){if(n===t)return!0;let e=Fo(n);if(e!==Fo(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Lu(n).isEqual(Lu(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=Pr(r.timestampValue),a=Pr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,s){return Ds(r.bytesValue).isEqual(Ds(s.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return Pe(r.geoPointValue.latitude)===Pe(s.geoPointValue.latitude)&&Pe(r.geoPointValue.longitude)===Pe(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Pe(r.integerValue)===Pe(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=Pe(r.doubleValue),a=Pe(s.doubleValue);return o===a?Fu(o)===Fu(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return Cc(n.arrayValue.values||[],t.arrayValue.values||[],nr);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(oA(o)!==oA(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!nr(o[c],a[c])))return!1;return!0}(n,t);default:return xt()}}function Vu(n,t){return(n.values||[]).find(e=>nr(e,t))!==void 0}function Ec(n,t){if(n===t)return 0;let e=Fo(n),i=Fo(t);if(e!==i)return zt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,t.booleanValue);case 2:return function(s,o){let a=Pe(s.integerValue||s.doubleValue),c=Pe(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,t);case 3:return aA(n.timestampValue,t.timestampValue);case 4:return aA(Lu(n),Lu(t));case 5:return zt(n.stringValue,t.stringValue);case 6:return function(s,o){let a=Ds(s),c=Ds(o);return a.compareTo(c)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let d=zt(a[l],c[l]);if(d!==0)return d}return zt(a.length,c.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){let a=zt(Pe(s.latitude),Pe(o.latitude));return a!==0?a:zt(Pe(s.longitude),Pe(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){let d=Ec(a[l],c[l]);if(d)return d}return zt(a.length,c.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===fp.mapValue&&o===fp.mapValue)return 0;if(s===fp.mapValue)return 1;if(o===fp.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){let m=zt(c[h],d[h]);if(m!==0)return m;let p=Ec(a[c[h]],l[d[h]]);if(p!==0)return p}return zt(c.length,d.length)}(n.mapValue,t.mapValue);default:throw xt()}}function aA(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return zt(n,t);let e=Pr(n),i=Pr(t),r=zt(e.seconds,i.seconds);return r!==0?r:zt(e.nanos,i.nanos)}function Ic(n){return Oy(n)}function Oy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){let i=Pr(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Ds(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return pt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(let s of e.values||[])r?r=!1:i+=",",i+=Oy(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){let i=Object.keys(e.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${Oy(e.fields[o])}`;return r+"}"}(n.mapValue):xt()}function cA(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Ny(n){return!!n&&"integerValue"in n}function ax(n){return!!n&&"arrayValue"in n}function lA(n){return!!n&&"nullValue"in n}function dA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gp(n){return!!n&&"mapValue"in n}function Mu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let t={mapValue:{fields:{}}};return Fc(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Mu(i)),t}if(n.arrayValue){let t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Mu(n.arrayValue.values[e]);return t}return Object.assign({},n)}function UA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var On=class n{constructor(t){this.value=t}static empty(){return new n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!gp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Mu(e)}setAll(t){let e=Zi.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!e.isImmediateParentOf(a)){let c=this.getFieldsMap(e);this.applyChanges(c,i,r),i={},r=[],e=a.popLast()}o?i[a.lastSegment()]=Mu(o):r.push(a.lastSegment())});let s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){let e=this.field(t.popLast());gp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return nr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];gp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Fc(e,(r,s)=>t[r]=s);for(let r of i)delete t[r]}clone(){return new n(Mu(this.value))}};function jA(n){let t=[];return Fc(n.fields,(e,i)=>{let r=new Zi([e]);if(gp(i)){let s=jA(i.mapValue).fields;if(s.length===0)t.push(r);else for(let o of s)t.push(r.child(o))}else t.push(r)}),new Jn(t)}var Nn=class n{constructor(t,e,i,r,s,o,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new n(t,0,St.min(),St.min(),St.min(),On.empty(),0)}static newFoundDocument(t,e,i,r){return new n(t,1,e,St.min(),i,r,0)}static newNoDocument(t,e){return new n(t,2,e,St.min(),St.min(),On.empty(),0)}static newUnknownDocument(t,e){return new n(t,3,e,St.min(),St.min(),On.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof n&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var kc=class{constructor(t,e){this.position=t,this.inclusive=e}};function uA(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){let s=t[r],o=n.position[r];if(s.field.isKeyField()?i=pt.comparator(pt.fromName(o.referenceValue),e.key):i=Ec(o,e.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function hA(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!nr(n.position[e],t.position[e]))return!1;return!0}var Sc=class{constructor(t,e="asc"){this.field=t,this.dir=e}};function XU(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}var Ep=class{},Ge=class n extends Ep{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new Ly(t,e,i):e==="array-contains"?new Uy(t,i):e==="in"?new jy(t,i):e==="not-in"?new zy(t,i):e==="array-contains-any"?new Hy(t,i):new n(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new Vy(t,i):new By(t,i)}matches(t){let e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(Ec(e,this.value)):e!==null&&Fo(this.value)===Fo(e)&&this.matchesComparison(Ec(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Fn=class n extends Ep{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new n(t,e)}matches(t){return zA(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function zA(n){return n.op==="and"}function HA(n){return ZU(n)&&zA(n)}function ZU(n){for(let t of n.filters)if(t instanceof Fn)return!1;return!0}function Fy(n){if(n instanceof Ge)return n.field.canonicalString()+n.op.toString()+Ic(n.value);if(HA(n))return n.filters.map(t=>Fy(t)).join(",");{let t=n.filters.map(e=>Fy(e)).join(",");return`${n.op}(${t})`}}function WA(n,t){return n instanceof Ge?function(i,r){return r instanceof Ge&&i.op===r.op&&i.field.isEqual(r.field)&&nr(i.value,r.value)}(n,t):n instanceof Fn?function(i,r){return r instanceof Fn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&WA(o,r.filters[a]),!0):!1}(n,t):void xt()}function $A(n){return n instanceof Ge?function(e){return`${e.field.canonicalString()} ${e.op} ${Ic(e.value)}`}(n):n instanceof Fn?function(e){return e.op.toString()+" {"+e.getFilters().map($A).join(" ,")+"}"}(n):"Filter"}var Ly=class extends Ge{constructor(t,e,i){super(t,e,i),this.key=pt.fromName(i.referenceValue)}matches(t){let e=pt.comparator(t.key,this.key);return this.matchesComparison(e)}},Vy=class extends Ge{constructor(t,e){super(t,"in",e),this.keys=qA("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}},By=class extends Ge{constructor(t,e){super(t,"not-in",e),this.keys=qA("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}};function qA(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>pt.fromName(i.referenceValue))}var Uy=class extends Ge{constructor(t,e){super(t,"array-contains",e)}matches(t){let e=t.data.field(this.field);return ax(e)&&Vu(e.arrayValue,this.value)}},jy=class extends Ge{constructor(t,e){super(t,"in",e)}matches(t){let e=t.data.field(this.field);return e!==null&&Vu(this.value.arrayValue,e)}},zy=class extends Ge{constructor(t,e){super(t,"not-in",e)}matches(t){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let e=t.data.field(this.field);return e!==null&&!Vu(this.value.arrayValue,e)}},Hy=class extends Ge{constructor(t,e){super(t,"array-contains-any",e)}matches(t){let e=t.data.field(this.field);return!(!ax(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Vu(this.value.arrayValue,i))}};var Wy=class{constructor(t,e=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function mA(n,t=null,e=[],i=[],r=null,s=null,o=null){return new Wy(n,t,e,i,r,s,o)}function cx(n){let t=kt(n);if(t.ue===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>Fy(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Kp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Ic(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Ic(i)).join(",")),t.ue=e}return t.ue}function lx(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!XU(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!WA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!hA(n.startAt,t.startAt)&&hA(n.endAt,t.endAt)}function $y(n){return pt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Lo=class{constructor(t,e=null,i=[],r=[],s=null,o="F",a=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function JU(n,t,e,i,r,s,o,a){return new Lo(n,t,e,i,r,s,o,a)}function dx(n){return new Lo(n)}function fA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function GA(n){return n.collectionGroup!==null}function Pu(n){let t=kt(n);if(t.ce===null){t.ce=[];let e=new Set;for(let s of t.explicitOrderBy)t.ce.push(s),e.add(s.field.canonicalString());let i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new yi(Zi.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.ce.push(new Sc(s,i))}),e.has(Zi.keyField().canonicalString())||t.ce.push(new Sc(Zi.keyField(),i))}return t.ce}function er(n){let t=kt(n);return t.le||(t.le=tj(t,Pu(n))),t.le}function tj(n,t){if(n.limitType==="F")return mA(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new Sc(r.field,s)});let e=n.endAt?new kc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new kc(n.startAt.position,n.startAt.inclusive):null;return mA(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function qy(n,t){let e=n.filters.concat([t]);return new Lo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Gy(n,t,e){return new Lo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Yp(n,t){return lx(er(n),er(t))&&n.limitType===t.limitType}function KA(n){return`${cx(er(n))}|lt:${n.limitType}`}function pc(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>$A(r)).join(", ")}]`),Kp(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Ic(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Ic(r)).join(",")),`Target(${i})`}(er(n))}; limitType=${n.limitType})`}function Qp(n,t){return t.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):pt.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(let s of Pu(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,t)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(o,a,c){let l=uA(o,a,c);return o.inclusive?l<=0:l<0}(i.startAt,Pu(i),r)||i.endAt&&!function(o,a,c){let l=uA(o,a,c);return o.inclusive?l>=0:l>0}(i.endAt,Pu(i),r))}(n,t)}function ej(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function YA(n){return(t,e)=>{let i=!1;for(let r of Pu(n)){let s=ij(r,t,e);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function ij(n,t,e){let i=n.field.isKeyField()?pt.comparator(t.key,e.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?Ec(c,l):xt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xt()}}var Rs=class{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){let e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){let i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){let e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Fc(this.inner,(e,i)=>{for(let[r,s]of i)t(r,s)})}isEmpty(){return BA(this.inner)}size(){return this.innerSize}};var nj=new Oe(pt.comparator);function Or(){return nj}var QA=new Oe(pt.comparator);function Ru(...n){let t=QA;for(let e of n)t=t.insert(e.key,e);return t}function XA(n){let t=QA;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Ro(){return Ou()}function ZA(){return Ou()}function Ou(){return new Rs(n=>n.toString(),(n,t)=>n.isEqual(t))}var rj=new Oe(pt.comparator),sj=new yi(pt.comparator);function Nt(...n){let t=sj;for(let e of n)t=t.add(e);return t}var oj=new yi(zt);function aj(){return oj}function JA(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fu(t)?"-0":t}}function tD(n){return{integerValue:""+n}}function cj(n,t){return qU(t)?tD(t):JA(n,t)}var Tc=class{constructor(){this._=void 0}};function lj(n,t,e){return n instanceof Ac?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&sx(s)&&(s=ox(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof Vo?iD(n,t):n instanceof Bo?nD(n,t):function(r,s){let o=eD(r,s),a=pA(o)+pA(r.Pe);return Ny(o)&&Ny(r.Pe)?tD(a):JA(r.serializer,a)}(n,t)}function dj(n,t,e){return n instanceof Vo?iD(n,t):n instanceof Bo?nD(n,t):e}function eD(n,t){return n instanceof Dc?function(i){return Ny(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}var Ac=class extends Tc{},Vo=class extends Tc{constructor(t){super(),this.elements=t}};function iD(n,t){let e=rD(t);for(let i of n.elements)e.some(r=>nr(r,i))||e.push(i);return{arrayValue:{values:e}}}var Bo=class extends Tc{constructor(t){super(),this.elements=t}};function nD(n,t){let e=rD(t);for(let i of n.elements)e=e.filter(r=>!nr(r,i));return{arrayValue:{values:e}}}var Dc=class extends Tc{constructor(t,e){super(),this.serializer=t,this.Pe=e}};function pA(n){return Pe(n.integerValue||n.doubleValue)}function rD(n){return ax(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function uj(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof Vo&&r instanceof Vo||i instanceof Bo&&r instanceof Bo?Cc(i.elements,r.elements,nr):i instanceof Dc&&r instanceof Dc?nr(i.Pe,r.Pe):i instanceof Ac&&r instanceof Ac}(n.transform,t.transform)}var Ky=class{constructor(t,e){this.version=t,this.transformResults=e}},Ts=class n{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new n}static exists(t){return new n(void 0,t)}static updateTime(t){return new n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}};function _p(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}var Rc=class{};function sD(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Bu(n.key,Ts.none()):new Uo(n.key,n.data,Ts.none());{let e=n.data,i=On.empty(),r=new yi(Zi.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);o===null&&s.length>1&&(s=s.popLast(),o=e.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Nr(n.key,i,new Jn(r.toArray()),Ts.none())}}function hj(n,t,e){n instanceof Uo?function(r,s,o){let a=r.value.clone(),c=_A(r.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Nr?function(r,s,o){if(!_p(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=_A(r.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(oD(r)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,e)}function Nu(n,t,e,i){return n instanceof Uo?function(s,o,a,c){if(!_p(s.precondition,o))return a;let l=s.value.clone(),d=bA(s.fieldTransforms,c,o);return l.setAll(d),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,t,e,i):n instanceof Nr?function(s,o,a,c){if(!_p(s.precondition,o))return a;let l=bA(s.fieldTransforms,c,o),d=o.data;return d.setAll(oD(s)),d.setAll(l),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,t,e,i):function(s,o,a){return _p(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,t,e)}function mj(n,t){let e=null;for(let i of n.fieldTransforms){let r=t.data.field(i.field),s=eD(i.transform,r||null);s!=null&&(e===null&&(e=On.empty()),e.set(i.field,s))}return e||null}function gA(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Cc(i,r,(s,o)=>uj(s,o))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}var Uo=class extends Rc{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Nr=class extends Rc{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function oD(n){let t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){let i=n.data.field(e);t.set(e,i)}}),t}function _A(n,t,e){let i=new Map;de(n.length===e.length);for(let r=0;r<e.length;r++){let s=n[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,dj(o,a,e[r]))}return i}function bA(n,t,e){let i=new Map;for(let r of n){let s=r.transform,o=e.data.field(r.field);i.set(r.field,lj(s,o,t))}return i}var Bu=class extends Rc{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Yy=class extends Rc{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Qy=class{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){let i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(t.key)&&hj(s,t,i[r])}}applyToLocalView(t,e){for(let i of this.baseMutations)i.key.isEqual(t.key)&&(e=Nu(i,t,e,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(t.key)&&(e=Nu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){let i=ZA();return this.mutations.forEach(r=>{let s=t.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=e.has(r.key)?null:a;let c=sD(o,a);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(St.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Nt())}isEqual(t){return this.batchId===t.batchId&&Cc(this.mutations,t.mutations,(e,i)=>gA(e,i))&&Cc(this.baseMutations,t.baseMutations,(e,i)=>gA(e,i))}},Xy=class n{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){de(t.mutations.length===i.length);let r=function(){return rj}(),s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new n(t,e,i,r)}};var Zy=class{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Jy=class{constructor(t,e){this.count=t,this.unchangedNames=e}};var $e,Bt;function fj(n){switch(n){default:return xt();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function aD(n){if(n===void 0)return Mr("GRPC error has no .code"),Q.UNKNOWN;switch(n){case $e.OK:return Q.OK;case $e.CANCELLED:return Q.CANCELLED;case $e.UNKNOWN:return Q.UNKNOWN;case $e.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case $e.INTERNAL:return Q.INTERNAL;case $e.UNAVAILABLE:return Q.UNAVAILABLE;case $e.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case $e.NOT_FOUND:return Q.NOT_FOUND;case $e.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case $e.ABORTED:return Q.ABORTED;case $e.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case $e.DATA_LOSS:return Q.DATA_LOSS;default:return xt()}}(Bt=$e||($e={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";var vA=null;function pj(){return new TextEncoder}var gj=new Ss([4294967295,4294967295],0);function yA(n){let t=pj().encode(n),e=new my;return e.update(t),new Uint8Array(e.digest())}function wA(n){let t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ss([e,i],0),new Ss([r,s],0)]}var tw=class n{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Mo(`Invalid padding: ${e}`);if(i<0)throw new Mo(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Mo(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Mo(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=Ss.fromNumber(this.Ie)}Ee(t,e,i){let r=t.add(e.multiply(Ss.fromNumber(i)));return r.compare(gj)===1&&(r=new Ss([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;let e=yA(t),[i,r]=wA(e);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(t,e,i){let r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new n(s,r,e);return i.forEach(a=>o.insert(a)),o}insert(t){if(this.Ie===0)return;let e=yA(t),[i,r]=wA(e);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(t){let e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}},Mo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ip=class n{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){let r=new Map;return r.set(t,Uu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new n(St.min(),r,new Oe(zt),Or(),Nt())}},Uu=class n{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new n(i,e,Nt(),Nt(),Nt())}};var vc=class{constructor(t,e,i,r){this.Re=t,this.removedTargetIds=e,this.key=i,this.Ve=r}},kp=class{constructor(t,e){this.targetId=t,this.me=e}},Sp=class{constructor(t,e,i=Fi.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}},Tp=class{constructor(){this.fe=0,this.ge=CA(),this.pe=Fi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=Nt(),e=Nt(),i=Nt();return this.ge.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:xt()}}),new Uu(this.pe,this.ye,t,e,i)}ve(){this.we=!1,this.ge=CA()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,de(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},ew=class{constructor(t){this.Le=t,this.Be=new Map,this.ke=Or(),this.qe=xA(),this.Qe=new Oe(zt)}Ke(t){for(let e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(let e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{let i=this.Ge(e);switch(t.state){case 0:this.ze(e)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),i.De(t.resumeToken));break;default:xt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((i,r)=>{this.ze(r)&&e(r)})}He(t){let e=t.targetId,i=t.me.count,r=this.Je(e);if(r){let s=r.target;if($y(s))if(i===0){let o=new pt(s.path);this.Ue(e,o,Nn.newNoDocument(o,St.min()))}else de(i===1);else{let o=this.Ye(e);if(o!==i){let a=this.Ze(t),c=a?this.Xe(a,t,o):1;if(c!==0){this.je(e);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(e,l)}vA?.et(function(d,h,m,p,_){var b,v,R,P,V,j;let z={localCacheCount:d,existenceFilterCount:h.count,databaseId:m.database,projectId:m.projectId},H=h.unchangedNames;return H&&(z.bloomFilter={applied:_===0,hashCount:(b=H?.hashCount)!==null&&b!==void 0?b:0,bitmapLength:(P=(R=(v=H?.bits)===null||v===void 0?void 0:v.bitmap)===null||R===void 0?void 0:R.length)!==null&&P!==void 0?P:0,padding:(j=(V=H?.bits)===null||V===void 0?void 0:V.padding)!==null&&j!==void 0?j:0,mightContain:k=>{var x;return(x=p?.mightContain(k))!==null&&x!==void 0&&x}}),z}(o,t.me,this.Le.tt(),a,c))}}}}Ze(t){let e=t.me.unchangedNames;if(!e||!e.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e,o,a;try{o=Ds(i).toUint8Array()}catch(c){if(c instanceof xp)return xc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new tw(o,r,s)}catch(c){return xc(c instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(t,e,i){return e.me.count===i-this.nt(t,e.targetId)?0:2}nt(t,e){let i=this.Le.getRemoteKeysForTarget(e),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.Ue(e,s,null),r++)}),r}rt(t){let e=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&$y(a.target)){let c=new pt(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Nn.newNoDocument(c,t))}s.be&&(e.set(o,s.Ce()),s.ve())}});let i=Nt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(t));let r=new Ip(t,e,this.Qe,this.ke,i);return this.ke=Or(),this.qe=xA(),this.Qe=new Oe(zt),r}$e(t,e){if(!this.ze(t))return;let i=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,i),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,i){if(!this.ze(t))return;let r=this.Ge(t);this.it(t,e)?r.Fe(e,1):r.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),i&&(this.ke=this.ke.insert(e,i))}removeTarget(t){this.Be.delete(t)}Ye(t){let e=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new Tp,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new yi(zt),this.qe=this.qe.insert(t,e)),e}ze(t){let e=this.Je(t)!==null;return e||dt("WatchChangeAggregator","Detected inactive target",t),e}Je(t){let e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Tp),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}};function xA(){return new Oe(pt.comparator)}function CA(){return new Oe(pt.comparator)}var _j={asc:"ASCENDING",desc:"DESCENDING"},bj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vj={and:"AND",or:"OR"},iw=class{constructor(t,e){this.databaseId=t,this.useProto3Json=e}};function nw(n,t){return n.useProto3Json||Kp(t)?t:{value:t}}function Ap(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cD(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function yj(n,t){return Ap(n,t.toTimestamp())}function ir(n){return de(!!n),St.fromTimestamp(function(e){let i=Pr(e);return new ci(i.seconds,i.nanos)}(n))}function ux(n,t){return rw(n,t).canonicalString()}function rw(n,t){let e=function(r){return new Ee(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function lD(n){let t=Ee.fromString(n);return de(fD(t)),t}function sw(n,t){return ux(n.databaseId,t.path)}function yy(n,t){let e=lD(t);if(e.get(1)!==n.databaseId.projectId)throw new lt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new lt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new pt(uD(e))}function dD(n,t){return ux(n.databaseId,t)}function wj(n){let t=lD(n);return t.length===4?Ee.emptyPath():uD(t)}function ow(n){return new Ee(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uD(n){return de(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function EA(n,t,e){return{name:sw(n,t),fields:e.value.mapValue.fields}}function xj(n,t){let e;if("targetChange"in t){t.targetChange;let i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:xt()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(l,d){return l.useProto3Json?(de(d===void 0||typeof d=="string"),Fi.fromBase64String(d||"")):(de(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Fi.fromUint8Array(d||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){let d=l.code===void 0?Q.UNKNOWN:aD(l.code);return new lt(d,l.message||"")}(o);e=new Sp(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;let i=t.documentChange;i.document,i.document.name,i.document.updateTime;let r=yy(n,i.document.name),s=ir(i.document.updateTime),o=i.document.createTime?ir(i.document.createTime):St.min(),a=new On({mapValue:{fields:i.document.fields}}),c=Nn.newFoundDocument(r,s,o,a),l=i.targetIds||[],d=i.removedTargetIds||[];e=new vc(l,d,c.key,c)}else if("documentDelete"in t){t.documentDelete;let i=t.documentDelete;i.document;let r=yy(n,i.document),s=i.readTime?ir(i.readTime):St.min(),o=Nn.newNoDocument(r,s),a=i.removedTargetIds||[];e=new vc([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;let i=t.documentRemove;i.document;let r=yy(n,i.document),s=i.removedTargetIds||[];e=new vc([],s,r,null)}else{if(!("filter"in t))return xt();{t.filter;let i=t.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new Jy(r,s),a=i.targetId;e=new kp(a,o)}}return e}function Cj(n,t){let e;if(t instanceof Uo)e={update:EA(n,t.key,t.value)};else if(t instanceof Bu)e={delete:sw(n,t.key)};else if(t instanceof Nr)e={update:EA(n,t.key,t.data),updateMask:Mj(t.fieldMask)};else{if(!(t instanceof Yy))return xt();e={verify:sw(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof Ac)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Dc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw xt()}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:yj(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:xt()}(n,t.precondition)),e}function Ej(n,t){return n&&n.length>0?(de(t!==void 0),n.map(e=>function(r,s){let o=r.updateTime?ir(r.updateTime):ir(s);return o.isEqual(St.min())&&(o=ir(s)),new Ky(o,r.transformResults||[])}(e,t))):[]}function Ij(n,t){return{documents:[dD(n,t.path)]}}function kj(n,t){let e={structuredQuery:{}},i=t.path,r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=dD(n,r);let s=function(l){if(l.length!==0)return mD(Fn.create(l,"and"))}(t.filters);s&&(e.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(d=>function(m){return{field:gc(m.field),direction:Aj(m.dir)}}(d))}(t.orderBy);o&&(e.structuredQuery.orderBy=o);let a=nw(n,t.limit);return a!==null&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{_t:e,parent:r}}function Sj(n){let t=wj(n.parent),e=n.structuredQuery,i=e.from?e.from.length:0,r=null;if(i>0){de(i===1);let d=e.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let s=[];e.where&&(s=function(h){let m=hD(h);return m instanceof Fn&&HA(m)?m.getFilters():[m]}(e.where));let o=[];e.orderBy&&(o=function(h){return h.map(m=>function(_){return new Sc(_c(_.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(e.orderBy));let a=null;e.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Kp(m)?null:m}(e.limit));let c=null;e.startAt&&(c=function(h){let m=!!h.before,p=h.values||[];return new kc(p,m)}(e.startAt));let l=null;return e.endAt&&(l=function(h){let m=!h.before,p=h.values||[];return new kc(p,m)}(e.endAt)),JU(t,r,o,s,a,"F",c,l)}function Tj(n,t){let e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function hD(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":let i=_c(e.unaryFilter.field);return Ge.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=_c(e.unaryFilter.field);return Ge.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=_c(e.unaryFilter.field);return Ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=_c(e.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(n):n.fieldFilter!==void 0?function(e){return Ge.create(_c(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Fn.create(e.compositeFilter.filters.map(i=>hD(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return xt()}}(e.compositeFilter.op))}(n):xt()}function Aj(n){return _j[n]}function Dj(n){return bj[n]}function Rj(n){return vj[n]}function gc(n){return{fieldPath:n.canonicalString()}}function _c(n){return Zi.fromServerFormat(n.fieldPath)}function mD(n){return n instanceof Ge?function(e){if(e.op==="=="){if(dA(e.value))return{unaryFilter:{field:gc(e.field),op:"IS_NAN"}};if(lA(e.value))return{unaryFilter:{field:gc(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(dA(e.value))return{unaryFilter:{field:gc(e.field),op:"IS_NOT_NAN"}};if(lA(e.value))return{unaryFilter:{field:gc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gc(e.field),op:Dj(e.op),value:e.value}}}(n):n instanceof Fn?function(e){let i=e.getFilters().map(r=>mD(r));return i.length===1?i[0]:{compositeFilter:{op:Rj(e.op),filters:i}}}(n):xt()}function Mj(n){let t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function fD(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var ju=class n{constructor(t,e,i,r,s=St.min(),o=St.min(),a=Fi.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(t){return new n(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}};var aw=class{constructor(t){this.ct=t}};function Pj(n){let t=Sj({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Gy(t,t.limit,"L"):t}var Dp=class{constructor(){}Pt(t,e){this.It(t,e),e.Tt()}It(t,e){if("nullValue"in t)this.Et(e,5);else if("booleanValue"in t)this.Et(e,10),e.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(e,15),e.dt(Pe(t.integerValue));else if("doubleValue"in t){let i=Pe(t.doubleValue);isNaN(i)?this.Et(e,13):(this.Et(e,15),Fu(i)?e.dt(0):e.dt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Et(e,20),typeof i=="string"&&(i=Pr(i)),e.At(`${i.seconds||""}`),e.dt(i.nanos||0)}else if("stringValue"in t)this.Rt(t.stringValue,e),this.Vt(e);else if("bytesValue"in t)this.Et(e,30),e.ft(Ds(t.bytesValue)),this.Vt(e);else if("referenceValue"in t)this.gt(t.referenceValue,e);else if("geoPointValue"in t){let i=t.geoPointValue;this.Et(e,45),e.dt(i.latitude||0),e.dt(i.longitude||0)}else"mapValue"in t?UA(t)?this.Et(e,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,e),this.Vt(e)):"arrayValue"in t?(this.wt(t.arrayValue,e),this.Vt(e)):xt()}Rt(t,e){this.Et(e,25),this.St(t,e)}St(t,e){e.At(t)}yt(t,e){let i=t.fields||{};this.Et(e,55);for(let r of Object.keys(i))this.Rt(r,e),this.It(i[r],e)}wt(t,e){let i=t.values||[];this.Et(e,50);for(let r of i)this.It(r,e)}gt(t,e){this.Et(e,37),pt.fromName(t).path.forEach(i=>{this.Et(e,60),this.St(i,e)})}Et(t,e){t.dt(e)}Vt(t){t.dt(2)}};Dp.bt=new Dp;var cw=class{constructor(){this._n=new lw}addToCollectionParentIndex(t,e){return this._n.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this._n.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(No.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(No.min())}updateCollectionGroup(t,e,i){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}},lw=class{constructor(){this.index={}}add(t){let e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new yi(Ee.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){let e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new yi(Ee.comparator)).toArray()}};var MZ=new Uint8Array(0);var Zn=class n{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new n(t,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Zn.DEFAULT_COLLECTION_PERCENTILE=10,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zn.DEFAULT=new Zn(41943040,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zn.DISABLED=new Zn(-1,0,0);var zu=class n{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new n(0)}static Ln(){return new n(-1)}};var dw=class{constructor(){this.changes=new Rs(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Nn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();let i=this.changes.get(e);return i!==void 0?it.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}};var uw=class{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}};var hw=class{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&Nu(i.mutation,r,Jn.empty(),ci.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Nt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Nt()){let r=Ro();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=Ru();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){let i=Ro();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Nt()))}populateOverlays(t,e,i){let r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{e.set(o,a)})})}computeViews(t,e,i,r){let s=Or(),o=Ou(),a=function(){return Ou()}();return e.forEach((c,l)=>{let d=i.get(l.key);r.has(l.key)&&(d===void 0||d.mutation instanceof Nr)?s=s.insert(l.key,l):d!==void 0?(o.set(l.key,d.mutation.getFieldMask()),Nu(d.mutation,l,d.mutation.getFieldMask(),ci.now())):o.set(l.key,Jn.empty())}),this.recalculateAndSaveOverlays(t,s).next(c=>(c.forEach((l,d)=>o.set(l,d)),e.forEach((l,d)=>{var h;return a.set(l,new uw(d,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,e){let i=Ou(),r=new Oe((o,a)=>o-a),s=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=e.get(c);if(l===null)return;let d=i.get(c)||Jn.empty();d=a.applyToLocalView(l,d),i.set(c,d);let h=(r.get(a.batchId)||Nt()).add(c);r=r.insert(a.batchId,h)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,d=c.value,h=ZA();d.forEach(m=>{if(!s.has(m)){let p=sD(e.get(m),i.get(m));p!==null&&h.set(m,p),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,h))}return it.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(o){return pt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):GA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):it.resolve(Ro()),a=-1,c=s;return o.next(l=>it.forEach(l,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?it.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,c,l,Nt())).next(d=>({batchId:a,changes:XA(d)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new pt(e)).next(i=>{let r=Ru();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){let s=e.collectionGroup,o=Ru();return this.indexManager.getCollectionParents(t,s).next(a=>it.forEach(a,c=>{let l=function(h,m){return new Lo(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e,c.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,i,r).next(d=>{d.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((c,l)=>{let d=l.getKey();o.get(d)===null&&(o=o.insert(d,Nn.newInvalidDocument(d)))});let a=Ru();return o.forEach((c,l)=>{let d=s.get(c);d!==void 0&&Nu(d.mutation,l,Jn.empty(),ci.now()),Qp(e,l)&&(a=a.insert(c,l))}),a})}};var mw=class{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,e){return it.resolve(this.cr.get(e))}saveBundleMetadata(t,e){return this.cr.set(e.id,function(r){return{id:r.id,version:r.version,createTime:ir(r.createTime)}}(e)),it.resolve()}getNamedQuery(t,e){return it.resolve(this.lr.get(e))}saveNamedQuery(t,e){return this.lr.set(e.name,function(r){return{name:r.name,query:Pj(r.bundledQuery),readTime:ir(r.readTime)}}(e)),it.resolve()}};var fw=class{constructor(){this.overlays=new Oe(pt.comparator),this.hr=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){let i=Ro();return it.forEach(e,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.ht(t,e,s)}),it.resolve()}removeOverlaysForBatchId(t,e,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),it.resolve()}getOverlaysForCollection(t,e,i){let r=Ro(),s=e.length+1,o=new pt(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!e.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return it.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Oe((l,d)=>l-d),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===e&&l.largestBatchId>i){let d=s.get(l.largestBatchId);d===null&&(d=Ro(),s=s.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=Ro(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=r)););return it.resolve(a)}ht(t,e,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Zy(e,i));let s=this.hr.get(e);s===void 0&&(s=Nt(),this.hr.set(e,s)),this.hr.set(e,s.add(i.key))}};var Hu=class{constructor(){this.Pr=new yi(qe.Ir),this.Tr=new yi(qe.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,e){let i=new qe(t,e);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Ar(new qe(t,e))}Rr(t,e){t.forEach(i=>this.removeReference(i,e))}Vr(t){let e=new pt(new Ee([])),i=new qe(e,t),r=new qe(e,t+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){let e=new pt(new Ee([])),i=new qe(e,t),r=new qe(e,t+1),s=Nt();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){let e=new qe(t,0),i=this.Pr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}},qe=class{constructor(t,e){this.key=t,this.pr=e}static Ir(t,e){return pt.comparator(t.key,e.key)||zt(t.pr,e.pr)}static Er(t,e){return zt(t.pr,e.pr)||pt.comparator(t.key,e.key)}};var pw=class{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.yr=1,this.wr=new yi(qe.Ir)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Qy(s,e,i,r);this.mutationQueue.push(o);for(let a of r)this.wr=this.wr.add(new qe(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return it.resolve(o)}lookupMutationBatch(t,e){return it.resolve(this.Sr(e))}getNextMutationBatchAfterBatchId(t,e){let i=e+1,r=this.br(i),s=r<0?0:r;return it.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){let i=new qe(e,0),r=new qe(e,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{let a=this.Sr(o.pr);s.push(a)}),it.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new yi(zt);return e.forEach(r=>{let s=new qe(r,0),o=new qe(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),it.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(t,e){let i=e.path,r=i.length+1,s=i;pt.isDocumentKey(s)||(s=s.child(""));let o=new qe(new pt(s),0),a=new yi(zt);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.pr)),!0)},o),it.resolve(this.Dr(a))}Dr(t){let e=[];return t.forEach(i=>{let r=this.Sr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){de(this.Cr(e.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return it.forEach(e.mutations,r=>{let s=new qe(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.wr=i})}Mn(t){}containsKey(t,e){let i=new qe(e,0),r=this.wr.firstAfterOrEqual(i);return it.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}Cr(t,e){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){let e=this.br(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}};var gw=class{constructor(t){this.vr=t,this.docs=function(){return new Oe(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){let i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){let e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){let i=this.docs.get(e);return it.resolve(i?i.document.mutableCopy():Nn.newInvalidDocument(e))}getEntries(t,e){let i=Or();return e.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Nn.newInvalidDocument(r))}),it.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=Or(),o=e.path,a=new pt(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:d}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||HU(zU(d),i)<=0||(r.has(d.key)||Qp(e,d))&&(s=s.insert(d.key,d.mutableCopy()))}return it.resolve(s)}getAllFromCollectionGroup(t,e,i,r){xt()}Fr(t,e){return it.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new _w(this)}getSize(t){return it.resolve(this.size)}},_w=class extends dw{constructor(t){super(),this.ar=t}applyChanges(t){let e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.ar.addEntry(t,r)):this.ar.removeEntry(i)}),it.waitFor(e)}getFromCache(t,e){return this.ar.getEntry(t,e)}getAllFromCache(t,e){return this.ar.getEntries(t,e)}};var bw=class{constructor(t){this.persistence=t,this.Mr=new Rs(e=>cx(e),lx),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Hu,this.targetCount=0,this.Lr=zu.Nn()}forEachTarget(t,e){return this.Mr.forEach((i,r)=>e(r)),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Or&&(this.Or=e),it.resolve()}qn(t){this.Mr.set(t.target,t);let e=t.targetId;e>this.highestTargetId&&(this.Lr=new zu(e),this.highestTargetId=e),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,e){return this.qn(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.qn(e),it.resolve()}removeTargetData(t,e){return this.Mr.delete(e.target),this.Nr.Vr(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,i){let r=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=e&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),it.waitFor(s).next(()=>r)}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){let i=this.Mr.get(e)||null;return it.resolve(i)}addMatchingKeys(t,e,i){return this.Nr.dr(e,i),it.resolve()}removeMatchingKeys(t,e,i){this.Nr.Rr(e,i);let r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),it.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Nr.Vr(e),it.resolve()}getMatchingKeysForTargetId(t,e){let i=this.Nr.gr(e);return it.resolve(i)}containsKey(t,e){return it.resolve(this.Nr.containsKey(e))}};var vw=class{constructor(t,e){this.Br={},this.overlays={},this.kr=new VA(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new bw(this),this.indexManager=new cw,this.remoteDocumentCache=function(r){return new gw(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new aw(e),this.$r=new mw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new fw,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new pw(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,e,i){dt("MemoryPersistence","Starting transaction:",t);let r=new yw(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(t,e){return it.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}},yw=class extends My{constructor(t){super(),this.currentSequenceNumber=t}},ww=class n{constructor(t){this.persistence=t,this.zr=new Hu,this.jr=null}static Hr(t){return new n(t)}get Jr(){if(this.jr)return this.jr;throw xt()}addReference(t,e,i){return this.zr.addReference(i,e),this.Jr.delete(i.toString()),it.resolve()}removeReference(t,e,i){return this.zr.removeReference(i,e),this.Jr.add(i.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.Jr.add(e.toString()),it.resolve()}removeTarget(t,e){this.zr.Vr(e.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Ur(){this.jr=new Set}Wr(t){let e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.Jr,i=>{let r=pt.fromPath(i);return this.Yr(t,r).next(s=>{s||e.removeEntry(r,St.min())})}).next(()=>(this.jr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Yr(t,e).next(i=>{i?this.Jr.delete(e.toString()):this.Jr.add(e.toString())})}Kr(t){return 0}Yr(t,e){return it.or([()=>it.resolve(this.zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gr(t,e)])}};var xw=class n{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.qi=i,this.Qi=r}static Ki(t,e){let i=Nt(),r=Nt();for(let s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(t,e.fromCache,i,r)}};var Cw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}};var Ew=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return SS()?8:$U(_e())>0?6:4}()}initialize(t,e){this.zi=t,this.indexManager=e,this.$i=!0}getDocumentsMatchingQuery(t,e,i,r){let s={result:null};return this.ji(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Cw;return this.Ji(t,e,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(t,e,o,a.size)})}).next(()=>s.result)}Yi(t,e,i,r){return i.documentReadCount<this.Wi?(Du()<=Ot.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",pc(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),it.resolve()):(Du()<=Ot.DEBUG&&dt("QueryEngine","Query:",pc(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Du()<=Ot.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",pc(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,er(e))):it.resolve())}ji(t,e){if(fA(e))return it.resolve(null);let i=er(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=Gy(e,null,"F"),i=er(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{let o=Nt(...s);return this.zi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(c=>{let l=this.Zi(e,a);return this.Xi(e,l,o,c.readTime)?this.ji(t,Gy(e,null,"F")):this.es(t,l,e,c)}))})))}Hi(t,e,i,r){return fA(e)||r.isEqual(St.min())?it.resolve(null):this.zi.getDocuments(t,i).next(s=>{let o=this.Zi(e,s);return this.Xi(e,o,i,r)?it.resolve(null):(Du()<=Ot.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),pc(e)),this.es(t,o,e,jU(r,-1)).next(a=>a))})}Zi(t,e){let i=new yi(YA(t));return e.forEach((r,s)=>{Qp(t,s)&&(i=i.add(s))}),i}Xi(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;let s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(t,e,i){return Du()<=Ot.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",pc(e)),this.zi.getDocumentsMatchingQuery(t,e,No.min(),i)}es(t,e,i,r){return this.zi.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Iw=class{constructor(t,e,i,r){this.persistence=t,this.ts=e,this.serializer=r,this.ns=new Oe(zt),this.rs=new Rs(s=>cx(s),lx),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(i)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hw(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ns))}};function Oj(n,t,e,i){return new Iw(n,t,e,i)}function pD(n,t){return E(this,null,function*(){let e=kt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e._s(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],c=Nt();for(let l of r){o.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of s){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return e.localDocuments.getDocuments(i,c).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})})}function Nj(n,t){let e=kt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=t.batch.keys(),s=e.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,d){let h=l.batch,m=h.keys(),p=it.resolve();return m.forEach(_=>{p=p.next(()=>d.getEntry(c,_)).next(b=>{let v=l.docVersions.get(_);de(v!==null),b.version.compareTo(v)<0&&(h.applyToRemoteDocument(b,l),b.isValidDocument()&&(b.setReadTime(l.commitVersion),d.addEntry(b)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=Nt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function gD(n){let t=kt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Qr.getLastRemoteSnapshotVersion(e))}function Fj(n,t){let e=kt(n),i=t.snapshotVersion,r=e.ns;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=e.os.newChangeBuffer({trackRemovals:!0});r=e.ns;let a=[];t.targetChanges.forEach((d,h)=>{let m=r.get(h);if(!m)return;a.push(e.Qr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>e.Qr.addMatchingKeys(s,d.addedDocuments,h)));let p=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?p=p.withResumeToken(Fi.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,i)),r=r.insert(h,p),function(b,v,R){return b.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(m,p,d)&&a.push(e.Qr.updateTargetData(s,p))});let c=Or(),l=Nt();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(Lj(s,o,t.documentUpdates).next(d=>{c=d.cs,l=d.ls})),!i.isEqual(St.min())){let d=e.Qr.getLastRemoteSnapshotVersion(s).next(h=>e.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return it.waitFor(a).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(e.ns=r,s))}function Lj(n,t,e){let i=Nt(),r=Nt();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=Or();return e.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(St.min())?(t.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(c),o=o.insert(a,c)):dt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:o,ls:r}})}function Vj(n,t){let e=kt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Bj(n,t){let e=kt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Qr.getTargetData(i,t).next(s=>s?(r=s,it.resolve(r)):e.Qr.allocateTargetId(i).next(o=>(r=new ju(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=e.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ns=e.ns.insert(i.targetId,i),e.rs.set(t,i.targetId)),i})}function kw(n,t,e){return E(this,null,function*(){let i=kt(n),r=i.ns.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Yu(o))throw o;dt("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.ns=i.ns.remove(t),i.rs.delete(r.target)})}function IA(n,t,e){let i=kt(n),r=St.min(),s=Nt();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,d){let h=kt(c),m=h.rs.get(d);return m!==void 0?it.resolve(h.ns.get(m)):h.Qr.getTargetData(l,d)}(i,o,er(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>i.ts.getDocumentsMatchingQuery(o,t,e?r:St.min(),e?s:Nt())).next(a=>(Uj(i,ej(t),a),{documents:a,hs:s})))}function Uj(n,t,e){let i=n.ss.get(t)||St.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.ss.set(t,i)}var Rp=class{constructor(){this.activeTargetIds=aj()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){let t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}};var Sw=class{constructor(){this.no=new Rp,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,e,i){this.ro[t]=e}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new Rp,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}};var Tw=class{io(t){}shutdown(){}};var Mp=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){dt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let t of this.uo)t(0)}ao(){dt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var pp=null;function wy(){return pp===null?pp=function(){return 268435456+Math.round(2147483648*Math.random())}():pp++,"0x"+pp.toString(16)}var jj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Aw=class{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}};var vi="WebChannelConnection",Dw=class extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+e.host,this.So=`projects/${r}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(e,i,r,s,o){let a=wy(),c=this.vo(e,i.toUriEncodedString());dt("RestConnection",`Sending RPC '${e}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,s,o),this.Mo(e,c,l,r).then(d=>(dt("RestConnection",`Received RPC '${e}' ${a}: `,d),d),d=>{throw xc("RestConnection",`RPC '${e}' ${a} failed with error: `,d,"url: ",c,"request:",r),d})}xo(e,i,r,s,o,a){return this.Co(e,i,r,s,o)}Fo(e,i,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}vo(e,i){let r=jj[e];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,e,i,r){let s=wy();return new Promise((o,a)=>{let c=new fy;c.setWithCredentials(!0),c.listenOnce(gy.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Au.NO_ERROR:let d=c.getResponseJson();dt(vi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),o(d);break;case Au.TIMEOUT:dt(vi,`RPC '${t}' ${s} timed out`),a(new lt(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Au.HTTP_ERROR:let h=c.getStatus();if(dt(vi,`RPC '${t}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let p=m?.error;if(p&&p.status&&p.message){let _=function(v){let R=v.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(R)>=0?R:Q.UNKNOWN}(p.status);a(new lt(_,p.message))}else a(new lt(Q.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new lt(Q.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{dt(vi,`RPC '${t}' ${s} completed.`)}});let l=JSON.stringify(r);dt(vi,`RPC '${t}' ${s} sending request:`,r),c.send(e,"POST",l,i,15)})}Oo(t,e,i){let r=wy(),s=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=vy(),a=by(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new py({})),this.Fo(c.initMessageHeaders,e,i),c.encodeInitMessageHeaders=!0;let d=s.join("");dt(vi,`Creating RPC '${t}' stream ${r}: ${d}`,c);let h=o.createWebChannel(d,c),m=!1,p=!1,_=new Aw({lo:v=>{p?dt(vi,`Not sending because RPC '${t}' stream ${r} is closed:`,v):(m||(dt(vi,`Opening RPC '${t}' stream ${r} transport.`),h.open(),m=!0),dt(vi,`RPC '${t}' stream ${r} sending:`,v),h.send(v))},ho:()=>h.close()}),b=(v,R,P)=>{v.listen(R,V=>{try{P(V)}catch(j){setTimeout(()=>{throw j},0)}})};return b(h,fc.EventType.OPEN,()=>{p||(dt(vi,`RPC '${t}' stream ${r} transport opened.`),_.mo())}),b(h,fc.EventType.CLOSE,()=>{p||(p=!0,dt(vi,`RPC '${t}' stream ${r} transport closed`),_.po())}),b(h,fc.EventType.ERROR,v=>{p||(p=!0,xc(vi,`RPC '${t}' stream ${r} transport errored:`,v),_.po(new lt(Q.UNAVAILABLE,"The operation could not be completed")))}),b(h,fc.EventType.MESSAGE,v=>{var R;if(!p){let P=v.data[0];de(!!P);let V=P,j=V.error||((R=V[0])===null||R===void 0?void 0:R.error);if(j){dt(vi,`RPC '${t}' stream ${r} received error:`,j);let z=j.status,H=function(I){let D=$e[I];if(D!==void 0)return aD(D)}(z),k=j.message;H===void 0&&(H=Q.INTERNAL,k="Unknown error status: "+z+" with message "+j.message),p=!0,_.po(new lt(H,k)),h.close()}else dt(vi,`RPC '${t}' stream ${r} received:`,P),_.yo(P)}}),b(a,_y.STAT_EVENT,v=>{v.stat===mp.PROXY?dt(vi,`RPC '${t}' stream ${r} detected buffering proxy`):v.stat===mp.NOPROXY&&dt(vi,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{_.fo()},0),_}};function xy(){return typeof document<"u"?document:null}function Xp(n){return new iw(n,!0)}var Pp=class{constructor(t,e,i=1e3,r=1.5,s=6e4){this.oi=t,this.timerId=e,this.No=i,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();let e=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,e-i);r>0&&dt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var Op=class{constructor(t,e,i,r,s,o,a,c){this.oi=t,this.Go=i,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Pp(t,e)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return E(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}r_(){return E(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(t,e){return E(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,t!==4?this.Yo.reset():e&&e.code===Q.RESOURCE_EXHAUSTED?(Mr(e.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):e&&e.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=t,yield this.listener.Ao(e)})}__(){}auth(){this.state=1;let t=this.a_(this.jo),e=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===e&&this.u_(i,r)},i=>{t(()=>{let r=new lt(Q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(t,e){let i=this.a_(this.jo);this.stream=this.l_(t,e),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>E(this,null,function*(){this.state=0,this.start()}))}c_(t){return dt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return e=>{this.oi.enqueueAndForget(()=>this.jo===t?e():(dt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Rw=class extends Op{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}l_(t,e){return this.connection.Oo("Listen",t,e)}onMessage(t){this.Yo.reset();let e=xj(this.serializer,t),i=function(s){if(!("targetChange"in s))return St.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?St.min():o.readTime?ir(o.readTime):St.min()}(t);return this.listener.h_(e,i)}P_(t){let e={};e.database=ow(this.serializer),e.addTarget=function(s,o){let a,c=o.target;if(a=$y(c)?{documents:Ij(s,c)}:{query:kj(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=cD(s,o.resumeToken);let l=nw(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(St.min())>0){a.readTime=Ap(s,o.snapshotVersion.toTimestamp());let l=nw(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);let i=Tj(this.serializer,t);i&&(e.labels=i),this.i_(e)}I_(t){let e={};e.database=ow(this.serializer),e.removeTarget=t,this.i_(e)}},Mw=class extends Op{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,e){return this.connection.Oo("Write",t,e)}onMessage(t){if(de(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();let e=Ej(t.writeResults,t.commitTime),i=ir(t.commitTime);return this.listener.A_(i,e)}return de(!t.writeResults||t.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let t={};t.database=ow(this.serializer),this.i_(t)}d_(t){let e={streamToken:this.lastStreamToken,writes:t.map(i=>Cj(this.serializer,i))};this.i_(e)}};var Pw=class extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new lt(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,e,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,rw(e,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new lt(Q.UNKNOWN,s.toString())})}xo(t,e,i,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(t,rw(e,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new lt(Q.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},Ow=class{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,t==="Online"&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){let e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Mr(e),this.y_=!1):dt("OnlineStateTracker",e)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var Nw=class{constructor(t,e,i,r,s){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{i.enqueueAndForget(()=>E(this,null,function*(){zo(this)&&(dt("RemoteStore","Restarting streams for network reachability change."),yield function(c){return E(this,null,function*(){let l=kt(c);l.M_.add(4),yield Qu(l),l.N_.set("Unknown"),l.M_.delete(4),yield Zp(l)})}(this))}))}),this.N_=new Ow(i,r)}};function Zp(n){return E(this,null,function*(){if(zo(n))for(let t of n.x_)yield t(!0)})}function Qu(n){return E(this,null,function*(){for(let t of n.x_)yield t(!1)})}function _D(n,t){let e=kt(n);e.F_.has(t.targetId)||(e.F_.set(t.targetId,t),px(e)?fx(e):Lc(e).Xo()&&mx(e,t))}function hx(n,t){let e=kt(n),i=Lc(e);e.F_.delete(t),i.Xo()&&bD(e,t),e.F_.size===0&&(i.Xo()?i.n_():zo(e)&&e.N_.set("Unknown"))}function mx(n,t){if(n.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){let e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Lc(n).P_(t)}function bD(n,t){n.L_.xe(t),Lc(n).I_(t)}function fx(n){n.L_=new ew({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.F_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),Lc(n).start(),n.N_.w_()}function px(n){return zo(n)&&!Lc(n).Zo()&&n.F_.size>0}function zo(n){return kt(n).M_.size===0}function vD(n){n.L_=void 0}function zj(n){return E(this,null,function*(){n.N_.set("Online")})}function Hj(n){return E(this,null,function*(){n.F_.forEach((t,e)=>{mx(n,t)})})}function Wj(n,t){return E(this,null,function*(){vD(n),px(n)?(n.N_.D_(t),fx(n)):n.N_.set("Unknown")})}function $j(n,t,e){return E(this,null,function*(){if(n.N_.set("Online"),t instanceof Sp&&t.state===2&&t.cause)try{yield function(r,s){return E(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.F_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.F_.delete(a),r.L_.removeTarget(a))})}(n,t)}catch(i){dt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Np(n,i)}else if(t instanceof vc?n.L_.Ke(t):t instanceof kp?n.L_.He(t):n.L_.We(t),!e.isEqual(St.min()))try{let i=yield gD(n.localStore);e.compareTo(i)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let d=s.F_.get(l);d&&s.F_.set(l,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let d=s.F_.get(c);if(!d)return;s.F_.set(c,d.withResumeToken(Fi.EMPTY_BYTE_STRING,d.snapshotVersion)),bD(s,c);let h=new ju(d.target,c,l,d.sequenceNumber);mx(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){dt("RemoteStore","Failed to raise snapshot:",i),yield Np(n,i)}})}function Np(n,t,e){return E(this,null,function*(){if(!Yu(t))throw t;n.M_.add(1),yield Qu(n),n.N_.set("Offline"),e||(e=()=>gD(n.localStore)),n.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){dt("RemoteStore","Retrying IndexedDB access"),yield e(),n.M_.delete(1),yield Zp(n)}))})}function yD(n,t){return t().catch(e=>Np(n,e,t))}function Jp(n){return E(this,null,function*(){let t=kt(n),e=Ms(t),i=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;qj(t);)try{let r=yield Vj(t.localStore,i);if(r===null){t.v_.length===0&&e.n_();break}i=r.batchId,Gj(t,r)}catch(r){yield Np(t,r)}wD(t)&&xD(t)})}function qj(n){return zo(n)&&n.v_.length<10}function Gj(n,t){n.v_.push(t);let e=Ms(n);e.Xo()&&e.E_&&e.d_(t.mutations)}function wD(n){return zo(n)&&!Ms(n).Zo()&&n.v_.length>0}function xD(n){Ms(n).start()}function Kj(n){return E(this,null,function*(){Ms(n).V_()})}function Yj(n){return E(this,null,function*(){let t=Ms(n);for(let e of n.v_)t.d_(e.mutations)})}function Qj(n,t,e){return E(this,null,function*(){let i=n.v_.shift(),r=Xy.from(i,t,e);yield yD(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Jp(n)})}function Xj(n,t){return E(this,null,function*(){t&&Ms(n).E_&&(yield function(i,r){return E(this,null,function*(){if(function(o){return fj(o)&&o!==Q.ABORTED}(r.code)){let s=i.v_.shift();Ms(i).t_(),yield yD(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Jp(i)}})}(n,t)),wD(n)&&xD(n)})}function kA(n,t){return E(this,null,function*(){let e=kt(n);e.asyncQueue.verifyOperationInProgress(),dt("RemoteStore","RemoteStore received new credentials");let i=zo(e);e.M_.add(3),yield Qu(e),i&&e.N_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.M_.delete(3),yield Zp(e)})}function Zj(n,t){return E(this,null,function*(){let e=kt(n);t?(e.M_.delete(2),yield Zp(e)):t||(e.M_.add(2),yield Qu(e),e.N_.set("Unknown"))})}function Lc(n){return n.B_||(n.B_=function(e,i,r){let s=kt(e);return s.f_(),new Rw(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Po:zj.bind(null,n),To:Hj.bind(null,n),Ao:Wj.bind(null,n),h_:$j.bind(null,n)}),n.x_.push(t=>E(this,null,function*(){t?(n.B_.t_(),px(n)?fx(n):n.N_.set("Unknown")):(yield n.B_.stop(),vD(n))}))),n.B_}function Ms(n){return n.k_||(n.k_=function(e,i,r){let s=kt(e);return s.f_(),new Mw(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:Kj.bind(null,n),Ao:Xj.bind(null,n),R_:Yj.bind(null,n),A_:Qj.bind(null,n)}),n.x_.push(t=>E(this,null,function*(){t?(n.k_.t_(),yield Jp(n)):(yield n.k_.stop(),n.v_.length>0&&(dt("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))}))),n.k_}var Fw=class n{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){let o=Date.now()+i,a=new n(t,e,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function gx(n,t){if(Mr("AsyncQueue",`${t}: ${n}`),Yu(n))return new lt(Q.UNAVAILABLE,`${t}: ${n}`);throw n}var Fp=class n{constructor(t){this.comparator=t?(e,i)=>t(e,i)||pt.comparator(e.key,i.key):(e,i)=>pt.comparator(e.key,i.key),this.keyedMap=Ru(),this.sortedSet=new Oe(this.comparator)}static emptySet(t){return new n(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){let e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){let e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){let e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof n)||this.size!==t.size)return!1;let e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){let r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){let i=new n;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}};var Lp=class{constructor(){this.q_=new Oe(pt.comparator)}track(t){let e=t.doc.key,i=this.q_.get(e);i?t.type!==0&&i.type===3?this.q_=this.q_.insert(e,t):t.type===3&&i.type!==1?this.q_=this.q_.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.q_=this.q_.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.q_=this.q_.remove(e):t.type===1&&i.type===2?this.q_=this.q_.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):xt():this.q_=this.q_.insert(e,t)}Q_(){let t=[];return this.q_.inorderTraversal((e,i)=>{t.push(i)}),t}},Mc=class n{constructor(t,e,i,r,s,o,a,c,l){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(t,e,i,r,s){let o=[];return e.forEach(a=>{o.push({type:0,doc:a})}),new n(t,e,Fp.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Yp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;let e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}};var Lw=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}},Vw=class{constructor(){this.queries=new Rs(t=>KA(t),Yp),this.onlineState="Unknown",this.z_=new Set}};function Jj(n,t){return E(this,null,function*(){let e=kt(n),i=3,r=t.query,s=e.queries.get(r);s?!s.W_()&&t.G_()&&(i=2):(s=new Lw,i=t.G_()?0:1);try{switch(i){case 0:s.K_=yield e.onListen(r,!0);break;case 1:s.K_=yield e.onListen(r,!1);break;case 2:yield e.onFirstRemoteStoreListen(r)}}catch(o){let a=gx(o,`Initialization of query '${pc(t.query)}' failed`);return void t.onError(a)}e.queries.set(r,s),s.U_.push(t),t.j_(e.onlineState),s.K_&&t.H_(s.K_)&&_x(e)})}function t6(n,t){return E(this,null,function*(){let e=kt(n),i=t.query,r=3,s=e.queries.get(i);if(s){let o=s.U_.indexOf(t);o>=0&&(s.U_.splice(o,1),s.U_.length===0?r=t.G_()?0:1:!s.W_()&&t.G_()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}})}function e6(n,t){let e=kt(n),i=!1;for(let r of t){let s=r.query,o=e.queries.get(s);if(o){for(let a of o.U_)a.H_(r)&&(i=!0);o.K_=r}}i&&_x(e)}function i6(n,t,e){let i=kt(n),r=i.queries.get(t);if(r)for(let s of r.U_)s.onError(e);i.queries.delete(t)}function _x(n){n.z_.forEach(t=>{t.next()})}var Bw,SA;(SA=Bw||(Bw={})).J_="default",SA.Cache="cache";var Uw=class{constructor(t,e,i){this.query=t,this.Y_=e,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(t){if(!this.options.includeMetadataChanges){let i=[];for(let r of t.docChanges)r.type!==3&&i.push(r);t=new Mc(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),e=!0):this.ta(t,this.onlineState)&&(this.na(t),e=!0),this.X_=t,e}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let e=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),e=!0),e}ta(t,e){if(!t.fromCache||!this.G_())return!0;let i=e!=="Offline";return(!this.options.ra||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}ea(t){if(t.docChanges.length>0)return!0;let e=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}na(t){t=Mc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==Bw.Cache}};var Vp=class{constructor(t){this.key=t}},Bp=class{constructor(t){this.key=t}},jw=class{constructor(t,e){this.query=t,this.la=e,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Nt(),this.mutatedKeys=Nt(),this.Ia=YA(t),this.Ta=new Fp(this.Ia)}get Ea(){return this.la}da(t,e){let i=e?e.Aa:new Lp,r=e?e.Ta:this.Ta,s=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,h)=>{let m=r.get(d),p=Qp(this.query,h)?h:null,_=!!m&&this.mutatedKeys.has(m.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),v=!1;m&&p?m.data.isEqual(p.data)?_!==b&&(i.track({type:3,doc:p}),v=!0):this.Ra(m,p)||(i.track({type:2,doc:p}),v=!0,(c&&this.Ia(p,c)>0||l&&this.Ia(p,l)<0)&&(a=!0)):!m&&p?(i.track({type:0,doc:p}),v=!0):m&&!p&&(i.track({type:1,doc:m}),v=!0,(c||l)&&(a=!0)),v&&(p?(o=o.add(p),s=b?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Ta:o,Aa:i,Xi:a,mutatedKeys:s}}Ra(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){let s=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;let o=t.Aa.Q_();o.sort((d,h)=>function(p,_){let b=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return b(p)-b(_)}(d.type,h.type)||this.Ia(d.doc,h.doc)),this.Va(i),r=r!=null&&r;let a=e&&!r?this.ma():[],c=this.Pa.size===0&&this.current&&!r?1:0,l=c!==this.ha;return this.ha=c,o.length!==0||l?{snapshot:new Mc(this.query,t.Ta,s,o,t.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Lp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(e=>this.la=this.la.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.la=this.la.delete(e)),this.current=t.current)}ma(){if(!this.current)return[];let t=this.Pa;this.Pa=Nt(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});let e=[];return t.forEach(i=>{this.Pa.has(i)||e.push(new Bp(i))}),this.Pa.forEach(i=>{t.has(i)||e.push(new Vp(i))}),e}pa(t){this.la=t.hs,this.Pa=Nt();let e=this.da(t.documents);return this.applyChanges(e,!0)}ya(){return Mc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},zw=class{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}},Hw=class{constructor(t){this.key=t,this.wa=!1}},Ww=class{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Rs(a=>KA(a),Yp),this.Da=new Map,this.Ca=new Set,this.va=new Oe(pt.comparator),this.Fa=new Map,this.Ma=new Hu,this.xa={},this.Oa=new Map,this.Na=zu.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function n6(n,t,e=!0){return E(this,null,function*(){let i=TD(n),r,s=i.ba.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=yield CD(i,t,e,!0),r})}function r6(n,t){return E(this,null,function*(){let e=TD(n);yield CD(e,t,!0,!1)})}function CD(n,t,e,i){return E(this,null,function*(){let r=yield Bj(n.localStore,er(t)),s=r.targetId,o=e?n.sharedClientState.addLocalQueryTarget(s):"not-current",a;return i&&(a=yield s6(n,t,s,o==="current",r.resumeToken)),n.isPrimaryClient&&e&&_D(n.remoteStore,r),a})}function s6(n,t,e,i,r){return E(this,null,function*(){n.Ba=(h,m,p)=>function(b,v,R,P){return E(this,null,function*(){let V=v.view.da(R);V.Xi&&(V=yield IA(b.localStore,v.query,!1).then(({documents:k})=>v.view.da(k,V)));let j=P&&P.targetChanges.get(v.targetId),z=P&&P.targetMismatches.get(v.targetId)!=null,H=v.view.applyChanges(V,b.isPrimaryClient,j,z);return AA(b,v.targetId,H.fa),H.snapshot})}(n,h,m,p);let s=yield IA(n.localStore,t,!0),o=new jw(t,s.hs),a=o.da(s.documents),c=Uu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),l=o.applyChanges(a,n.isPrimaryClient,c);AA(n,e,l.fa);let d=new zw(t,e,o);return n.ba.set(t,d),n.Da.has(e)?n.Da.get(e).push(t):n.Da.set(e,[t]),l.snapshot})}function o6(n,t,e){return E(this,null,function*(){let i=kt(n),r=i.ba.get(t),s=i.Da.get(r.targetId);if(s.length>1)return i.Da.set(r.targetId,s.filter(o=>!Yp(o,t))),void i.ba.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield kw(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&hx(i.remoteStore,r.targetId),$w(i,r.targetId)}).catch(Ku))):($w(i,r.targetId),yield kw(i.localStore,r.targetId,!0))})}function a6(n,t){return E(this,null,function*(){let e=kt(n),i=e.ba.get(t),r=e.Da.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),hx(e.remoteStore,i.targetId))})}function c6(n,t,e){return E(this,null,function*(){let i=p6(n);try{let r=yield function(o,a){let c=kt(o),l=ci.now(),d=a.reduce((p,_)=>p.add(_.key),Nt()),h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=Or(),b=Nt();return c.os.getEntries(p,d).next(v=>{_=v,_.forEach((R,P)=>{P.isValidDocument()||(b=b.add(R))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,_)).next(v=>{h=v;let R=[];for(let P of a){let V=mj(P,h.get(P.key).overlayedDocument);V!=null&&R.push(new Nr(P.key,V,jA(V.value.mapValue),Ts.exists(!0)))}return c.mutationQueue.addMutationBatch(p,l,R,a)}).next(v=>{m=v;let R=v.applyToLocalDocumentSet(h,b);return c.documentOverlayCache.saveOverlays(p,v.batchId,R)})}).then(()=>({batchId:m.batchId,changes:XA(h)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,c){let l=o.xa[o.currentUser.toKey()];l||(l=new Oe(zt)),l=l.insert(a,c),o.xa[o.currentUser.toKey()]=l}(i,r.batchId,e),yield Xu(i,r.changes),yield Jp(i.remoteStore)}catch(r){let s=gx(r,"Failed to persist write");e.reject(s)}})}function ED(n,t){return E(this,null,function*(){let e=kt(n);try{let i=yield Fj(e.localStore,t);t.targetChanges.forEach((r,s)=>{let o=e.Fa.get(s);o&&(de(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?de(o.wa):r.removedDocuments.size>0&&(de(o.wa),o.wa=!1))}),yield Xu(e,i,t)}catch(i){yield Ku(i)}})}function TA(n,t,e){let i=kt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){let r=[];i.ba.forEach((s,o)=>{let a=o.view.j_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){let c=kt(o);c.onlineState=a;let l=!1;c.queries.forEach((d,h)=>{for(let m of h.U_)m.j_(a)&&(l=!0)}),l&&_x(c)}(i.eventManager,t),r.length&&i.Sa.h_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function l6(n,t,e){return E(this,null,function*(){let i=kt(n);i.sharedClientState.updateQueryState(t,"rejected",e);let r=i.Fa.get(t),s=r&&r.key;if(s){let o=new Oe(pt.comparator);o=o.insert(s,Nn.newNoDocument(s,St.min()));let a=Nt().add(s),c=new Ip(St.min(),new Map,new Oe(zt),o,a);yield ED(i,c),i.va=i.va.remove(s),i.Fa.delete(t),bx(i)}else yield kw(i.localStore,t,!1).then(()=>$w(i,t,e)).catch(Ku)})}function d6(n,t){return E(this,null,function*(){let e=kt(n),i=t.batch.batchId;try{let r=yield Nj(e.localStore,t);kD(e,i,null),ID(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Xu(e,r)}catch(r){yield Ku(r)}})}function u6(n,t,e){return E(this,null,function*(){let i=kt(n);try{let r=yield function(o,a){let c=kt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(de(h!==null),d=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})}(i.localStore,t);kD(i,t,e),ID(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Xu(i,r)}catch(r){yield Ku(r)}})}function ID(n,t){(n.Oa.get(t)||[]).forEach(e=>{e.resolve()}),n.Oa.delete(t)}function kD(n,t,e){let i=kt(n),r=i.xa[i.currentUser.toKey()];if(r){let s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.xa[i.currentUser.toKey()]=r}}function $w(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(let i of n.Da.get(t))n.ba.delete(i),e&&n.Sa.ka(i,e);n.Da.delete(t),n.isPrimaryClient&&n.Ma.Vr(t).forEach(i=>{n.Ma.containsKey(i)||SD(n,i)})}function SD(n,t){n.Ca.delete(t.path.canonicalString());let e=n.va.get(t);e!==null&&(hx(n.remoteStore,e),n.va=n.va.remove(t),n.Fa.delete(e),bx(n))}function AA(n,t,e){for(let i of e)i instanceof Vp?(n.Ma.addReference(i.key,t),h6(n,i)):i instanceof Bp?(dt("SyncEngine","Document no longer in limbo: "+i.key),n.Ma.removeReference(i.key,t),n.Ma.containsKey(i.key)||SD(n,i.key)):xt()}function h6(n,t){let e=t.key,i=e.path.canonicalString();n.va.get(e)||n.Ca.has(i)||(dt("SyncEngine","New document in limbo: "+e),n.Ca.add(i),bx(n))}function bx(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){let t=n.Ca.values().next().value;n.Ca.delete(t);let e=new pt(Ee.fromString(t)),i=n.Na.next();n.Fa.set(i,new Hw(e)),n.va=n.va.insert(e,i),_D(n.remoteStore,new ju(er(dx(e.path)),i,"TargetPurposeLimboResolution",VA.oe))}}function Xu(n,t,e){return E(this,null,function*(){let i=kt(n),r=[],s=[],o=[];i.ba.isEmpty()||(i.ba.forEach((a,c)=>{o.push(i.Ba(c,t,e).then(l=>{if((l||e)&&i.isPrimaryClient){let d=l&&!l.fromCache;i.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(l){r.push(l);let d=xw.Ki(c.targetId,l);s.push(d)}}))}),yield Promise.all(o),i.Sa.h_(r),yield function(c,l){return E(this,null,function*(){let d=kt(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>it.forEach(l,m=>it.forEach(m.qi,p=>d.persistence.referenceDelegate.addReference(h,m.targetId,p)).next(()=>it.forEach(m.Qi,p=>d.persistence.referenceDelegate.removeReference(h,m.targetId,p)))))}catch(h){if(!Yu(h))throw h;dt("LocalStore","Failed to update sequence numbers: "+h)}for(let h of l){let m=h.targetId;if(!h.fromCache){let p=d.ns.get(m),_=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(_);d.ns=d.ns.insert(m,b)}}})}(i.localStore,s))})}function m6(n,t){return E(this,null,function*(){let e=kt(n);if(!e.currentUser.isEqual(t)){dt("SyncEngine","User change. New user:",t.toKey());let i=yield pD(e.localStore,t);e.currentUser=t,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new lt(Q.CANCELLED,o))})}),s.Oa.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Xu(e,i.us)}})}function f6(n,t){let e=kt(n),i=e.Fa.get(t);if(i&&i.wa)return Nt().add(i.key);{let r=Nt(),s=e.Da.get(t);if(!s)return r;for(let o of s){let a=e.ba.get(o);r=r.unionWith(a.view.Ea)}return r}}function TD(n){let t=kt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=ED.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=f6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=l6.bind(null,t),t.Sa.h_=e6.bind(null,t.eventManager),t.Sa.ka=i6.bind(null,t.eventManager),t}function p6(n){let t=kt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=d6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=u6.bind(null,t),t}var Up=class{constructor(){this.synchronizeTabs=!1}initialize(t){return E(this,null,function*(){this.serializer=Xp(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),yield this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)})}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return Oj(this.persistence,new Ew,t.initialUser,this.serializer)}createPersistence(t){return new vw(ww.Hr,this.serializer)}createSharedClientState(t){return new Sw}terminate(){return E(this,null,function*(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var qw=class{initialize(t,e){return E(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>TA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=m6.bind(null,this.syncEngine),yield Zj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Vw}()}createDatastore(t){let e=Xp(t.databaseInfo.databaseId),i=function(s){return new Dw(s)}(t.databaseInfo);return function(s,o,a,c){return new Pw(s,o,a,c)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,s,o,a){return new Nw(i,r,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,e=>TA(this.syncEngine,e,0),function(){return Mp.D()?new Mp:new Tw}())}createSyncEngine(t,e){return function(r,s,o,a,c,l,d){let h=new Ww(r,s,o,a,c,l);return d&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return E(this,null,function*(){var t;yield function(i){return E(this,null,function*(){let r=kt(i);dt("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield Qu(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()})}};var Gw=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):Mr("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}};var Kw=class{constructor(t,e,i,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ei.UNAUTHENTICATED,this.clientId=vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>E(this,null,function*(){dt("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(dt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new lt(Q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let t=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){let i=gx(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}};function Cy(n,t){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),dt("FirestoreClient","Initializing OfflineComponentProvider");let e=n.configuration;yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(r=>E(this,null,function*(){i.isEqual(r)||(yield pD(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t})}function DA(n,t){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let e=yield _6(n);dt("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>kA(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>kA(t.remoteStore,r)),n._onlineComponents=t})}function g6(n){return n.name==="FirebaseError"?n.code===Q.FAILED_PRECONDITION||n.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function _6(n){return E(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){dt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Cy(n,n._uninitializedComponentsProvider._offline)}catch(t){let e=t;if(!g6(e))throw e;xc("Error using user provided cache. Falling back to memory cache: "+e),yield Cy(n,new Up)}}else dt("FirestoreClient","Using default OfflineComponentProvider"),yield Cy(n,new Up);return n._offlineComponents})}function AD(n){return E(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(dt("FirestoreClient","Using user provided OnlineComponentProvider"),yield DA(n,n._uninitializedComponentsProvider._online)):(dt("FirestoreClient","Using default OnlineComponentProvider"),yield DA(n,new qw))),n._onlineComponents})}function b6(n){return AD(n).then(t=>t.syncEngine)}function RA(n){return E(this,null,function*(){let t=yield AD(n),e=t.eventManager;return e.onListen=n6.bind(null,t.syncEngine),e.onUnlisten=o6.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=r6.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=a6.bind(null,t.syncEngine),e})}function DD(n){let t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}var MA=new Map;function RD(n,t,e){if(!e)throw new lt(Q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function v6(n,t,e,i){if(t===!0&&i===!0)throw new lt(Q.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function PA(n){if(!pt.isDocumentKey(n))throw new lt(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function OA(n){if(pt.isDocumentKey(n))throw new lt(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":xt()}function yc(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new lt(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let e=tg(n);throw new lt(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}var jp=class{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new lt(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(e=t.ssl)===null||e===void 0||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new lt(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}v6("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DD((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new lt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new lt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new lt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},Pc=class{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new lt(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new lt(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jp(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Ey;switch(i.type){case"firstParty":return new Ty(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new lt(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let i=MA.get(e);i&&(dt("ComponentProvider","Removing Datastore"),MA.delete(e),i.terminate())}(this),Promise.resolve()}};function MD(n,t,e,i={}){var r;let s=(n=yc(n,Pc))._getSettings(),o=`${t}:${e}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&xc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=ei.MOCK_USER;else{a=IS(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new lt(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ei(l)}n._authCredentials=new Iy(new bp(a,c))}}var Oc=class n{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new n(this.firestore,t,this._query)}},Ji=class n{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new n(this.firestore,t,this._key)}},As=class n extends Oc{constructor(t,e,i){super(t,e,dx(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new Ji(this.firestore,null,new pt(t))}withConverter(t){return new n(this.firestore,t,this._path)}};function PD(n,t,...e){if(n=Et(n),RD("collection","path",t),n instanceof Pc){let i=Ee.fromString(t,...e);return OA(i),new As(n,null,i)}{if(!(n instanceof Ji||n instanceof As))throw new lt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Ee.fromString(t,...e));return OA(i),new As(n.firestore,null,i)}}function vx(n,t,...e){if(n=Et(n),arguments.length===1&&(t=vp.newId()),RD("doc","path",t),n instanceof Pc){let i=Ee.fromString(t,...e);return PA(i),new Ji(n,null,new pt(i))}{if(!(n instanceof Ji||n instanceof As))throw new lt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Ee.fromString(t,...e));return PA(i),new Ji(n.firestore,n instanceof As?n.converter:null,new pt(i))}}var Yw=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Pp(this,"async_queue_retry"),this.hu=()=>{let e=xy();e&&dt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};let t=xy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;let e=xy();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});let e=new Rr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}Tu(){return E(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(t){if(!Yu(t))throw t;dt("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(t){let e=this.iu.then(()=>(this.uu=!0,t().catch(i=>{this.au=i,this.uu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Mr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=e,e}enqueueAfterDelay(t,e,i){this.Pu(),this.lu.indexOf(t)>-1&&(e=0);let r=Fw.createAndSchedule(this,t,e,i,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&xt()}verifyOperationInProgress(){}du(){return E(this,null,function*(){let t;do t=this.iu,yield t;while(t!==this.iu)})}Au(t){for(let e of this._u)if(e.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(let e of this._u)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){let e=this._u.indexOf(t);this._u.splice(e,1)}};function NA(n){return function(e,i){if(typeof e!="object"||e===null)return!1;let r=e;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}var jo=class extends Pc{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=function(){return new Yw}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||FD(this),this._firestoreClient.terminate()}};function OD(n,t){let e=typeof n=="object"?n:po(),i=typeof n=="string"?n:t||"(default)",r=fo(e,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=ES("firestore");s&&MD(r,...s)}return r}function ND(n){return n._firestoreClient||FD(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function FD(n){var t,e,i;let r=n._freezeSettings(),s=function(a,c,l,d){return new Py(a,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,DD(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new Kw(n._authCredentials,n._appCheckCredentials,n._queue,s),!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Wu=class n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new n(Fi.fromBase64String(t))}catch(e){throw new lt(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new n(Fi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}};var $u=class{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new lt(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var zp=class{constructor(t){this._methodName=t}};var qu=class{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new lt(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new lt(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}};var y6=/^__.*__$/,Qw=class{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Nr(t,this.data,this.fieldMask,e,this.fieldTransforms):new Uo(t,this.data,e,this.fieldTransforms)}};function LD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}var Xw=class n{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new n(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var e;let i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.gu({path:i,yu:!1});return r.wu(t),r}Su(t){var e;let i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return Hp(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(t.length===0)throw this.Du("Document fields must not be empty");if(LD(this.fu)&&y6.test(t))throw this.Du('Document fields cannot begin and end with "__"')}},Zw=class{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Xp(t)}Fu(t,e,i,r=!1){return new Xw({fu:t,methodName:e,vu:i,path:Zi.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function VD(n){let t=n._freezeSettings(),e=Xp(n._databaseId);return new Zw(n._databaseId,!!t.ignoreUndefinedProperties,e)}function w6(n,t,e,i,r,s={}){let o=n.Fu(s.merge||s.mergeFields?2:0,t,e,r);jD("Data must be an object, but it was:",o,i);let a=BD(i,o),c,l;if(s.merge)c=new Jn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let h of s.mergeFields){let m=C6(t,h,e);if(!o.contains(m))throw new lt(Q.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);I6(d,m)||d.push(m)}c=new Jn(d),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new Qw(new On(a),c,l)}function x6(n,t,e,i=!1){return yx(e,n.Fu(i?4:3,t))}function yx(n,t){if(UD(n=Et(n)))return jD("Unsupported field value:",t,n),BD(n,t);if(n instanceof zp)return function(i,r){if(!LD(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.yu&&t.fu!==4)throw t.Du("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let c=yx(a,r.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if((i=Et(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return cj(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=ci.fromDate(i);return{timestampValue:Ap(r.serializer,s)}}if(i instanceof ci){let s=new ci(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ap(r.serializer,s)}}if(i instanceof qu)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Wu)return{bytesValue:cD(r.serializer,i._byteString)};if(i instanceof Ji){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ux(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${tg(i)}`)}(n,t)}function BD(n,t){let e={};return BA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fc(n,(i,r)=>{let s=yx(r,t.pu(i));s!=null&&(e[i]=s)}),{mapValue:{fields:e}}}function UD(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ci||n instanceof qu||n instanceof Wu||n instanceof Ji||n instanceof zp)}function jD(n,t,e){if(!UD(e)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(e)){let i=tg(e);throw i==="an object"?t.Du(n+" a custom object"):t.Du(n+" "+i)}}function C6(n,t,e){if((t=Et(t))instanceof $u)return t._internalPath;if(typeof t=="string")return zD(n,t);throw Hp("Field path arguments must be of type string or ",n,!1,void 0,e)}var E6=new RegExp("[~\\*/\\[\\]]");function zD(n,t,e){if(t.search(E6)>=0)throw Hp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new $u(...t.split("."))._internalPath}catch{throw Hp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Hp(n,t,e,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new lt(Q.INVALID_ARGUMENT,a+n+c)}function I6(n,t){return n.some(e=>e.isEqual(t))}var Wp=class{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ji(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new Jw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let e=this._document.data.field(wx("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}},Jw=class extends Wp{data(){return super.data()}};function wx(n,t){return typeof t=="string"?zD(n,t):t instanceof $u?t._internalPath:t._delegate._internalPath}function k6(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new lt(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Gu=class{},tx=class extends Gu{};function HD(n,t,...e){let i=[];t instanceof Gu&&i.push(t),i=i.concat(e),function(s){let o=s.filter(c=>c instanceof ex).length,a=s.filter(c=>c instanceof $p).length;if(o>1||o>0&&a>0)throw new lt(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var $p=class n extends tx{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new n(t,e,i)}_apply(t){let e=this._parse(t);return $D(t._query,e),new Oc(t.firestore,t.converter,qy(t._query,e))}_parse(t){let e=VD(t.firestore);return function(s,o,a,c,l,d,h){let m;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new lt(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){LA(h,d);let p=[];for(let _ of h)p.push(FA(c,s,_));m={arrayValue:{values:p}}}else m=FA(c,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||LA(h,d),m=x6(a,o,h,d==="in"||d==="not-in");return Ge.create(l,d,m)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}};function WD(n,t,e){let i=t,r=wx("where",n);return $p._create(r,i,e)}var ex=class n extends Gu{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new n(t,e)}_parse(t){let e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:Fn.create(e,this._getOperator())}_apply(t){let e=this._parse(t);return e.getFilters().length===0?t:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let c of a)$D(o,c),o=qy(o,c)}(t._query,e),new Oc(t.firestore,t.converter,qy(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function FA(n,t,e){if(typeof(e=Et(e))=="string"){if(e==="")throw new lt(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GA(t)&&e.indexOf("/")!==-1)throw new lt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);let i=t.path.child(Ee.fromString(e));if(!pt.isDocumentKey(i))throw new lt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return cA(n,new pt(i))}if(e instanceof Ji)return cA(n,e._key);throw new lt(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tg(e)}.`)}function LA(n,t){if(!Array.isArray(n)||n.length===0)throw new lt(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function $D(n,t){let e=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new lt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}var ix=class{convertValue(t,e="none"){switch(Fo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ds(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw xt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){let i={};return Fc(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new qu(Pe(t.latitude),Pe(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":let i=ox(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Lu(t));default:return null}}convertTimestamp(t){let e=Pr(t);return new ci(e.seconds,e.nanos)}convertDocumentKey(t,e){let i=Ee.fromString(t);de(fD(i));let r=new Cp(i.get(1),i.get(3)),s=new pt(i.popFirst(5));return r.isEqual(e)||Mr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}};function S6(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}var Po=class{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},qp=class extends Wp{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let e=new wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){let i=this._document.data.field(wx("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}},wc=class extends qp{data(t={}){return super.data(t)}},nx=class{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Po(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new wc(this._firestore,this._userDataWriter,i.key,i,new Po(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new lt(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let c=new wc(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Po(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new wc(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Po(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,d=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:T6(a.type),doc:c,oldIndex:l,newIndex:d}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}};function T6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}var Gp=class extends ix{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wu(t)}convertReference(t){let e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ji(this.firestore,null,e)}};function qD(n){return KD(yc(n.firestore,jo),[new Bu(n._key,Ts.none())])}function GD(n,t){let e=yc(n.firestore,jo),i=vx(n),r=S6(n.converter,t);return KD(e,[w6(VD(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Ts.exists(!1))]).then(()=>i)}function xx(n,...t){var e,i,r;n=Et(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||NA(t[o])||(s=t[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(NA(t[o])){let h=t[o];t[o]=(e=h.next)===null||e===void 0?void 0:e.bind(h),t[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),t[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let c,l,d;if(n instanceof Ji)l=yc(n.firestore,jo),d=dx(n._key.path),c={next:h=>{t[o]&&t[o](A6(l,n,h))},error:t[o+1],complete:t[o+2]};else{let h=yc(n,Oc);l=yc(h.firestore,jo),d=h._query;let m=new Gp(l);c={next:p=>{t[o]&&t[o](new nx(l,m,h,p))},error:t[o+1],complete:t[o+2]},k6(n._query)}return function(m,p,_,b){let v=new Gw(b),R=new Uw(p,v,_);return m.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return Jj(yield RA(m),R)})),()=>{v.$a(),m.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return t6(yield RA(m),R)}))}}(ND(l),d,a,c)}function KD(n,t){return function(i,r){let s=new Rr;return i.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return c6(yield b6(i),r,s)})),s.promise}(ND(n),t)}function A6(n,t,e){let i=e.docs.get(t._key),r=new Gp(n);return new qp(n,r,t._key,i,new Po(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){Nc=r})(Dn),An(new gi("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new jo(new ky(i.getProvider("auth-internal")),new Dy(i.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new lt(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cp(l.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),fe(sA,"4.6.3",t),fe(sA,"4.6.3","esm2017")})();var eg=function(){return eg=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},eg.apply(this,arguments)};var P6={includeMetadataChanges:!1};function YD(n,t){return t===void 0&&(t=P6),new hi(function(e){var i=xx(n,t,{next:e.next.bind(e),error:e.error.bind(e),complete:e.complete.bind(e)});return{unsubscribe:i}})}function QD(n,t){var e;t===void 0&&(t={});var i=n.data(t);return!n.exists()||typeof i!="object"||i===null||!t.idField?i:eg(eg({},i),(e={},e[t.idField]=n.id,e))}function XD(n){return YD(n,{includeMetadataChanges:!0}).pipe(Rt(function(t){return t.docs}))}function ZD(n,t){return t===void 0&&(t={}),XD(n).pipe(Rt(function(e){return e.map(function(i){return QD(i,t)})}))}var Fr=class{constructor(t){return t}},JD="firestore",Cx=class{constructor(){return Rd(JD)}};var Ex=new ut("angularfire2.firestore-instances");function O6(n,t){let e=Ff(JD,n,t);return e&&new Fr(e)}function N6(n){return(t,e)=>{let i=t.runOutsideAngular(()=>n(e));return new Fr(i)}}var F6={provide:Cx,deps:[[new Ti,Ex]]},L6={provide:Fr,useFactory:O6,deps:[[new Ti,Ex],Cr]};function tR(n,...t){return fe("angularfire",_o.full,"fst"),Ki([L6,F6,{provide:Ex,useFactory:N6(n),multi:!0,deps:[mt,Ze,Ja,bo,[new Ti,Tu],[new Ti,Za],...t]}])}var Vc=_i(ZD,!0);var eR=_i(GD,!0);var Ho=_i(PD,!0);var iR=_i(qD,!0);var nR=_i(vx,!0);var rR=_i(OD,!0);var Ix=_i(HD,!0);var kx=_i(WD,!0);var pR=(()=>{let t=class t{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};t.\u0275fac=function(r){return new(r||t)(N(on),N(wt))},t.\u0275dir=ot({type:t});let n=t;return n})(),Mx=(()=>{let t=class t extends pR{};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Lt(t)))(s||t)}})(),t.\u0275dir=ot({type:t,features:[gt]});let n=t;return n})(),$o=new ut("");var V6={provide:$o,useExisting:En(()=>pn),multi:!0};function B6(){let n=Ra()?Ra().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var U6=new ut(""),pn=(()=>{let t=class t extends pR{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!B6())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};t.\u0275fac=function(r){return new(r||t)(N(on),N(wt),N(U6,8))},t.\u0275dir=ot({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&et("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Zt([V6]),gt]});let n=t;return n})();function Ps(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function gR(n){return n!=null&&typeof n.length=="number"}var rh=new ut(""),ug=new ut(""),j6=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,rr=class{static min(t){return z6(t)}static max(t){return H6(t)}static required(t){return _R(t)}static requiredTrue(t){return W6(t)}static email(t){return $6(t)}static minLength(t){return q6(t)}static maxLength(t){return G6(t)}static pattern(t){return K6(t)}static nullValidator(t){return ng(t)}static compose(t){return CR(t)}static composeAsync(t){return ER(t)}};function z6(n){return t=>{if(Ps(t.value)||Ps(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function H6(n){return t=>{if(Ps(t.value)||Ps(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function _R(n){return Ps(n.value)?{required:!0}:null}function W6(n){return n.value===!0?null:{required:!0}}function $6(n){return Ps(n.value)||j6.test(n.value)?null:{email:!0}}function q6(n){return t=>Ps(t.value)||!gR(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function G6(n){return t=>gR(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function K6(n){if(!n)return ng;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Ps(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function ng(n){return null}function bR(n){return n!=null}function vR(n){return Um(n)?oe(n):n}function yR(n){let t={};return n.forEach(e=>{t=e!=null?Y(Y({},t),e):t}),Object.keys(t).length===0?null:t}function wR(n,t){return t.map(e=>e(n))}function Y6(n){return!n.validate}function xR(n){return n.map(t=>Y6(t)?t:e=>t.validate(e))}function CR(n){if(!n)return null;let t=n.filter(bR);return t.length==0?null:function(e){return yR(wR(e,t))}}function Px(n){return n!=null?CR(xR(n)):null}function ER(n){if(!n)return null;let t=n.filter(bR);return t.length==0?null:function(e){let i=wR(e,t).map(vR);return wI(i).pipe(Rt(yR))}}function Ox(n){return n!=null?ER(xR(n)):null}function oR(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function IR(n){return n._rawValidators}function kR(n){return n._rawAsyncValidators}function Sx(n){return n?Array.isArray(n)?n:[n]:[]}function rg(n,t){return Array.isArray(n)?n.includes(t):n===t}function aR(n,t){let e=Sx(t);return Sx(n).forEach(r=>{rg(e,r)||e.push(r)}),e}function cR(n,t){return Sx(t).filter(e=>!rg(n,e))}var sg=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Px(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ox(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Lr=class extends sg{get formDirective(){return null}get path(){return null}},Wo=class extends sg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},og=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Q6={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ctt=Ft(Y({},Q6),{"[class.ng-submitted]":"isSubmitted"}),gn=(()=>{let t=class t extends og{constructor(i){super(i)}};t.\u0275fac=function(r){return new(r||t)(N(Wo,2))},t.\u0275dir=ot({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Ae("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[gt]});let n=t;return n})(),sr=(()=>{let t=class t extends og{constructor(i){super(i)}};t.\u0275fac=function(r){return new(r||t)(N(Lr,10))},t.\u0275dir=ot({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&Ae("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[gt]});let n=t;return n})();var Zu="VALID",ig="INVALID",Bc="PENDING",Ju="DISABLED",Os=class{},ag=class extends Os{constructor(t,e){super(),this.value=t,this.source=e}},eh=class extends Os{constructor(t,e){super(),this.pristine=t,this.source=e}},ih=class extends Os{constructor(t,e){super(),this.touched=t,this.source=e}},Uc=class extends Os{constructor(t,e){super(),this.status=t,this.source=e}},Tx=class extends Os{constructor(t){super(),this.source=t}},Ax=class extends Os{constructor(t){super(),this.source=t}};function Nx(n){return(hg(n)?n.validators:n)||null}function X6(n){return Array.isArray(n)?Px(n):n||null}function Fx(n,t){return(hg(t)?t.asyncValidators:n)||null}function Z6(n){return Array.isArray(n)?Ox(n):n||null}function hg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function SR(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new Gt(1e3,"");if(!i[e])throw new Gt(1001,"")}function TR(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new Gt(1002,"")})}var jc=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new Pt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Zu}get invalid(){return this.status===ig}get pending(){return this.status==Bc}get disabled(){return this.status===Ju}get enabled(){return this.status!==Ju}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(aR(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(aR(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(cR(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(cR(t,this._rawAsyncValidators))}hasValidator(t){return rg(this._rawValidators,t)}hasAsyncValidator(t){return rg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Ft(Y({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new ih(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new ih(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Ft(Y({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new eh(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new eh(!0,i))}markAsPending(t={}){this.status=Bc;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Uc(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Ft(Y({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ju,this.errors=null,this._forEachChild(r=>{r.disable(Ft(Y({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ag(this.value,i)),this._events.next(new Uc(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ft(Y({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Zu,this._forEachChild(i=>{i.enable(Ft(Y({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Ft(Y({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zu||this.status===Bc)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ag(this.value,e)),this._events.next(new Uc(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Ft(Y({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ju:Zu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Bc,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=vR(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Uc(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new Tt,this.statusChanges=new Tt}_calculateStatus(){return this._allControlsDisabled()?Ju:this.errors?ig:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bc)?Bc:this._anyControlsHaveStatus(ig)?ig:Zu}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new eh(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new ih(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){hg(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=X6(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Z6(this._rawAsyncValidators)}},zc=class extends jc{constructor(t,e,i){super(Nx(e),Fx(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){TR(this,!0,t),Object.keys(t).forEach(i=>{SR(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Dx=class extends zc{};var sh=new ut("CallSetDisabledState",{providedIn:"root",factory:()=>mg}),mg="always";function AR(n,t){return[...t.path,n]}function cg(n,t,e=mg){Lx(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),tz(n,t),iz(n,t),ez(n,t),J6(n,t)}function lR(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),dg(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function lg(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function J6(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function Lx(n,t){let e=IR(n);t.validator!==null?n.setValidators(oR(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=kR(n);t.asyncValidator!==null?n.setAsyncValidators(oR(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();lg(t._rawValidators,r),lg(t._rawAsyncValidators,r)}function dg(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=IR(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(t.asyncValidator!==null){let r=kR(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}let i=()=>{};return lg(t._rawValidators,i),lg(t._rawAsyncValidators,i),e}function tz(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&DR(n,t)})}function ez(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&DR(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function DR(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function iz(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function RR(n,t){n==null,Lx(n,t)}function nz(n,t){return dg(n,t)}function MR(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function rz(n){return Object.getPrototypeOf(n.constructor)===Mx}function PR(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function OR(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(s=>{s.constructor===pn?e=s:rz(s)?i=s:r=s}),r||i||e||null}function sz(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var oz={provide:Lr,useExisting:En(()=>oh)},th=Promise.resolve(),oh=(()=>{let t=class t extends Lr{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Tt,this.form=new zc({},Px(i),Ox(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){th.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),cg(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){th.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){th.then(()=>{let r=this._findContainer(i.path),s=new zc({});RR(s,i),r.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){th.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){th.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,PR(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};t.\u0275fac=function(r){return new(r||t)(N(rh,10),N(ug,10),N(sh,8))},t.\u0275dir=ot({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&et("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zt([oz]),gt]});let n=t;return n})();function dR(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function uR(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var nh=class extends jc{constructor(t=null,e,i){super(Nx(e),Fx(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hg(e)&&(e.nonNullable||e.initialValueIsDefault)&&(uR(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){dR(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){dR(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){uR(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var az=n=>n instanceof nh;var cz={provide:Wo,useExisting:En(()=>qo)},hR=Promise.resolve(),qo=(()=>{let t=class t extends Wo{constructor(i,r,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new nh,this._registered=!1,this.name="",this.update=new Tt,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=OR(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),MR(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){cg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){hR.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&ct(r);hR.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?AR(i,this._parent):[i]}};t.\u0275fac=function(r){return new(r||t)(N(Lr,9),N(rh,10),N(ug,10),N($o,10),N(Ni,8),N(sh,8))},t.\u0275dir=ot({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Zt([cz]),gt,oi]});let n=t;return n})(),or=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=ot({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=t;return n})();var NR=new ut("");var lz={provide:Lr,useExisting:En(()=>Go)},Go=(()=>{let t=class t extends Lr{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Tt,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(dg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return cg(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){lR(i.control||null,i,!1),sz(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,PR(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new Tx(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1,this.form._events.next(new Ax(this.form))}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(lR(r||null,i),az(s)&&(cg(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);RR(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&nz(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lx(this.form,this),this._oldForm&&dg(this._oldForm,this)}_checkFormPresent(){this.form}};t.\u0275fac=function(r){return new(r||t)(N(rh,10),N(ug,10),N(sh,8))},t.\u0275dir=ot({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&et("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zt([lz]),gt,oi]});let n=t;return n})();var dz={provide:Wo,useExisting:En(()=>Ko)},Ko=(()=>{let t=class t extends Wo{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Tt,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=OR(this,o)}ngOnChanges(i){this._added||this._setUpControl(),MR(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return AR(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};t._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(N(Lr,13),N(rh,10),N(ug,10),N($o,10),N(NR,8))},t.\u0275dir=ot({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Zt([dz]),gt,oi]});let n=t;return n})(),uz={provide:$o,useExisting:En(()=>fg),multi:!0};function FR(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function hz(n){return n.split(":")[0]}var fg=(()=>{let t=class t extends Mx{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r=this._getOptionId(i),s=FR(r,i);this.setProperty("value",s)}registerOnChange(i){this.onChange=r=>{this.value=this._getOptionValue(r),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),i))return r;return null}_getOptionValue(i){let r=hz(i);return this._optionMap.has(r)?this._optionMap.get(r):i}};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Lt(t)))(s||t)}})(),t.\u0275dir=ot({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,s){r&1&&et("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zt([uz]),gt]});let n=t;return n})(),LR=(()=>{let t=class t{constructor(i,r,s){this._element=i,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(FR(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};t.\u0275fac=function(r){return new(r||t)(N(wt),N(on),N(fg,9))},t.\u0275dir=ot({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let n=t;return n})(),mz={provide:$o,useExisting:En(()=>VR),multi:!0};function mR(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function fz(n){return n.split(":")[0]}var VR=(()=>{let t=class t extends Mx{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r;if(Array.isArray(i)){let s=i.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else r=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(i){this.onChange=r=>{let s=[],o=r.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let l=a[c],d=this._getOptionValue(l.value);s.push(d)}}else{let a=r.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let d=this._getOptionValue(l.value);s.push(d)}}}this.value=s,i(s)}}_registerOption(i){let r=(this._idCounter++).toString();return this._optionMap.set(r,i),r}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,i))return r;return null}_getOptionValue(i){let r=fz(i);return this._optionMap.has(r)?this._optionMap.get(r)._value:i}};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Lt(t)))(s||t)}})(),t.\u0275dir=ot({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,s){r&1&&et("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zt([mz]),gt]});let n=t;return n})(),BR=(()=>{let t=class t{constructor(i,r,s){this._element=i,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(mR(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(mR(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};t.\u0275fac=function(r){return new(r||t)(N(wt),N(on),N(VR,9))},t.\u0275dir=ot({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let n=t;return n})();var pz=(()=>{let t=class t{constructor(){this._validator=ng}ngOnChanges(i){if(this.inputName in i){let r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ng,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=ot({type:t,features:[oi]});let n=t;return n})();var gz={provide:rh,useExisting:En(()=>Vr),multi:!0};var Vr=(()=>{let t=class t extends pz{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ct,this.createValidator=i=>_R}enabled(i){return i}};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Lt(t)))(s||t)}})(),t.\u0275dir=ot({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,s){r&2&&ft("required",s._enabled?"":null)},inputs:{required:"required"},features:[Zt([gz]),gt]});let n=t;return n})();var UR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=vt({});let n=t;return n})(),Rx=class extends jc{constructor(t,e,i){super(Nx(e),Fx(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){TR(this,!1,t),t.forEach((i,r)=>{SR(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function fR(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Hc=(()=>{let t=class t{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new t;return i.useNonNullable=!0,i}group(i,r=null){let s=this._reduceControls(i),o={};return fR(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new zc(s,o)}record(i,r=null){let s=this._reduceControls(i);return new Dx(s,r)}control(i,r,s){let o={};return this.useNonNullable?(fR(r)?o=r:(o.validators=r,o.asyncValidators=s),new nh(i,Ft(Y({},o),{nonNullable:!0}))):new nh(i,r,s)}array(i,r,s){let o=i.map(a=>this._createControl(a));return new Rx(o,r,s)}_reduceControls(i){let r={};return Object.keys(i).forEach(s=>{r[s]=this._createControl(i[s])}),r}_createControl(i){if(i instanceof nh)return i;if(i instanceof jc)return i;if(Array.isArray(i)){let r=i[0],s=i.length>1?i[1]:null,o=i.length>2?i[2]:null;return this.control(r,s,o)}else return this.control(i)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var wi=(()=>{let t=class t{static withConfig(i){return{ngModule:t,providers:[{provide:sh,useValue:i.callSetDisabledState??mg}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=vt({imports:[UR]});let n=t;return n})(),Ns=(()=>{let t=class t{static withConfig(i){return{ngModule:t,providers:[{provide:NR,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:sh,useValue:i.callSetDisabledState??mg}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=vt({imports:[UR]});let n=t;return n})();var HM=nL(zM());function u8(n,t){if(n&1&&U(0,"img",23),n&2){let e=F();B("src",e.qrCodeUrl,Sa)}}var WM=(()=>{let t=class t{constructor(i){this.http=i,this.qrData="",this.qrCodeUrl=""}generateQRCode(){this.http.get("http://localhost:3000/get-data").subscribe({next:i=>{this.qrData=JSON.stringify(i.qrData,null,2),HM.toDataURL(this.qrData,(r,s)=>{r?console.error("Error generating QR code",r):this.qrCodeUrl=s})},error:i=>{console.error("Error al obtener los datos",i)}})}};t.\u0275fac=function(r){return new(r||t)(N(Xl))},t.\u0275cmp=Z({type:t,selectors:[["app-acerca"]],standalone:!0,features:[J],decls:93,vars:1,consts:[[1,"container"],[1,"text-center","my-5"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3","g-4"],[1,"col"],[1,"card","h-100"],["src","assets/media/veterinarios/veterinario1.jpg","alt","Veterinario 1",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["src","assets/media/veterinarios/veterinario3.jpg","alt","Veterinario 3",1,"card-img-top"],["src","assets/media/veterinarios/veterinario4.jpg","alt","Veterinario 4",1,"card-img-top"],["src","assets/media/veterinarios/veterinario5.jpg","alt","Veterinario 5",1,"card-img-top"],["src","assets/media/veterinarios/veterinario6.jpg","alt","Veterinario 1",1,"card-img-top"],["src","assets/media/veterinarios/veterinario7.jpg","alt","Veterinario 1",1,"card-img-top"],["src","assets/media/veterinarios/veterinario8.jpg","alt","Veterinario 1",1,"card-img-top"],[1,"part3"],[1,"div3"],[1,"text"],[1,"container","text-center"],[1,"my-4"],[1,"btn","btn-primary","mb-4",3,"click"],["alt","QR Code","class","mb-4 qr-code",3,"src",4,"ngIf"],[1,"university-project"],["alt","QR Code",1,"mb-4","qr-code",3,"src"]],template:function(r,s){r&1&&(y(0,"div",0)(1,"h1",1),S(2,"Nuestros Veterinarios"),w(),y(3,"div",2)(4,"div",3)(5,"div",4),U(6,"img",5),y(7,"div",6)(8,"h5",7),S(9,"Dr. Christian Iv\xE1n Escamilla M\xE1rquez"),w(),y(10,"p",8),S(11,"Especialista en medicina de peque\xF1os animales con m\xE1s de 10 a\xF1os de experiencia."),w(),y(12,"p",8),S(13,"ID: 325629"),w()()()(),y(14,"div",3)(15,"div",4),U(16,"img",9),y(17,"div",6)(18,"h5",7),S(19,"Dr. Diego Emmanuel Mu\xF1oz Mac\xEDas"),w(),y(20,"p",8),S(21,"Especialista en comportamiento animal y entrenamiento."),w(),y(22,"p",8),S(23,"ID: 327523"),w()()()(),y(24,"div",3)(25,"div",4),U(26,"img",10),y(27,"div",6)(28,"h5",7),S(29,"Dr. Aaron Antonio Raygoza Mac\xEDas"),w(),y(30,"p",8),S(31,"Veterinario con amplia experiencia en medicina preventiva y salud p\xFAblica."),w(),y(32,"p",8),S(33,"ID: 246778"),w()()()(),y(34,"div",3)(35,"div",4),U(36,"img",11),y(37,"div",6)(38,"h5",7),S(39,"Dr. Zuriel Said Z\xFA\xF1iga Delgadillo"),w(),y(40,"p",8),S(41,"Especialista en nutrici\xF3n animal y manejo de peso."),w(),y(42,"p",8),S(43,"ID: 333917"),w()()()(),y(44,"div",3)(45,"div",4),U(46,"img",12),y(47,"div",6)(48,"h5",7),S(49,"Dr. Sergio Armando Valdivia Padilla"),w(),y(50,"p",8),S(51,"Experto en procedimientos quir\xFArgicos y atenci\xF3n de emergencias veterinarias.."),w(),y(52,"p",8),S(53,"ID: 261207"),w()()()(),y(54,"div",3)(55,"div",4),U(56,"img",13),y(57,"div",6)(58,"h5",7),S(59,"Dr. Ricardo \xC1lvarez Martinez"),w(),y(60,"p",8),S(61,"Especialista en detecci\xF3n y tratamiento de enfermedades con t\xE9cnicas avanzadas de imagen."),w(),y(62,"p",8),S(63,"ID: 325629"),w()()()(),y(64,"div",3)(65,"div",4),U(66,"img",14),y(67,"div",6)(68,"h5",7),S(69,"Dr. Diego Ponce \xC1lvarez"),w(),y(70,"p",8),S(71,"Dedicado a la recuperaci\xF3n f\xEDsica y mejora de la movilidad en animales."),w(),y(72,"p",8),S(73,"ID: 327656"),w()()()()()(),U(74,"br"),y(75,"div",15)(76,"div",16)(77,"div",17)(78,"h3"),S(79,"\xDAnete a nuestro equipo"),w(),y(80,"p"),S(81,"Si est\xE1s interesado en ser parte de nuestro equipo de veterinarios, env\xEDanos tu curr\xEDculum."),w()()()(),y(82,"div",18)(83,"h1",19),S(84,"Escanea el codigo para obtener un adoptador"),w(),y(85,"button",20),et("click",function(){return s.generateQRCode()}),S(86,"Generar QR"),w(),K(87,u8,1,1,"img",21),w(),y(88,"div",22)(89,"h4"),S(90,"Proyecto Universitario"),w(),y(91,"p"),S(92,'Esta p\xE1gina web ha sido desarrollada como parte de un proyecto de la asignatura "Tecnolog\xEDas Web" en la Universidad Aut\xF3noma de Aguascalientes.'),w()()),r&2&&(T(87),B("ngIf",s.qrCodeUrl))},dependencies:[Yt,je,wi],styles:['body[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;color:#333}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#1d8ba3;text-shadow:1px 1px 2px rgba(0,0,0,.2)}.part1[_ngcontent-%COMP%]{background-image:url("./media/wallpaperflare.com_wallpaper-TFLO5NO5.jpg");background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;padding:150px;text-align:center}.part1[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{max-width:400px;border-radius:10px;box-shadow:0 0 20px #0000004d}.part2[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:50px;background-color:#f8f8f8}.div1[_ngcontent-%COMP%]{width:100%;text-align:center;margin-bottom:30px}.div2[_ngcontent-%COMP%]{width:300px;margin:20px;padding:20px;background-color:#fff;border-radius:10px;box-shadow:0 0 10px #0003;transition:transform .3s ease}.div2[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.div2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.div2[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:15px}.div2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.part3[_ngcontent-%COMP%]{background-image:url("./media/DC-AHQ5XBZE.jpg");background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;padding:100px;text-align:center}.div3[_ngcontent-%COMP%]{width:50%;margin:0 auto;padding:30px;background-color:#ffffffe6;border-radius:10px;box-shadow:0 0 20px #0000004d}.university-project[_ngcontent-%COMP%]{background-color:#f8f8f8;padding:30px;border-radius:10px;box-shadow:0 0 10px #0003;margin:30px auto;max-width:800px;text-align:center}.university-project[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#1d8ba3;text-shadow:1px 1px 2px rgba(0,0,0,.2)}.form-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 8px #0000001a;margin:0 auto;max-width:600px}.form-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1d8ba3;text-align:center;text-shadow:1px 1px 2px rgba(0,0,0,.2)}.form-label[_ngcontent-%COMP%]{color:#333;font-weight:700;margin-bottom:5px}.form-control[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:5px;padding:10px;font-size:16px}.form-control[_ngcontent-%COMP%]:focus{border-color:#1d8ba3;box-shadow:0 0 5px #1d8ba380;outline:none}.text-danger[_ngcontent-%COMP%]{color:#ff4d4d;font-size:14px}.btn-primary[_ngcontent-%COMP%]{background-color:#1d8ba3;border-color:#1d8ba3;border-radius:5px;padding:10px 20px;font-size:16px;transition:background-color .3s ease,border-color .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#136b7b;border-color:#136b7b}@media (max-width: 768px){.form-container[_ngcontent-%COMP%]{padding:15px}}']});let n=t;return n})();var $M=(()=>{let t=class t{constructor(i){this.elementRef=i}ngAfterViewInit(){let i=this.elementRef.nativeElement.querySelector(".grid"),r=new Masonry(i,{itemSelector:".grid-item",columnWidth:".grid-sizer",gutter:20,responsive:{1200:5,992:4,768:3,576:2,0:1}})}};t.\u0275fac=function(r){return new(r||t)(N(wt))},t.\u0275cmp=Z({type:t,selectors:[["app-donadores"]],standalone:!0,features:[J],decls:37,vars:0,consts:[[1,"grid"],[1,"container"],[1,"title"],[1,"fa-solid","fa-paw"],[1,"card-columns"],[1,"card"],[1,"card-body"],["src","../../assets/media/donadores/1.png","alt","...",1,"card-img-top"],["src","../../assets/media/donadores/2.png","alt","...",1,"card-img-top"],["src","../../assets/media/donadores/3.png","alt","...",1,"card-img-top"],["src","../../assets/media/donadores/4.jpg","alt","...",1,"card-img-top"],["src","../../assets/media/donadores/5.png","alt","...",1,"card-img-top"],["src","../../assets/media/donadores/6.webp","alt","...",1,"card-img-top"],["src","../../assets/media/donadores/7.png","alt","...",1,"card-img-top"],["src","../../assets/media/donadores/8.webp","alt","...",1,"card-img-top"],["src","../../assets/media/donadores/9.jpg","alt","...",1,"card-img-top"],["src","../../assets/media/donadores/10.png","alt","...",1,"card-img-top"]],template:function(r,s){r&1&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),S(4,"Nuestros Donadores / Patrocinadores "),U(5,"i",3),w()(),y(6,"div",4)(7,"div",5)(8,"div",6),U(9,"img",7),w()(),y(10,"div",5)(11,"div",6),U(12,"img",8),w()(),y(13,"div",5)(14,"div",6),U(15,"img",9),w()(),y(16,"div",5)(17,"div",6),U(18,"img",10),w()(),y(19,"div",5)(20,"div",6),U(21,"img",11),w()(),y(22,"div",5)(23,"div",6),U(24,"img",12),w()(),y(25,"div",5)(26,"div",6),U(27,"img",13),w()(),y(28,"div",5)(29,"div",6),U(30,"img",14),w()(),y(31,"div",5)(32,"div",6),U(33,"img",15),w()(),y(34,"div",5)(35,"div",6),U(36,"img",16),w()()()()())},styles:["@media (min-width: 576px){.card-columns[_ngcontent-%COMP%]{column-count:2}}@media (min-width: 768px){.card-columns[_ngcontent-%COMP%]{column-count:3}}@media (min-width: 992px){.card-columns[_ngcontent-%COMP%]{column-count:4}}@media (min-width: 1200px){.card-columns[_ngcontent-%COMP%]{column-count:5}}.container[_ngcontent-%COMP%]{margin:20px 5%;text-align:center}.title[_ngcontent-%COMP%]{color:#1d8ba3;background-color:#fffc;box-shadow:0 0 10px #00000080;font-family:Lilita One,sans-serif;border-radius:20px;margin-bottom:20px}"]});let n=t;return n})();var qM=(()=>{let t=class t{constructor(i){this.domSanitizer=i}transform(i,r){return this.domSanitizer.bypassSecurityTrustResourceUrl(r+i)}};t.\u0275fac=function(r){return new(r||t)(N(h0,16))},t.\u0275pipe=Dm({name:"domseguro",type:t,pure:!0,standalone:!0});let n=t;return n})();var GM=(()=>{let t=class t{constructor(){this.video="4ee5wTZbF6k?si=1qT221snR0tKIn24"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["app-video"]],standalone:!0,features:[J],decls:10,vars:4,consts:[[1,"contenedor"],["width","560","height","315","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen","",3,"src"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","data-dismiss","alert","aria-label","Close",1,"close"],["aria-hidden","true"]],template:function(r,s){r&1&&(y(0,"div",0),U(1,"iframe",1),$n(2,"domseguro"),w(),y(3,"div",2)(4,"strong"),S(5,"Si no entiendes descuida!"),w(),S(6," Este video cuenta con subtitulos :) en varios idiomas "),y(7,"button",3)(8,"span",4),S(9,"\xD7"),w()()()),r&2&&(T(),B("src",YI(2,1,s.video,"https://www.youtube.com/embed/"),VI))},dependencies:[qM],styles:[".contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center;border-radius:50px}.alert[_ngcontent-%COMP%]{margin-top:20px;width:50%;text-align:center;margin-left:auto;margin-right:auto}"]});let n=t;return n})();var h8=n=>({color:n}),KM=(()=>{let t=class t{constructor(){this.colorBase="#18708c",this.centrar={display:"flex","flex-direction":"column","justify-content":"center","align-items":"center","text-align":"center"}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["app-home"]],standalone:!0,features:[J],decls:25,vars:4,consts:[[1,"part1",3,"ngStyle"],["src","assets/media/Logo.png","alt","",1,"logo"],[2,"color","white","text-shadow","2px 2px 4px rgba(0, 0, 0, 0.5)"],[1,"part2"],[1,"div1"],[3,"ngStyle"],[1,"div2"],["src","assets/media/CATS.jpg","alt",""],[1,"part3"],[1,"div3"],[1,"text"]],template:function(r,s){r&1&&(y(0,"div",0),U(1,"img",1),y(2,"h1",2),S(3,' "Los latidos del coraz\xF3n se entrelazan con suaves susurros de ternura."'),w()(),y(4,"div",3)(5,"div",4)(6,"h2",5),S(7,"\xA1Encuentra tu compa\xF1ero peludo en nuestro refugio de amor!"),w(),U(8,"hr"),y(9,"h4"),S(10,"Bienvenido a nuestro refugio, donde cada latido cuenta una historia de esperanza y amor. Aqu\xED, encontrar\xE1s m\xE1s que una mascota: descubrir\xE1s un amigo leal que llenar\xE1 tu vida de alegr\xEDa y compa\xF1erismo. Nuestro compromiso es encontrar hogares amorosos para cada uno de nuestros residentes de cuatro patas, ofreci\xE9ndoles una segunda oportunidad para ser amados y cuidados como se merecen. \xDAnete a nosotros en esta noble misi\xF3n de cambiar vidas y abrir tu coraz\xF3n a un nuevo miembro de la familia."),w()(),y(11,"div",6),U(12,"img",7),w()(),U(13,"app-video")(14,"br")(15,"br"),y(16,"div",8),U(17,"div",6),y(18,"div",9)(19,"div",10)(20,"h1"),S(21,"ADOPTACIONES"),w(),U(22,"hr"),y(23,"h3"),S(24,"Cada adopci\xF3n es un acto de amor que transforma vidas. Al adoptar a uno de nuestros amigos peludos, no solo est\xE1s dando un hogar, est\xE1s brindando una nueva oportunidad llena de cari\xF1o y compa\xF1erismo. \xDAnete a nuestra misi\xF3n y s\xE9 parte de esta hermosa historia de amor y esperanza."),w()()()()),r&2&&(B("ngStyle",s.centrar),T(6),B("ngStyle",ai(2,h8,s.colorBase)))},dependencies:[Yt,Ma,GM],styles:['body[_ngcontent-%COMP%]{background-color:#fff}.part1[_ngcontent-%COMP%]{background-image:url("./media/wallpaperflare.com_wallpaper-TFLO5NO5.jpg");background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;padding:200px}.part3[_ngcontent-%COMP%]{background-image:url("./media/DC-AHQ5XBZE.jpg");background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;padding:100px}.div3[_ngcontent-%COMP%]{width:50%;margin-left:60%;display:flex;flex-direction:column;justify-content:right;text-align:right;color:#1d8ba3;background-color:#fffc;box-shadow:0 0 10px #00000080;padding:10px;border-radius:40px 0 0 40px/40px 0px 0px 40px}.text[_ngcontent-%COMP%]{margin-top:0%;margin-right:10%;padding:20px}.div3[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000;text-shadow:2px 2px 4px rgba(255,253,253,.5)}.part1[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:1000px}.part2[_ngcontent-%COMP%]{display:flex;padding:100px}.div1[_ngcontent-%COMP%]{width:50%;display:flex;flex-direction:column;justify-content:left;text-align:left}.div2[_ngcontent-%COMP%]{width:50%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;margin:40px}.div2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:10px;box-shadow:0 0 10px #00000080}hr[_ngcontent-%COMP%]{border:none;border-top:2px solid rgb(29,139,163);width:100px}']});let n=t;return n})();function kg(n){return n!=null&&`${n}`!="false"}function Qc(n){return Array.isArray(n)?n:[n]}function Fe(n){return n==null?"":typeof n=="string"?n:`${n}px`}function Ur(n){return n instanceof wt?n.nativeElement:n}var cC;try{cC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{cC=!1}var be=(()=>{let t=class t{constructor(i){this._platformId=i,this.isBrowser=this._platformId?Oa(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||cC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(r){return new(r||t)(G(Di))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var ph;function m8(){if(ph==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ph=!0}))}finally{ph=ph||!1}return ph}function Xc(n){return m8()?n:!!n.capture}var Jo;function YM(){if(Jo==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Jo=!1,Jo;if("scrollBehavior"in document.documentElement.style)Jo=!0;else{let n=Element.prototype.scrollTo;n?Jo=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Jo=!1}}return Jo}var aC;function f8(){if(aC==null){let n=typeof document<"u"?document.head:null;aC=!!(n&&(n.createShadowRoot||n.attachShadow))}return aC}function QM(n){if(f8()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Ln(n){return n.composedPath?n.composedPath()[0]:n.target}function gh(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var p8=(()=>{let t=class t{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var XM=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=vt({providers:[p8]});let n=t;return n})();var ZM=new Set,ta,g8=(()=>{let t=class t{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):b8}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&_8(i,this._nonce),this._matchMedia(i)}};t.\u0275fac=function(r){return new(r||t)(G(be),G(Ul,8))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function _8(n,t){if(!ZM.has(n))try{ta||(ta=document.createElement("style"),t&&ta.setAttribute("nonce",t),ta.setAttribute("type","text/css"),document.head.appendChild(ta)),ta.sheet&&(ta.sheet.insertRule(`@media ${n} {body{ }}`,0),ZM.add(n))}catch(e){console.error(e)}}function b8(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var Sg=(()=>{let t=class t{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new Pt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return JM(Qc(i)).some(s=>this._registerQuery(s).mql.matches)}observe(i){let s=JM(Qc(i)).map(a=>this._registerQuery(a).observable),o=es(s);return o=Sm(o.pipe(Bi(1)),o.pipe(Am(1),Hb(0))),o.pipe(Rt(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:d})=>{c.matches=c.matches||l,c.breakpoints[d]=l}),c}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),o={observable:new hi(a=>{let c=l=>this._zone.run(()=>a.next(l));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(Ea(r),Rt(({matches:a})=>({query:i,matches:a})),si(this._destroySubject)),mql:r};return this._queries.set(i,o),o}};t.\u0275fac=function(r){return new(r||t)(G(g8),G(mt))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function JM(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var tP={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};function dC(n){return n.buttons===0||n.detail===0}function uC(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var y8=new ut("cdk-input-modality-detector-options"),w8={ignoreKeys:[18,17,224,91,16]},nP=650,Zc=Xc({passive:!0,capture:!0}),x8=(()=>{let t=class t{get mostRecentModality(){return this._modality.value}constructor(i,r,s,o){this._platform=i,this._mostRecentTarget=null,this._modality=new Ve(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ln(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<nP||(this._modality.next(dC(a)?"keyboard":"mouse"),this._mostRecentTarget=Ln(a))},this._onTouchstart=a=>{if(uC(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ln(a)},this._options=Y(Y({},w8),o),this.modalityDetected=this._modality.pipe(Am(1)),this.modalityChanged=this.modalityDetected.pipe(Tm()),i.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Zc),s.addEventListener("mousedown",this._onMousedown,Zc),s.addEventListener("touchstart",this._onTouchstart,Zc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Zc),document.removeEventListener("mousedown",this._onMousedown,Zc),document.removeEventListener("touchstart",this._onTouchstart,Zc))}};t.\u0275fac=function(r){return new(r||t)(G(be),G(mt),G(bt),G(y8,8))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),C8=new ut("liveAnnouncerElement",{providedIn:"root",factory:E8});function E8(){return null}var I8=new ut("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),k8=0,rP=(()=>{let t=class t{constructor(i,r,s,o){this._ngZone=r,this._defaultOptions=o,this._document=s,this._liveElement=i||this._createLiveElement()}announce(i,...r){let s=this._defaultOptions,o,a;return r.length===1&&typeof r[0]=="number"?a=r[0]:[o,a]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=s&&s.politeness?s.politeness:"polite"),a==null&&s&&(a=s.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=i,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let i="cdk-live-announcer-element",r=this._document.getElementsByClassName(i),s=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return s.classList.add(i),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),s.id=`cdk-live-announcer-${k8++}`,this._document.body.appendChild(s),s}_exposeAnnouncerToModals(i){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<r.length;s++){let o=r[s],a=o.getAttribute("aria-owns");a?a.indexOf(i)===-1&&o.setAttribute("aria-owns",a+" "+i):o.setAttribute("aria-owns",i)}}};t.\u0275fac=function(r){return new(r||t)(G(C8,8),G(mt),G(bt),G(I8,8))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Ag=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Ag||{}),S8=new ut("cdk-focus-monitor-default-options"),Tg=Xc({passive:!0,capture:!0}),sP=(()=>{let t=class t{constructor(i,r,s,o,a){this._ngZone=i,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Pt,this._rootNodeFocusAndBlurListener=c=>{let l=Ln(c);for(let d=l;d;d=d.parentElement)c.type==="focus"?this._onFocus(c,d):this._onBlur(c,d)},this._document=o,this._detectionMode=a?.detectionMode||Ag.IMMEDIATE}monitor(i,r=!1){let s=Ur(i);if(!this._platform.isBrowser||s.nodeType!==1)return ht();let o=QM(s)||this._getDocument(),a=this._elementInfo.get(s);if(a)return r&&(a.checkChildren=!0),a.subject;let c={checkChildren:r,subject:new Pt,rootNode:o};return this._elementInfo.set(s,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(i){let r=Ur(i),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(i,r,s){let o=Ur(i),a=this._getDocument().activeElement;o===a?this._getClosestElementsInfo(o).forEach(([c,l])=>this._originChanged(c,r,l)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===Ag.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused",r==="touch"),i.classList.toggle("cdk-keyboard-focused",r==="keyboard"),i.classList.toggle("cdk-mouse-focused",r==="mouse"),i.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&r,this._detectionMode===Ag.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?nP:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(i,r){let s=this._elementInfo.get(r),o=Ln(i);!s||!s.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),s)}_onBlur(i,r){let s=this._elementInfo.get(r);!s||s.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(s,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let r=i.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Tg),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Tg)}),this._rootNodeFocusListenerCount.set(r,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(si(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(i){let r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Tg),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Tg),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,s){this._setClasses(i,r),this._emitOrigin(s,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){let r=[];return this._elementInfo.forEach((s,o)=>{(o===i||s.checkChildren&&o.contains(i))&&r.push([o,s])}),r}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:r,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!r||r===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let o=i.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(r))return!0}return!1}};t.\u0275fac=function(r){return new(r||t)(G(mt),G(be),G(x8),G(bt,8),G(S8,8))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var ea=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(ea||{}),eP="cdk-high-contrast-black-on-white",iP="cdk-high-contrast-white-on-black",lC="cdk-high-contrast-active",oP=(()=>{let t=class t{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=nt(Sg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return ea.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(i):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(i.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return ea.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return ea.BLACK_ON_WHITE}return ea.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(lC,eP,iP),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===ea.BLACK_ON_WHITE?i.add(lC,eP):r===ea.WHITE_ON_BLACK&&i.add(lC,iP)}}};t.\u0275fac=function(r){return new(r||t)(G(be),G(bt))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var T8=new ut("cdk-dir-doc",{providedIn:"root",factory:A8});function A8(){return nt(bt)}var D8=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function R8(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?D8.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Dg=(()=>{let t=class t{constructor(i){if(this.value="ltr",this.change=new Tt,i){let r=i.body?i.body.dir:null,s=i.documentElement?i.documentElement.dir:null;this.value=R8(r||s||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(r){return new(r||t)(G(T8,8))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Jc=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=vt({});let n=t;return n})();function P8(){return!0}var O8=new ut("mat-sanity-checks",{providedIn:"root",factory:P8}),Ye=(()=>{let t=class t{constructor(i,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return gh()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};t.\u0275fac=function(r){return new(r||t)(G(oP),G(O8,8),G(bt))},t.\u0275mod=yt({type:t}),t.\u0275inj=vt({imports:[Jc,Jc]});let n=t;return n})();var bn=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(bn||{}),fC=class{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=bn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},lP=Xc({passive:!0,capture:!0}),pC=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let e=Ln(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,r){let s=this._events.get(e);if(s){let o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,lP)})}removeHandler(t,e,i){let r=this._events.get(t);if(!r)return;let s=r.get(e);s&&(s.delete(i),s.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,lP)))}},dP={enterDuration:225,exitDuration:150},N8=800,uP=Xc({passive:!0,capture:!0}),hP=["mousedown","touchstart"],mP=["mouseup","mouseleave","touchend","touchcancel"],_h=class _h{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ur(i))}fadeInRipple(t,e,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Y(Y({},dP),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let o=i.radius||F8(t,e,r),a=t-r.left,c=e-r.top,l=s.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-o}px`,d.style.top=`${c-o}px`,d.style.height=`${o*2}px`,d.style.width=`${o*2}px`,i.color!=null&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);let h=window.getComputedStyle(d),m=h.transitionProperty,p=h.transitionDuration,_=m==="none"||p==="0s"||p==="0s, 0s"||r.width===0&&r.height===0,b=new fC(this,d,i,_);d.style.transform="scale3d(1, 1, 1)",b.state=bn.FADING_IN,i.persistent||(this._mostRecentTransientRipple=b);let v=null;return!_&&(l||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let R=()=>this._finishRippleTransition(b),P=()=>this._destroyRipple(b);d.addEventListener("transitionend",R),d.addEventListener("transitioncancel",P),v={onTransitionEnd:R,onTransitionCancel:P}}),this._activeRipples.set(b,v),(_||!l)&&this._finishRippleTransition(b),b}fadeOutRipple(t){if(t.state===bn.FADING_OUT||t.state===bn.HIDDEN)return;let e=t.element,i=Y(Y({},dP),t.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=bn.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=Ur(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,hP.forEach(i=>{_h._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{mP.forEach(e=>{this._triggerElement.addEventListener(e,this,uP)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===bn.FADING_IN?this._startFadeOutTransition(t):t.state===bn.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=bn.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=bn.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){let e=dC(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+N8;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!uC(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===bn.VISIBLE||t.config.terminateOnPointerUp&&t.state===bn.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(hP.forEach(e=>_h._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&mP.forEach(e=>t.removeEventListener(e,this,uP)))}};_h._eventManager=new pC;var Mg=_h;function F8(n,t,e){let i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}var gC=new ut("mat-ripple-global-options"),L8=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,s,o,a){this._elementRef=i,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Mg(this,r,i,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Y(Y(Y({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,s){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,r,Y(Y({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,Y(Y({},this.rippleConfig),i))}};t.\u0275fac=function(r){return new(r||t)(N(wt),N(mt),N(be),N(gC,8),N(vr,8))},t.\u0275dir=ot({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,s){r&2&&Ae("mat-ripple-unbounded",s.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let n=t;return n})(),Pg=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=vt({imports:[Ye,Ye]});let n=t;return n})();var _P=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=vt({imports:[Ye]});let n=t;return n})();var fP={capture:!0},pP=["focus","click","mouseenter","touchstart"],hC="mat-ripple-loader-uninitialized",mC="mat-ripple-loader-class-name",gP="mat-ripple-loader-centered",Rg="mat-ripple-loader-disabled",bP=(()=>{let t=class t{constructor(){this._document=nt(bt,{optional:!0}),this._animationMode=nt(vr,{optional:!0}),this._globalRippleOptions=nt(gC,{optional:!0}),this._platform=nt(be),this._ngZone=nt(mt),this._hosts=new Map,this._onInteraction=i=>{if(!(i.target instanceof HTMLElement))return;let s=i.target.closest(`[${hC}]`);s&&this._createRipple(s)},this._ngZone.runOutsideAngular(()=>{for(let i of pP)this._document?.addEventListener(i,this._onInteraction,fP)})}ngOnDestroy(){let i=this._hosts.keys();for(let r of i)this.destroyRipple(r);for(let r of pP)this._document?.removeEventListener(r,this._onInteraction,fP)}configureRipple(i,r){i.setAttribute(hC,""),(r.className||!i.hasAttribute(mC))&&i.setAttribute(mC,r.className||""),r.centered&&i.setAttribute(gP,""),r.disabled&&i.setAttribute(Rg,"")}getRipple(i){return this._hosts.get(i)||this._createRipple(i)}setDisabled(i,r){let s=this._hosts.get(i);if(s){s.disabled=r;return}r?i.setAttribute(Rg,""):i.removeAttribute(Rg)}_createRipple(i){if(!this._document)return;let r=this._hosts.get(i);if(r)return r;i.querySelector(".mat-ripple")?.remove();let s=this._document.createElement("span");s.classList.add("mat-ripple",i.getAttribute(mC)),i.append(s);let o=new L8(new wt(s),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=i,o.centered=i.hasAttribute(gP),o.disabled=i.hasAttribute(Rg),this.attachRipple(i,o),o}attachRipple(i,r){i.removeAttribute(hC),this._hosts.set(i,r)}destroyRipple(i){let r=this._hosts.get(i);r&&(r.ngOnDestroy(),this._hosts.delete(i))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var vP=(()=>{let t=class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(i){this._vertical=kg(i)}get inset(){return this._inset}set inset(i){this._inset=kg(i)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,s){r&2&&(ft("aria-orientation",s.vertical?"vertical":"horizontal"),Ae("mat-divider-vertical",s.vertical)("mat-divider-horizontal",!s.vertical)("mat-divider-inset",s.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[J],decls:0,vars:0,template:function(r,s){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0});let n=t;return n})(),Og=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=vt({imports:[Ye,Ye]});let n=t;return n})();function Ng(n){return n&&typeof n.connect=="function"&&!(n instanceof Nl)}var tl=function(n){return n[n.REPLACED=0]="REPLACED",n[n.INSERTED=1]="INSERTED",n[n.MOVED=2]="MOVED",n[n.REMOVED=3]="REMOVED",n}(tl||{}),bh=new ut("_ViewRepeater"),el=class{applyChanges(t,e,i,r,s){t.forEachOperation((o,a,c)=>{let l,d;if(o.previousIndex==null){let h=i(o,a,c);l=e.createEmbeddedView(h.templateRef,h.context,h.index),d=tl.INSERTED}else c==null?(e.remove(a),d=tl.REMOVED):(l=e.get(a),e.move(l,c),d=tl.MOVED);s&&s({context:l?.context,operation:d,record:o})})}detach(){}};var yP=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=vt({imports:[XM,Yt,Ye,Pg,_P,Og]});let n=t;return n})();var B8=["*"];var U8=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],j8=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],z8=new ut("MAT_CARD_CONFIG"),Fg=(()=>{let t=class t{constructor(i){this.appearance=i?.appearance||"raised"}};t.\u0275fac=function(r){return new(r||t)(N(z8,8))},t.\u0275cmp=Z({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,s){r&2&&Ae("mat-mdc-card-outlined",s.appearance==="outlined")("mdc-card--outlined",s.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[J],ngContentSelectors:B8,decls:1,vars:0,template:function(r,s){r&1&&(Ue(),Kt(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let n=t;return n})(),wP=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=ot({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let n=t;return n})();var Lg=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=ot({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let n=t;return n})(),xP=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=ot({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0});let n=t;return n})(),CP=(()=>{let t=class t{constructor(){this.align="start"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=ot({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(r,s){r&2&&Ae("mat-mdc-card-actions-align-end",s.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0});let n=t;return n})(),EP=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[J],ngContentSelectors:j8,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,s){r&1&&(Ue(U8),Kt(0),y(1,"div",0),Kt(2,1),w(),Kt(3,2))},encapsulation:2,changeDetection:0});let n=t;return n})();var IP=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=ot({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0});let n=t;return n})();var kP=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=ot({type:t,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-mdc-card-avatar"],standalone:!0});let n=t;return n})();var Vg=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=vt({imports:[Ye,Yt,Ye]});let n=t;return n})();var Bg=[{edad:3,color:"Marr\xF3n",raza:"Labrador Retriever",tiempo:"2 a\xF1os en el refugio",comportamiento:"Amigable y juguet\xF3n",img:"assets/img/labrador.png",tipo:"Perro"},{edad:2,color:"Gris y blanco",raza:"Siam\xE9s",tiempo:"1 a\xF1o en el refugio",comportamiento:"Curioso y afectuoso",img:"assets/img/siames.png",tipo:"Gato"},{edad:5,color:"Negro",raza:"Bulldog Franc\xE9s",tiempo:"4 a\xF1os en el refugio",comportamiento:"Cari\xF1oso y tranquilo",img:"assets/img/bulldog.png",tipo:"Perro"},{edad:1,color:"Blanco",raza:"Persa",tiempo:"6 meses en el refugio",comportamiento:"Mimoso y tranquilo",img:"assets/img/persa.png",tipo:"Gato"},{edad:4,color:"Dorado",raza:"Golden Retriever",tiempo:"3 a\xF1os en el refugio",comportamiento:"Leal y en\xE9rgico",img:"assets/img/goldenretriever.png",tipo:"Perro"},{edad:2,color:"Negro y blanco",raza:"Border Collie",tiempo:"2 a\xF1os en el refugio",comportamiento:"Inteligente y activo",img:"assets/img/bordercollie.png",tipo:"Perro"},{edad:6,color:"Naranja y blanco",raza:"Maine Coon",tiempo:"5 a\xF1os en el refugio",comportamiento:"Sociable y cari\xF1oso",img:"assets/img/maineCoon.png",tipo:"Gato"},{edad:3,color:"Gris",raza:"British Shorthair",tiempo:"2 a\xF1os en el refugio",comportamiento:"Relajado y amigable",img:"assets/img/britishShorthair.png",tipo:"Gato"},{edad:4,color:"Marr\xF3n y blanco",raza:"Beagle",tiempo:"3 a\xF1os en el refugio",comportamiento:"Alegre y d\xF3cil",img:"assets/img/beagle.png",tipo:"Perro"},{edad:2,color:"Tricolor",raza:"Calic\xF3",tiempo:"1 a\xF1o en el refugio",comportamiento:"Juguet\xF3n y afectuoso",img:"assets/img/calico.png",tipo:"Gato"}];var Ug=(()=>{let t=class t{constructor(){this.animal=Bg,this.clientes=JSON.parse(localStorage.getItem("data")||"[]")}getAnimales(){return this.animal}getClientes(){return this.clientes}agregarCliente(i){this.clientes.push(i),localStorage.setItem("data",JSON.stringify(this.clientes))}getCitasPorNombre(i){console.log(i);let r=JSON.parse(localStorage.getItem("data")??"")||[];return console.log(r),r.filter(s=>s.nombre===i||s.apellido===i)}nuevoCliente(){return{id:this.clientes.length.toString(),uid:"",fecha:"",hora:0,nombre:"",apellido:"",telefono:"",email:"",animal:{edad:0,color:"",raza:"",tiempo:"",comportamiento:"",img:"",tipo:""}}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var jg=(()=>{let t=class t{constructor(){this.nombre=new Ve(""),this.nombreActual=this.nombre.asObservable()}cambiarNombre(i){this.nombre.next(i)}getNombre(){return this.nombre.getValue()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var H8=["mat-button",""],W8=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],$8=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var q8=new ut("MAT_BUTTON_CONFIG");var G8=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],K8=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=i,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._updateRippleDisabled()}constructor(i,r,s,o){this._elementRef=i,this._platform=r,this._ngZone=s,this._animationMode=o,this._focusMonitor=nt(sP),this._rippleLoader=nt(bP),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=nt(q8,{optional:!0}),c=i.nativeElement,l=c.classList;this.disabledInteractive=a?.disabledInteractive??!1,this._rippleLoader?.configureRipple(c,{className:"mat-mdc-button-ripple"});for(let{attribute:d,mdcClasses:h}of G8)c.hasAttribute(d)&&l.add(...h)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",r){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(r){Ta()},t.\u0275dir=ot({type:t,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",ct],disabled:[2,"disabled","disabled",ct],ariaDisabled:[2,"aria-disabled","ariaDisabled",ct],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ct]},features:[ae]});let n=t;return n})();var zg=(()=>{let t=class t extends K8{constructor(i,r,s,o){super(i,r,s,o)}};t.\u0275fac=function(r){return new(r||t)(N(wt),N(be),N(mt),N(vr,8))},t.\u0275cmp=Z({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,s){r&2&&(ft("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),we(s.color?"mat-"+s.color:""),Ae("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable",s._animationMode==="NoopAnimations")("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[gt,J],attrs:H8,ngContentSelectors:$8,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,s){r&1&&(Ue(W8),U(0,"span",0),Kt(1),y(2,"span",1),Kt(3,1),w(),Kt(4,2),U(5,"span",2)(6,"span",3)),r&2&&Ae("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let n=t;return n})();var _C=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=vt({imports:[Ye,Pg,Ye]});let n=t;return n})();var vh=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},il=class extends vh{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}},nl=class extends vh{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},bC=class extends vh{constructor(t){super(),this.element=t instanceof wt?t.nativeElement:t}},rl=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof il)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof nl)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof bC)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Hg=class extends rl{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}attachComponentPortal(t){let i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Ze.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);r!==-1&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var vC=(()=>{let t=class t extends rl{constructor(i,r,s){super(),this._componentFactoryResolver=i,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Tt,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let c=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let r=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,o=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),a=r.createComponent(o,r.length,i.injector||r.injector,i.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=i,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(i){i.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}};t.\u0275fac=function(r){return new(r||t)(N(Om),N(an),N(bt))},t.\u0275dir=ot({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[gt]});let n=t;return n})();var Q8=20,RP=(()=>{let t=class t{constructor(i,r,s){this._ngZone=i,this._platform=r,this._scrolled=new Pt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let r=this.scrollContainers.get(i);r&&(r.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=Q8){return this._platform.isBrowser?new hi(r=>{this._globalSubscription||this._addGlobalListener();let s=i>0?this._scrolled.pipe(zb(i)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ht()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(i,r){let s=this.getAncestorScrollContainers(i);return this.scrolled(r).pipe(Si(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(i){let r=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,i)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,r){let s=Ur(r),o=i.getElementRef().nativeElement;do if(s==o)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let i=this._getWindow();return xI(i.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(G(mt),G(be),G(bt,8))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var X8=20,yh=(()=>{let t=class t{constructor(i,r,s){this._platform=i,this._change=new Pt,this._changeListener=o=>{this._change.next(o)},this._document=s,r.runOutsideAngular(()=>{if(i.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:r,height:s}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+s,right:i.left+r,height:s,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,r=this._getWindow(),s=i.documentElement,o=s.getBoundingClientRect(),a=-o.top||i.body.scrollTop||r.scrollY||s.scrollTop||0,c=-o.left||i.body.scrollLeft||r.scrollX||s.scrollLeft||0;return{top:a,left:c}}change(i=X8){return i>0?this._change.pipe(zb(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(r){return new(r||t)(G(be),G(mt),G(bt,8))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var DP=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=vt({});let n=t;return n})(),MP=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=vt({imports:[Jc,DP,Jc,DP]});let n=t;return n})();var OP=YM(),yC=class{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Fe(-this._previousScrollPosition.left),t.style.top=Fe(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,i=t.style,r=e.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),OP&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),OP&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};var wC=class{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Si(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Wg=class{enable(){}disable(){}attach(){}};function xC(n,t){return t.some(e=>{let i=n.bottom<e.top,r=n.top>e.bottom,s=n.right<e.left,o=n.left>e.right;return i||r||s||o})}function NP(n,t){return t.some(e=>{let i=n.top<e.top,r=n.bottom>e.bottom,s=n.left<e.left,o=n.right>e.right;return i||r||s||o})}var CC=class{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();xC(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},J8=(()=>{let t=class t{constructor(i,r,s,o){this._scrollDispatcher=i,this._viewportRuler=r,this._ngZone=s,this.noop=()=>new Wg,this.close=a=>new wC(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new yC(this._viewportRuler,this._document),this.reposition=a=>new CC(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}};t.\u0275fac=function(r){return new(r||t)(G(RP),G(yh),G(mt),G(bt))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),wh=class{constructor(t){if(this.scrollStrategy=new Wg,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let e=Object.keys(t);for(let i of e)t[i]!==void 0&&(this[i]=t[i])}}};var EC=class{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var UP=(()=>{let t=class t{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){let r=this._attachedOverlays.indexOf(i);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(r){return new(r||t)(G(bt))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),t9=(()=>{let t=class t extends UP{constructor(i,r){super(i),this._ngZone=r,this._keydownListener=s=>{let o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){let c=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(s)):c.next(s);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(r){return new(r||t)(G(bt),G(mt,8))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),e9=(()=>{let t=class t extends UP{constructor(i,r,s){super(i),this._platform=r,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Ln(o)},this._clickListener=o=>{let a=Ln(o),c=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let d=l.length-1;d>-1;d--){let h=l[d];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(a)||h.overlayElement.contains(c))break;let m=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>m.next(o)):m.next(o)}}}add(i){if(super.add(i),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(r){return new(r||t)(G(bt),G(be),G(mt,8))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),jP=(()=>{let t=class t{constructor(i,r){this._platform=r,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i="cdk-overlay-container";if(this._platform.isBrowser||gh()){let s=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].remove()}let r=this._document.createElement("div");r.classList.add(i),gh()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};t.\u0275fac=function(r){return new(r||t)(G(bt),G(be))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),IC=class{constructor(t,e,i,r,s,o,a,c,l,d=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new Pt,this._attachments=new Pt,this._detachments=new Pt,this._locationChanges=eo.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new Pt,this._outsidePointerEvents=new Pt,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Bi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Y(Y({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Ft(Y({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=Fe(this._config.width),t.height=Fe(this._config.height),t.minWidth=Fe(this._config.minWidth),t.minHeight=Fe(this._config.minHeight),t.maxWidth=Fe(this._config.maxWidth),t.maxHeight=Fe(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){let r=Qc(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let t=this._ngZone.onStable.pipe(si(CI(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},FP="cdk-overlay-connected-position-bounding-box",i9=/([A-Za-z%]+)$/,kC=class{get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Pt,this._resizeSubscription=eo.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(FP),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[],o;for(let a of this._preferredPositions){let c=this._getOriginPoint(t,r,a),l=this._getOverlayPoint(c,e,a),d=this._getOverlayFit(l,e,i,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(d,l,i)){s.push({position:a,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!o||o.overlayFit.visibleArea<d.visibleArea)&&(o={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:e})}if(s.length){let a=null,c=-1;for(let l of s){let d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ia(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(FP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r;if(i.originX=="center")r=t.left+t.width/2;else{let o=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r=i.originX=="start"?o:a}e.left<0&&(r-=e.left);let s;return i.originY=="center"?s=t.top+t.height/2:s=i.originY=="top"?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r;i.overlayX=="center"?r=-e.width/2:i.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let s;return i.overlayY=="center"?s=-e.height/2:s=i.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){let s=VP(e),{x:o,y:a}=t,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(o+=c),l&&(a+=l);let d=0-o,h=o+s.width-i.width,m=0-a,p=a+s.height-i.height,_=this._subtractOverflows(s.width,d,h),b=this._subtractOverflows(s.height,m,p),v=_*b;return{visibleArea:v,isCompletelyWithinViewport:s.width*s.height===v,fitsInViewportVertically:b===s.height,fitsInViewportHorizontally:_==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){let r=i.bottom-e.y,s=i.right-e.x,o=LP(this._overlayRef.getConfig().minHeight),a=LP(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportVertically||o!=null&&o<=r,l=t.fitsInViewportHorizontally||a!=null&&a<=s;return c&&l}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=VP(e),s=this._viewportRect,o=Math.max(t.x+r.width-s.width,0),a=Math.max(t.y+r.height-s.height,0),c=Math.max(s.top-i.top-t.y,0),l=Math.max(s.left-i.left-t.x,0),d=0,h=0;return r.width<=s.width?d=l||-o:d=t.x<this._viewportMargin?s.left-i.left-t.x:0,r.height<=s.height?h=c||-a:h=t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:d,y:h},{x:t.x+d,y:t.y+h}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!n9(this._lastScrollVisibility,i)){let r=new EC(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){let i=this._viewportRect,r=this._isRtl(),s,o,a;if(e.overlayY==="top")o=t.y,s=i.height-o+this._viewportMargin;else if(e.overlayY==="bottom")a=i.height-t.y+this._viewportMargin*2,s=i.height-a+this._viewportMargin;else{let p=Math.min(i.bottom-t.y+i.top,t.y),_=this._lastBoundingBoxSize.height;s=p*2,o=t.y-p,s>_&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-_/2)}let c=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,l=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,d,h,m;if(l)m=i.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(c)h=t.x,d=i.right-t.x;else{let p=Math.min(i.right-t.x+i.left,t.x),_=this._lastBoundingBoxSize.width;d=p*2,h=t.x-p,d>_&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.x-_/2)}return{top:o,left:h,bottom:a,right:m,width:d,height:s}}_setBoundingBoxStyles(t,e){let i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Fe(i.height),r.top=Fe(i.top),r.bottom=Fe(i.bottom),r.width=Fe(i.width),r.left=Fe(i.left),r.right=Fe(i.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",s&&(r.maxHeight=Fe(s)),o&&(r.maxWidth=Fe(o))}this._lastBoundingBoxSize=i,ia(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ia(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ia(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();ia(i,this._getExactOverlayY(e,t,d)),ia(i,this._getExactOverlayX(e,t,d))}else i.position="static";let a="",c=this._getOffset(e,"x"),l=this._getOffset(e,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=Fe(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=Fe(o.maxWidth):s&&(i.maxWidth="")),ia(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),t.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;r.bottom=`${o-(s.y+this._overlayRect.height)}px`}else r.top=Fe(s.y);return r}_getExactOverlayX(t,e,i){let r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let o;if(this._isRtl()?o=t.overlayX==="end"?"left":"right":o=t.overlayX==="end"?"right":"left",o==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(s.x+this._overlayRect.width)}px`}else r.left=Fe(s.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:NP(t,i),isOriginOutsideView:xC(t,i),isOverlayClipped:NP(e,i),isOverlayOutsideView:xC(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Qc(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof wt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}};function ia(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function LP(n){if(typeof n!="number"&&n!=null){let[t,e]=n.split(i9);return!e||e==="px"?parseFloat(t):null}return n||null}function VP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function n9(n,t){return n===t?!0:n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}var BP="cdk-global-overlay-wrapper",SC=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(BP),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,c=(r==="100%"||r==="100vw")&&(!o||o==="100%"||o==="100vw"),l=(s==="100%"||s==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,h=this._xOffset,m=this._overlayRef.getConfig().direction==="rtl",p="",_="",b="";c?b="flex-start":d==="center"?(b="center",m?_=h:p=h):m?d==="left"||d==="end"?(b="flex-end",p=h):(d==="right"||d==="start")&&(b="flex-start",_=h):d==="left"||d==="start"?(b="flex-start",p=h):(d==="right"||d==="end")&&(b="flex-end",_=h),t.position=this._cssPosition,t.marginLeft=c?"0":p,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":_,e.justifyContent=b,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(BP),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},r9=(()=>{let t=class t{constructor(i,r,s,o){this._viewportRuler=i,this._document=r,this._platform=s,this._overlayContainer=o}global(){return new SC}flexibleConnectedTo(i){return new kC(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(r){return new(r||t)(G(yh),G(bt),G(be),G(jP))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),s9=0,zP=(()=>{let t=class t{constructor(i,r,s,o,a,c,l,d,h,m,p,_){this.scrollStrategies=i,this._overlayContainer=r,this._componentFactoryResolver=s,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=c,this._ngZone=l,this._document=d,this._directionality=h,this._location=m,this._outsideClickDispatcher=p,this._animationsModuleType=_}create(i){let r=this._createHostElement(),s=this._createPaneElement(r),o=this._createPortalOutlet(s),a=new wh(i);return a.direction=a.direction||this._directionality.value,new IC(o,r,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(i){let r=this._document.createElement("div");return r.id=`cdk-overlay-${s9++}`,r.classList.add("cdk-overlay-pane"),i.appendChild(r),r}_createHostElement(){let i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(Da)),new Hg(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(r){return new(r||t)(G(J8),G(jP),G(Om),G(r9),G(t9),G(Ze),G(mt),G(bt),G(Dg),G(so),G(e9),G(vr,8))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function a9(n,t){if(n&1){let e=It();y(0,"div",1)(1,"button",2),et("click",function(){$(e);let r=F();return q(r.action())}),S(2),w()()}if(n&2){let e=F();T(2),_t(" ",e.data.action," ")}}var c9=["label"];function l9(n,t){}var d9=Math.pow(2,31)-1,xh=class{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Pt,this._afterOpened=new Pt,this._onAction=new Pt,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,d9))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},HP=new ut("MatSnackBarData"),sl=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},u9=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=ot({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let n=t;return n})(),h9=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=ot({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let n=t;return n})(),m9=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=ot({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let n=t;return n})(),f9=(()=>{let t=class t{constructor(i,r){this.snackBarRef=i,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};t.\u0275fac=function(r){return new(r||t)(N(xh),N(HP))},t.\u0275cmp=Z({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[J],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(r,s){r&1&&(y(0,"div",0),S(1),w(),K(2,a9,3,1,"div",1)),r&2&&(T(),_t(" ",s.data.message,`
`),T(),fi(s.hasAction?2:-1))},dependencies:[zg,u9,h9,m9],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let n=t;return n})(),p9={snackBarState:Ym("state",[ql("void, hidden",kn({transform:"scale(0.8)",opacity:0})),ql("visible",kn({transform:"scale(1)",opacity:1})),as("* => visible",os("150ms cubic-bezier(0, 0, 0.2, 1)")),as("* => void, * => hidden",os("75ms cubic-bezier(0.4, 0.0, 1, 1)",kn({opacity:0})))])},g9=0,_9=(()=>{let t=class t extends rl{constructor(i,r,s,o,a){super(),this._ngZone=i,this._elementRef=r,this._changeDetectorRef=s,this._platform=o,this.snackBarConfig=a,this._document=nt(bt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Pt,this._onExit=new Pt,this._onEnter=new Pt,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${g9++}`,this.attachDomPortal=c=>{this._assertNotAttached();let l=this._portalOutlet.attachDomPortal(c);return this._afterPortalAttached(),l},a.politeness==="assertive"&&!a.announcementMessage?this._live="assertive":a.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(i){this._assertNotAttached();let r=this._portalOutlet.attachComponentPortal(i);return this._afterPortalAttached(),r}attachTemplatePortal(i){this._assertNotAttached();let r=this._portalOutlet.attachTemplatePortal(i);return this._afterPortalAttached(),r}onAnimationEnd(i){let{fromState:r,toState:s}=i;if((s==="void"&&r!=="void"||s==="hidden")&&this._completeExit(),s==="visible"){let o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let i=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(a=>i.classList.add(a)):i.classList.add(r)),this._exposeToModals();let s=this._label.nativeElement,o="mdc-snackbar__label";s.classList.toggle(o,!s.querySelector(`.${o}`))}_exposeToModals(){let i=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<r.length;s++){let o=r[s],a=o.getAttribute("aria-owns");this._trackedModals.add(o),a?a.indexOf(i)===-1&&o.setAttribute("aria-owns",a+" "+i):o.setAttribute("aria-owns",i)}}_clearFromModals(){this._trackedModals.forEach(i=>{let r=i.getAttribute("aria-owns");if(r){let s=r.replace(this._liveElementId,"").trim();s.length>0?i.setAttribute("aria-owns",s):i.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let i=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(i&&r){let s=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(s=document.activeElement),i.removeAttribute("aria-hidden"),r.appendChild(i),s?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};t.\u0275fac=function(r){return new(r||t)(N(mt),N(wt),N(Ni),N(be),N(sl))},t.\u0275cmp=Z({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,s){if(r&1&&(Ri(vC,7),Ri(c9,7)),r&2){let o;Qt(o=Xt())&&(s._portalOutlet=o.first),Qt(o=Xt())&&(s._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(r,s){r&1&&WI("@state.done",function(a){return s.onAnimationEnd(a)}),r&2&&HI("@state",s._animationState)},standalone:!0,features:[gt,J],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,s){r&1&&(y(0,"div",1)(1,"div",2,0)(3,"div",3),K(4,l9,0,0,"ng-template",4),w(),U(5,"div"),w()()),r&2&&(T(5),ft("aria-live",s._live)("role",s._role)("id",s._liveElementId))},dependencies:[vC],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[p9.snackBarState]}});let n=t;return n})();function b9(){return new sl}var v9=new ut("mat-snack-bar-default-options",{providedIn:"root",factory:b9}),$g=(()=>{let t=class t{get _openedSnackBarRef(){let i=this._parentSnackBar;return i?i._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(i){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=i:this._snackBarRefAtThisLevel=i}constructor(i,r,s,o,a,c){this._overlay=i,this._live=r,this._injector=s,this._breakpointObserver=o,this._parentSnackBar=a,this._defaultConfig=c,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=f9,this.snackBarContainerComponent=_9,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(i,r){return this._attach(i,r)}openFromTemplate(i,r){return this._attach(i,r)}open(i,r="",s){let o=Y(Y({},this._defaultConfig),s);return o.data={message:i,action:r},o.announcementMessage===i&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(i,r){let s=r&&r.viewContainerRef&&r.viewContainerRef.injector,o=Ze.create({parent:s||this._injector,providers:[{provide:sl,useValue:r}]}),a=new il(this.snackBarContainerComponent,r.viewContainerRef,o),c=i.attach(a);return c.instance.snackBarConfig=r,c.instance}_attach(i,r){let s=Y(Y(Y({},new sl),this._defaultConfig),r),o=this._createOverlay(s),a=this._attachSnackBarContainer(o,s),c=new xh(a,o);if(i instanceof mi){let l=new nl(i,null,{$implicit:s.data,snackBarRef:c});c.instance=a.attachTemplatePortal(l)}else{let l=this._createInjector(s,c),d=new il(i,void 0,l),h=a.attachComponentPortal(d);c.instance=h.instance}return this._breakpointObserver.observe(tP.HandsetPortrait).pipe(si(o.detachments())).subscribe(l=>{o.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),s.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(s.announcementMessage,s.politeness)}),this._animateSnackBar(c,s),this._openedSnackBarRef=c,this._openedSnackBarRef}_animateSnackBar(i,r){i.afterDismissed().subscribe(()=>{this._openedSnackBarRef==i&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{i.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):i.containerInstance.enter(),r.duration&&r.duration>0&&i.afterOpened().subscribe(()=>i._dismissAfter(r.duration))}_createOverlay(i){let r=new wh;r.direction=i.direction;let s=this._overlay.position().global(),o=i.direction==="rtl",a=i.horizontalPosition==="left"||i.horizontalPosition==="start"&&!o||i.horizontalPosition==="end"&&o,c=!a&&i.horizontalPosition!=="center";return a?s.left("0"):c?s.right("0"):s.centerHorizontally(),i.verticalPosition==="top"?s.top("0"):s.bottom("0"),r.positionStrategy=s,this._overlay.create(r)}_createInjector(i,r){let s=i&&i.viewContainerRef&&i.viewContainerRef.injector;return Ze.create({parent:s||this._injector,providers:[{provide:xh,useValue:r},{provide:HP,useValue:i.data}]})}};t.\u0275fac=function(r){return new(r||t)(G(zP),G(rP),G(Ze),G(Sg),G(t,12),G(v9))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function y9(n,t){n&1&&(y(0,"mat-card")(1,"mat-card-content"),S(2,"No hay citas relacionadas al nombre"),w()(),U(3,"mat-divider"))}function w9(n,t){if(n&1&&(y(0,"mat-card")(1,"mat-card-content")(2,"p"),S(3),w(),y(4,"p"),S(5),w(),y(6,"p"),S(7),w()()(),U(8,"mat-divider")),n&2){let e=t.$implicit;T(3),Hl("Nombre: ",e.nombre," ",e.apellido,""),T(2),Hl("Cita: ",e.fecha," a las ",e.hora," horas"),T(2),_t("Animalito: ",e.animal.raza,"")}}function x9(n,t){if(n&1&&Lm(0,w9,9,5,null,null,Fm),n&2){let e=F();Vm(e.citas)}}var $P=(()=>{let t=class t{trackCita(i,r){throw new Error("Method not implemented.")}constructor(i,r,s,o){this.route=i,this.clientesService=r,this.busquedaService=s,this.snackBar=o,this.citas=[]}ngOnInit(){es([this.route.queryParams,this.busquedaService.nombreActual]).subscribe(([i,r])=>{let s=i.nombre||r;this.citas=this.clientesService.getCitasPorNombre(s),this.citas.length===0&&this.snackBar.open("No se encontraron resultados para la b\xFAsqueda","Cerrar",{duration:2e3})})}};t.\u0275fac=function(r){return new(r||t)(N(ln),N(Ug),N(jg),N($g))},t.\u0275cmp=Z({type:t,selectors:[["app-search"]],standalone:!0,features:[J],decls:7,vars:1,consts:[[1,"container"],[1,"title"],[1,"fa-solid","fa-paw"]],template:function(r,s){r&1&&(y(0,"div",0)(1,"div",1)(2,"h2"),S(3,"Busqueda de Citas "),U(4,"i",2),w()(),K(5,y9,4,0)(6,x9,2,0),w()),r&2&&(T(5),fi(s.citas.length===0?5:6))},dependencies:[yP,vP,Og,Vg,Fg,Lg],styles:[".title[_ngcontent-%COMP%]{color:#1d8ba3;background-color:#fffc;box-shadow:0 0 10px #00000080;font-family:Lilita One,sans-serif;border-radius:20px;margin-bottom:20px}.container[_ngcontent-%COMP%]{justify-content:center;align-items:center;color:#fff;margin:25px;text-align:center}"]});let n=t;return n})();var E9=[[["caption"]],[["colgroup"],["col"]],"*"],I9=["caption","colgroup, col","*"];function k9(n,t){n&1&&Kt(0,2)}function S9(n,t){n&1&&(y(0,"thead",0),xe(1,1),w(),y(2,"tbody",0),xe(3,2)(4,3),w(),y(5,"tfoot",0),xe(6,4),w())}function T9(n,t){n&1&&xe(0,1)(1,2)(2,3)(3,4)}var Vn=new ut("CDK_TABLE");var Xg=(()=>{let t=class t{constructor(i){this.template=i}};t.\u0275fac=function(r){return new(r||t)(N(mi))},t.\u0275dir=ot({type:t,selectors:[["","cdkCellDef",""]],standalone:!0});let n=t;return n})(),Zg=(()=>{let t=class t{constructor(i){this.template=i}};t.\u0275fac=function(r){return new(r||t)(N(mi))},t.\u0275dir=ot({type:t,selectors:[["","cdkHeaderCellDef",""]],standalone:!0});let n=t;return n})(),KP=(()=>{let t=class t{constructor(i){this.template=i}};t.\u0275fac=function(r){return new(r||t)(N(mi))},t.\u0275dir=ot({type:t,selectors:[["","cdkFooterCellDef",""]],standalone:!0});let n=t;return n})(),ol=(()=>{let t=class t{get name(){return this._name}set name(i){this._setNameInput(i)}get sticky(){return this._sticky}set sticky(i){i!==this._sticky&&(this._sticky=i,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(i){i!==this._stickyEnd&&(this._stickyEnd=i,this._hasStickyChanged=!0)}constructor(i){this._table=i,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let i=this._hasStickyChanged;return this.resetStickyChanged(),i}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(i){i&&(this._name=i,this.cssClassFriendlyName=i.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}};t.\u0275fac=function(r){return new(r||t)(N(Vn,8))},t.\u0275dir=ot({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(r,s,o){if(r&1&&(pi(o,Xg,5),pi(o,Zg,5),pi(o,KP,5)),r&2){let a;Qt(a=Xt())&&(s.cell=a.first),Qt(a=Xt())&&(s.headerCell=a.first),Qt(a=Xt())&&(s.footerCell=a.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",ct],stickyEnd:[2,"stickyEnd","stickyEnd",ct]},standalone:!0,features:[Zt([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),ae]});let n=t;return n})(),Gg=class{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}},YP=(()=>{let t=class t extends Gg{constructor(i,r){super(i,r)}};t.\u0275fac=function(r){return new(r||t)(N(ol),N(wt))},t.\u0275dir=ot({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[gt]});let n=t;return n})();var QP=(()=>{let t=class t extends Gg{constructor(i,r){super(i,r);let s=i._table?._getCellRole();s&&r.nativeElement.setAttribute("role",s)}};t.\u0275fac=function(r){return new(r||t)(N(ol),N(wt))},t.\u0275dir=ot({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[gt]});let n=t;return n})(),Kg=class{constructor(){this.tasks=[],this.endTasks=[]}},Yg=new ut("_COALESCED_STYLE_SCHEDULER"),AC=(()=>{let t=class t{constructor(i){this._ngZone=i,this._currentSchedule=null,this._destroyed=new Pt}schedule(i){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(i)}scheduleEnd(i){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(i)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Kg,this._getScheduleObservable().pipe(si(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let i=this._currentSchedule;this._currentSchedule=new Kg;for(let r of i.tasks)r();for(let r of i.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?oe(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Bi(1))}};t.\u0275fac=function(r){return new(r||t)(G(mt))},t.\u0275prov=tt({token:t,factory:t.\u0275fac});let n=t;return n})();var DC=(()=>{let t=class t{constructor(i,r){this.template=i,this._differs=r}ngOnChanges(i){if(!this._columnsDiffer){let r=i.columns&&i.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(i){return this instanceof Ch?i.headerCell.template:this instanceof RC?i.footerCell.template:i.cell.template}};t.\u0275fac=function(r){return new(r||t)(N(mi),N(ro))},t.\u0275dir=ot({type:t,features:[oi]});let n=t;return n})(),Ch=(()=>{let t=class t extends DC{get sticky(){return this._sticky}set sticky(i){i!==this._sticky&&(this._sticky=i,this._hasStickyChanged=!0)}constructor(i,r,s){super(i,r),this._table=s,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(i){super.ngOnChanges(i)}hasStickyChanged(){let i=this._hasStickyChanged;return this.resetStickyChanged(),i}resetStickyChanged(){this._hasStickyChanged=!1}};t.\u0275fac=function(r){return new(r||t)(N(mi),N(ro),N(Vn,8))},t.\u0275dir=ot({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",ct]},standalone:!0,features:[ae,gt,oi]});let n=t;return n})(),RC=(()=>{let t=class t extends DC{get sticky(){return this._sticky}set sticky(i){i!==this._sticky&&(this._sticky=i,this._hasStickyChanged=!0)}constructor(i,r,s){super(i,r),this._table=s,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(i){super.ngOnChanges(i)}hasStickyChanged(){let i=this._hasStickyChanged;return this.resetStickyChanged(),i}resetStickyChanged(){this._hasStickyChanged=!1}};t.\u0275fac=function(r){return new(r||t)(N(mi),N(ro),N(Vn,8))},t.\u0275dir=ot({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",ct]},standalone:!0,features:[ae,gt,oi]});let n=t;return n})(),Jg=(()=>{let t=class t extends DC{constructor(i,r,s){super(i,r),this._table=s}};t.\u0275fac=function(r){return new(r||t)(N(mi),N(ro),N(Vn,8))},t.\u0275dir=ot({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[gt]});let n=t;return n})(),na=(()=>{let t=class t{constructor(i){this._viewContainer=i,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}};t.mostRecentCellOutlet=null,t.\u0275fac=function(r){return new(r||t)(N(an))},t.\u0275dir=ot({type:t,selectors:[["","cdkCellOutlet",""]],standalone:!0});let n=t;return n})(),MC=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[J],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,s){r&1&&xe(0,0)},dependencies:[na],encapsulation:2});let n=t;return n})();var PC=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[J],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,s){r&1&&xe(0,0)},dependencies:[na],encapsulation:2});let n=t;return n})(),XP=(()=>{let t=class t{constructor(i){this.templateRef=i,this._contentClassName="cdk-no-data-row"}};t.\u0275fac=function(r){return new(r||t)(N(mi))},t.\u0275dir=ot({type:t,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0});let n=t;return n})(),qP=["top","bottom","left","right"],TC=class{constructor(t,e,i,r,s=!0,o=!0,a){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=o,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){let i=[];for(let r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(let r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!(e.some(s=>s)||i.some(s=>s))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let s=t[0],o=s.children.length,a=this._getCellWidths(s,r),c=this._getStickyStartColumnPositions(a,e),l=this._getStickyEndColumnPositions(a,i),d=e.lastIndexOf(!0),h=i.indexOf(!0),m=this.direction==="rtl",p=m?"right":"left",_=m?"left":"right";for(let b of t)for(let v=0;v<o;v++){let R=b.children[v];e[v]&&this._addStickyStyle(R,p,c[v],v===d),i[v]&&this._addStickyStyle(R,_,l[v],v===h)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:d===-1?[]:a.slice(0,d+1).map((b,v)=>e[v]?b:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:h===-1?[]:a.slice(h).map((b,v)=>i[v+h]?b:null).reverse()}))})}stickRows(t,e,i){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{let r=i==="bottom"?t.slice().reverse():t,s=i==="bottom"?e.slice().reverse():e,o=[],a=[],c=[];for(let d=0,h=0;d<r.length;d++){if(!s[d])continue;o[d]=h;let m=r[d];c[d]=this._isNativeHtmlTable?Array.from(m.children):[m];let p=m.getBoundingClientRect().height;h+=p,a[d]=p}let l=s.lastIndexOf(!0);for(let d=0;d<r.length;d++){if(!s[d])continue;let h=o[d],m=d===l;for(let p of c[d])this._addStickyStyle(p,i,h,m)}i==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:o,elements:c}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:o,elements:c})})}updateStickyFooterContainer(t,e){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let i=t.querySelector("tfoot");i&&(e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1))})}_removeStickyStyle(t,e){for(let r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);qP.some(r=>e.indexOf(r)===-1&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){let e={top:100,bottom:10,left:1,right:1},i=0;for(let r of qP)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let i=[],r=t.children;for(let s=0;s<r.length;s++){let o=r[s];i.push(o.getBoundingClientRect().width)}return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){let i=[],r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){let i=[],r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}};var Qg=new ut("CDK_SPL");var OC=(()=>{let t=class t{constructor(i,r){this.viewContainer=i,this.elementRef=r;let s=nt(Vn);s._rowOutlet=this,s._outletAssigned()}};t.\u0275fac=function(r){return new(r||t)(N(an),N(wt))},t.\u0275dir=ot({type:t,selectors:[["","rowOutlet",""]],standalone:!0});let n=t;return n})(),NC=(()=>{let t=class t{constructor(i,r){this.viewContainer=i,this.elementRef=r;let s=nt(Vn);s._headerRowOutlet=this,s._outletAssigned()}};t.\u0275fac=function(r){return new(r||t)(N(an),N(wt))},t.\u0275dir=ot({type:t,selectors:[["","headerRowOutlet",""]],standalone:!0});let n=t;return n})(),FC=(()=>{let t=class t{constructor(i,r){this.viewContainer=i,this.elementRef=r;let s=nt(Vn);s._footerRowOutlet=this,s._outletAssigned()}};t.\u0275fac=function(r){return new(r||t)(N(an),N(wt))},t.\u0275dir=ot({type:t,selectors:[["","footerRowOutlet",""]],standalone:!0});let n=t;return n})(),LC=(()=>{let t=class t{constructor(i,r){this.viewContainer=i,this.elementRef=r;let s=nt(Vn);s._noDataRowOutlet=this,s._outletAssigned()}};t.\u0275fac=function(r){return new(r||t)(N(an),N(wt))},t.\u0275dir=ot({type:t,selectors:[["","noDataRowOutlet",""]],standalone:!0});let n=t;return n})();var VC=(()=>{let t=class t{_getCellRole(){if(this._cellRoleInternal===void 0){let i=this._elementRef.nativeElement.getAttribute("role"),r=i==="grid"||i==="treegrid"?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&r==="cell"?null:r}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(i){this._trackByFn=i}get dataSource(){return this._dataSource}set dataSource(i){this._dataSource!==i&&this._switchDataSource(i)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(i){this._multiTemplateDataRows=i,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(i){this._fixedLayout=i,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(i,r,s,o,a,c,l,d,h,m,p,_){this._differs=i,this._changeDetectorRef=r,this._elementRef=s,this._dir=a,this._platform=l,this._viewRepeater=d,this._coalescedStyleScheduler=h,this._viewportRuler=m,this._stickyPositioningListener=p,this._ngZone=_,this._onDestroy=new Pt,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Tt,this.viewChange=new Ve({start:0,end:Number.MAX_VALUE}),o||s.nativeElement.setAttribute("role","table"),this._document=c,this._isServer=!l.isBrowser,this._isNativeHtmlTable=s.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((i,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(si(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(i=>{i?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Ng(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let i=this._dataDiffer.diff(this._renderRows);if(!i){this._updateNoDataRow(),this.contentChanged.next();return}let r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(i,r,(s,o,a)=>this._getEmbeddedViewArgs(s.item,a),s=>s.item.data,s=>{s.operation===tl.INSERTED&&s.context&&this._renderCellTemplateForItem(s.record.item.rowDef,s.context)}),this._updateRowIndexContext(),i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);o.context.$implicit=s.item.data}),this._updateNoDataRow(),this._ngZone&&mt.isInAngularZone()?this._ngZone.onStable.pipe(Bi(1),si(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(i){this._customColumnDefs.add(i)}removeColumnDef(i){this._customColumnDefs.delete(i)}addRowDef(i){this._customRowDefs.add(i)}removeRowDef(i){this._customRowDefs.delete(i)}addHeaderRowDef(i){this._customHeaderRowDefs.add(i),this._headerRowDefChanged=!0}removeHeaderRowDef(i){this._customHeaderRowDefs.delete(i),this._headerRowDefChanged=!0}addFooterRowDef(i){this._customFooterRowDefs.add(i),this._footerRowDefChanged=!0}removeFooterRowDef(i){this._customFooterRowDefs.delete(i),this._footerRowDefChanged=!0}setNoDataRow(i){this._customNoDataRow=i}updateStickyHeaderRowStyles(){let i=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let s=GP(this._headerRowOutlet,"thead");s&&(s.style.display=i.length?"":"none")}let r=this._headerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(i,["top"]),this._stickyStyler.stickRows(i,r,"top"),this._headerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyFooterRowStyles(){let i=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let s=GP(this._footerRowOutlet,"tfoot");s&&(s.style.display=i.length?"":"none")}let r=this._footerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(i,["bottom"]),this._stickyStyler.stickRows(i,r,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,r),this._footerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyColumnStyles(){let i=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),s=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...i,...r,...s],["left","right"]),this._stickyColumnStylesNeedReset=!1),i.forEach((o,a)=>{this._addStickyColumnStyles([o],this._headerRowDefs[a])}),this._rowDefs.forEach(o=>{let a=[];for(let c=0;c<r.length;c++)this._renderRows[c].rowDef===o&&a.push(r[c]);this._addStickyColumnStyles(a,o)}),s.forEach((o,a)=>{this._addStickyColumnStyles([o],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let i=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let s=0;s<this._data.length;s++){let o=this._data[s],a=this._getRenderRowsForData(o,s,r.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let c=0;c<a.length;c++){let l=a[c],d=this._cachedRenderRowsMap.get(l.data);d.has(l.rowDef)?d.get(l.rowDef).push(l):d.set(l.rowDef,[l]),i.push(l)}}return i}_getRenderRowsForData(i,r,s){return this._getRowDefs(i,r).map(a=>{let c=s&&s.has(a)?s.get(a):[];if(c.length){let l=c.shift();return l.dataIndex=r,l}else return{data:i,rowDef:a,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),qg(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=qg(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=qg(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=qg(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let i=this._rowDefs.filter(r=>!r.when);!this.multiTemplateDataRows&&i.length>1,this._defaultRowDef=i[0]}_renderUpdatedColumns(){let i=(a,c)=>a||!!c.getColumnsDiff(),r=this._rowDefs.reduce(i,!1);r&&this._forceRenderDataRows();let s=this._headerRowDefs.reduce(i,!1);s&&this._forceRenderHeaderRows();let o=this._footerRowDefs.reduce(i,!1);return o&&this._forceRenderFooterRows(),r||s||o}_switchDataSource(i){this._data=[],Ng(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),i||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=i}_observeRenderChanges(){if(!this.dataSource)return;let i;Ng(this.dataSource)?i=this.dataSource.connect(this):wa(this.dataSource)?i=this.dataSource:Array.isArray(this.dataSource)&&(i=ht(this.dataSource)),this._renderChangeSubscription=i.pipe(si(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((i,r)=>this._renderRow(this._headerRowOutlet,i,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((i,r)=>this._renderRow(this._footerRowOutlet,i,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(i,r){let s=Array.from(r.columns||[]).map(c=>{let l=this._columnDefsByName.get(c);return l}),o=s.map(c=>c.sticky),a=s.map(c=>c.stickyEnd);this._stickyStyler.updateStickyColumns(i,o,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(i){let r=[];for(let s=0;s<i.viewContainer.length;s++){let o=i.viewContainer.get(s);r.push(o.rootNodes[0])}return r}_getRowDefs(i,r){if(this._rowDefs.length==1)return[this._rowDefs[0]];let s=[];if(this.multiTemplateDataRows)s=this._rowDefs.filter(o=>!o.when||o.when(r,i));else{let o=this._rowDefs.find(a=>a.when&&a.when(r,i))||this._defaultRowDef;o&&s.push(o)}return s.length,s}_getEmbeddedViewArgs(i,r){let s=i.rowDef,o={$implicit:i.data};return{templateRef:s.template,context:o,index:r}}_renderRow(i,r,s,o={}){let a=i.viewContainer.createEmbeddedView(r.template,o,s);return this._renderCellTemplateForItem(r,o),a}_renderCellTemplateForItem(i,r){for(let s of this._getCellTemplates(i))na.mostRecentCellOutlet&&na.mostRecentCellOutlet._viewContainer.createEmbeddedView(s,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let i=this._rowOutlet.viewContainer;for(let r=0,s=i.length;r<s;r++){let a=i.get(r).context;a.count=s,a.first=r===0,a.last=r===s-1,a.even=r%2===0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[r].dataIndex,a.renderIndex=r):a.index=this._renderRows[r].dataIndex}}_getCellTemplates(i){return!i||!i.columns?[]:Array.from(i.columns,r=>{let s=this._columnDefsByName.get(r);return i.extractCellTemplate(s)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let i=(r,s)=>r||s.hasStickyChanged();this._headerRowDefs.reduce(i,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(i,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(i,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let i=this._dir?this._dir.value:"ltr";this._stickyStyler=new TC(this._isNativeHtmlTable,this.stickyCssClass,i,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:ht()).pipe(si(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(i){return i.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){let i=this._customNoDataRow||this._noDataRow;if(!i)return;let r=this._rowOutlet.viewContainer.length===0;if(r===this._isShowingNoDataRow)return;let s=this._noDataRowOutlet.viewContainer;if(r){let o=s.createEmbeddedView(i.templateRef),a=o.rootNodes[0];o.rootNodes.length===1&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(i._contentClassName))}else s.clear();this._isShowingNoDataRow=r,this._changeDetectorRef.markForCheck()}};t.\u0275fac=function(r){return new(r||t)(N(ro),N(Ni),N(wt),Bl("role"),N(Dg,8),N(bt),N(be),N(bh),N(Yg),N(yh),N(Qg,12),N(mt,8))},t.\u0275cmp=Z({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(r,s,o){if(r&1&&(pi(o,XP,5),pi(o,ol,5),pi(o,Jg,5),pi(o,Ch,5),pi(o,RC,5)),r&2){let a;Qt(a=Xt())&&(s._noDataRow=a.first),Qt(a=Xt())&&(s._contentColumnDefs=a),Qt(a=Xt())&&(s._contentRowDefs=a),Qt(a=Xt())&&(s._contentHeaderRowDefs=a),Qt(a=Xt())&&(s._contentFooterRowDefs=a)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(r,s){r&2&&Ae("cdk-table-fixed-layout",s.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",ct],fixedLayout:[2,"fixedLayout","fixedLayout",ct]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[Zt([{provide:Vn,useExisting:t},{provide:bh,useClass:el},{provide:Yg,useClass:AC},{provide:Qg,useValue:null}]),ae,J],ngContentSelectors:I9,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,s){r&1&&(Ue(E9),Kt(0),Kt(1,1),K(2,k9,1,0)(3,S9,7,0)(4,T9,4,0)),r&2&&(T(2),fi(s._isServer?2:-1),T(),fi(s._isNativeHtmlTable?3:4))},dependencies:[NC,OC,LC,FC],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2});let n=t;return n})();function qg(n,t){return n.concat(Array.from(t))}function GP(n,t){let e=t.toUpperCase(),i=n.viewContainer.element.nativeElement;for(;i;){let r=i.nodeType===1?i.nodeName:null;if(r===e)return i;if(r==="TABLE")break;i=i.parentNode}return null}var ZP=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=vt({imports:[MP]});let n=t;return n})();var A9=[[["caption"]],[["colgroup"],["col"]],"*"],D9=["caption","colgroup, col","*"];function R9(n,t){n&1&&Kt(0,2)}function M9(n,t){n&1&&(y(0,"thead",0),xe(1,1),w(),y(2,"tbody",2),xe(3,3)(4,4),w(),y(5,"tfoot",0),xe(6,5),w())}function P9(n,t){n&1&&xe(0,1)(1,3)(2,4)(3,5)}var JP=(()=>{let t=class t extends VC{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Lt(t)))(s||t)}})(),t.\u0275cmp=Z({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(r,s){r&2&&Ae("mdc-table-fixed-layout",s.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[Zt([{provide:VC,useExisting:t},{provide:Vn,useExisting:t},{provide:Yg,useClass:AC},{provide:bh,useClass:el},{provide:Qg,useValue:null}]),gt,J],ngContentSelectors:D9,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,s){r&1&&(Ue(A9),Kt(0),Kt(1,1),K(2,R9,1,0)(3,M9,7,0)(4,P9,4,0)),r&2&&(T(2),fi(s._isServer?2:-1),T(),fi(s._isNativeHtmlTable?3:4))},dependencies:[NC,OC,LC,FC],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2});let n=t;return n})(),t2=(()=>{let t=class t extends Xg{};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Lt(t)))(s||t)}})(),t.\u0275dir=ot({type:t,selectors:[["","matCellDef",""]],standalone:!0,features:[Zt([{provide:Xg,useExisting:t}]),gt]});let n=t;return n})(),e2=(()=>{let t=class t extends Zg{};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Lt(t)))(s||t)}})(),t.\u0275dir=ot({type:t,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[Zt([{provide:Zg,useExisting:t}]),gt]});let n=t;return n})();var i2=(()=>{let t=class t extends ol{get name(){return this._name}set name(i){this._setNameInput(i)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Lt(t)))(s||t)}})(),t.\u0275dir=ot({type:t,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[Zt([{provide:ol,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),gt]});let n=t;return n})(),n2=(()=>{let t=class t extends YP{};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Lt(t)))(s||t)}})(),t.\u0275dir=ot({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[gt]});let n=t;return n})();var r2=(()=>{let t=class t extends QP{};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Lt(t)))(s||t)}})(),t.\u0275dir=ot({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[gt]});let n=t;return n})();var s2=(()=>{let t=class t extends Ch{};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Lt(t)))(s||t)}})(),t.\u0275dir=ot({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",ct]},standalone:!0,features:[Zt([{provide:Ch,useExisting:t}]),ae,gt]});let n=t;return n})();var o2=(()=>{let t=class t extends Jg{};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Lt(t)))(s||t)}})(),t.\u0275dir=ot({type:t,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[Zt([{provide:Jg,useExisting:t}]),gt]});let n=t;return n})(),a2=(()=>{let t=class t extends MC{};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Lt(t)))(s||t)}})(),t.\u0275cmp=Z({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[Zt([{provide:MC,useExisting:t}]),gt,J],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,s){r&1&&xe(0,0)},dependencies:[na],encapsulation:2});let n=t;return n})();var c2=(()=>{let t=class t extends PC{};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Lt(t)))(s||t)}})(),t.\u0275cmp=Z({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[Zt([{provide:PC,useExisting:t}]),gt,J],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,s){r&1&&xe(0,0)},dependencies:[na],encapsulation:2});let n=t;return n})();var t_=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=vt({imports:[Ye,ZP,Ye]});let n=t;return n})();function N9(n,t){n&1&&(y(0,"th",20),S(1," No. "),w())}function F9(n,t){if(n&1&&(y(0,"td",21),S(1),w()),n&2){let e=t.$implicit;T(),_t(" ",e.position," ")}}function L9(n,t){n&1&&(y(0,"th",20),S(1," Nombre "),w())}function V9(n,t){if(n&1&&(y(0,"td",21),S(1),w()),n&2){let e=t.$implicit;T(),_t(" ",e.name," ")}}function B9(n,t){n&1&&(y(0,"th",20),S(1," Descripci\xF3n "),w())}function U9(n,t){if(n&1&&(y(0,"td",21),S(1),w()),n&2){let e=t.$implicit;T(),_t(" ",e.desc," ")}}function j9(n,t){n&1&&U(0,"tr",22)}function z9(n,t){n&1&&U(0,"tr",23)}var l2=(()=>{let t=class t{constructor(){this.displayedColumns=["position","name","desc"],this.dataSource=[]}ngOnInit(){this.loadData()}loadData(){fetch("https://tipsrap.free.beeceptor.com/").then(r=>r.json()).then(r=>{this.dataSource=r}).catch(r=>{console.error("Error fetching data:",r)})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["app-tips"]],standalone:!0,features:[J],decls:71,vars:3,consts:[[1,"container"],[1,"title"],[1,"fa-solid","fa-paw"],["tabindex","0",1,"example-container","mat-elevation-z8"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","desc"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"title2"],[1,"cards"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["mat-card-image","","src","../../assets/media/tips/feliz1.jpg","alt","Photo of a Shiba Inu"],["mat-button",""],["mat-card-image","","src","../../assets/media/tips/feliz2.jpg","alt","Photo of a Shiba Inu"],["mat-card-image","","src","../../assets/media/tips/feliz3.jpg","alt","Photo of a Shiba Inu"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(r,s){r&1&&(y(0,"div",0)(1,"div",1)(2,"h2"),S(3,"Tips & Cuidados "),U(4,"i",2),w()(),y(5,"section",3)(6,"table",4),ce(7,5),K(8,N9,2,0,"th",6)(9,F9,2,1,"td",7),le(),ce(10,8),K(11,L9,2,0,"th",6)(12,V9,2,1,"td",7),le(),ce(13,9),K(14,B9,2,0,"th",6)(15,U9,2,1,"td",7),le(),K(16,j9,1,0,"tr",10)(17,z9,1,0,"tr",11),w()(),y(18,"div",12)(19,"h5"),S(20,"Gracias por hacer la diferencia "),U(21,"i",2),w()(),y(22,"section",13)(23,"mat-card",14)(24,"mat-card-header"),U(25,"div",15),y(26,"mat-card-title"),S(27,"RAP Foundation"),w(),y(28,"mat-card-subtitle"),S(29,"MakeTheDifference"),w()(),U(30,"img",16),y(31,"mat-card-content")(32,"p"),S(33," Aqu\xED estamos emocionados de que esta familia de 4 haya adoptado a este perro. \xA1Esperamos que tengan muchos momentos felices juntos! // Here we're thrilled that this family of 4 adopted this dog. We hope they have many happy moments together! "),w()(),y(34,"mat-card-actions")(35,"button",17),S(36,"LIKE"),w(),y(37,"button",17),S(38,"SHARE"),w()()(),y(39,"mat-card",14)(40,"mat-card-header"),U(41,"div",15),y(42,"mat-card-title"),S(43,"RAP Foundation"),w(),y(44,"mat-card-subtitle"),S(45,"MakeTheDifference"),w()(),U(46,"img",18),y(47,"mat-card-content")(48,"p"),S(49," Aqu\xED estamos emocionados de que esta pareja reci\xE9n casada est\xE9 feliz con su nuevo miembro. \xA1Les deseamos lo mejor en su viaje juntos! // Here we're thrilled that this newlywed couple is happy with their new member. We wish them all the best on their journey together! "),w()(),y(50,"mat-card-actions")(51,"button",17),S(52,"LIKE"),w(),y(53,"button",17),S(54,"SHARE"),w()()(),y(55,"mat-card",14)(56,"mat-card-header"),U(57,"div",15),y(58,"mat-card-title"),S(59,"RAP Foundation"),w(),y(60,"mat-card-subtitle"),S(61,"MakeTheDifference"),w()(),U(62,"img",19),y(63,"mat-card-content")(64,"p"),S(65," Aqu\xED estamos felices de que este gatito haya sido salvado de la calle, rehabilitado y ahora est\xE9 feliz con su nueva adopci\xF3n por parte de esta pareja. // Here we're happy that this kitten has been saved from the street, rehabilitated, and is now happy with their new adoption by this couple. "),w()(),y(66,"mat-card-actions")(67,"button",17),S(68,"LIKE"),w(),y(69,"button",17),S(70,"SHARE"),w()()()()()),r&2&&(T(6),B("dataSource",s.dataSource),T(10),B("matHeaderRowDef",s.displayedColumns),T(),B("matRowDefColumns",s.displayedColumns))},dependencies:[t_,JP,e2,s2,i2,t2,o2,n2,r2,a2,c2,Vg,Fg,CP,kP,Lg,EP,IP,xP,wP,_C,zg],styles:[".container[_ngcontent-%COMP%]{margin:20px 5%;text-align:center}.title[_ngcontent-%COMP%]{color:#1d8ba3;background-color:#fffc;box-shadow:0 0 10px #00000080;font-family:Lilita One,sans-serif;border-radius:20px;margin-bottom:20px}.title2[_ngcontent-%COMP%]{color:#1d8ba3;background-color:#fffc;box-shadow:0 0 10px #9b9b9b80;font-family:Lilita One,sans-serif;border-radius:20px;margin-top:25px;margin-bottom:20px}.example-container[_ngcontent-%COMP%]{height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.example-card[_ngcontent-%COMP%]{max-width:400px}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.cards[_ngcontent-%COMP%]{display:flex}.example-card[_ngcontent-%COMP%]{margin:15px;color:#fff}"]});let n=t;return n})();var e_=(()=>{let t=class t{constructor(){this.animales=Bg}getAnimales(){return this.animales}getUnAnimal(i){return this.animales[i]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var i_=(()=>{let t=class t{constructor(i){this.firestore=i}addRegistro(i){let r=Ho(this.firestore,"citas");return eR(r,i)}getRegistro(){let i=Ho(this.firestore,"citas");return Vc(i,{idField:"id"})}deleteRegistro(i){let r=nR(this.firestore,`citas/${i}`);return iR(r)}getRegistrosByFecha(i){let r=Ho(this.firestore,"citas"),s=Ix(r,kx("fecha","==",i));return Vc(s,{idField:"id"})}getRegistrosByIdusr(i){let r=Ho(this.firestore,"citas"),s=Ix(r,kx("uid","==",i));return Vc(s,{idField:"id"})}};t.\u0275fac=function(r){return new(r||t)(G(Fr))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var BC=class{constructor(t,e){this._delegate=t,this.firebase=e,Qa(t,new gi("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Dd(this._delegate)))}_getService(t,e=Yn){var i;this._delegate.checkDestroyed();let r=this._delegate.container.getProvider(t);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:e})}_removeServiceInstance(t,e=Yn){this._delegate.container.getProvider(t).clearInstance(e)}_addComponent(t){Qa(this._delegate,t)}_addOrOverwriteComponent(t){_v(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}};var H9={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},h2=new dn("app-compat","Firebase",H9);function W9(n){let t={},e={__esModule:!0,initializeApp:s,app:r,registerVersion:fe,setLogLevel:Of,onLog:Pf,apps:null,SDK_VERSION:Dn,INTERNAL:{registerComponent:a,removeApp:i,useAsService:c,modularAPIs:bv}};e.default=e,Object.defineProperty(e,"apps",{get:o});function i(l){delete t[l]}function r(l){if(l=l||Yn,!nv(t,l))throw h2.create("no-app",{appName:l});return t[l]}r.App=n;function s(l,d={}){let h=bs(l,d);if(nv(t,h.name))return t[h.name];let m=new n(h,e);return t[h.name]=m,m}function o(){return Object.keys(t).map(l=>t[l])}function a(l){let d=l.name,h=d.replace("-compat","");if(An(l)&&l.type==="PUBLIC"){let m=(p=r())=>{if(typeof p[h]!="function")throw h2.create("invalid-app-argument",{appName:d});return p[h]()};l.serviceProps!==void 0&&Id(m,l.serviceProps),e[h]=m,n.prototype[h]=function(...p){return this._getService.bind(this,d).apply(this,l.multipleInstances?p:[])}}return l.type==="PUBLIC"?e[h]:null}function c(l,d){return d==="serverAuth"?null:d}return e}function f2(){let n=W9(BC);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:f2,extendNamespace:t,createSubscribe:Af,ErrorFactory:dn,deepExtend:Id});function t(e){Id(n,e)}return n}var $9=f2();var m2=new Gn("@firebase/app-compat"),q9="@firebase/app-compat",G9="0.2.35";function K9(n){fe(q9,G9,n)}if(kf()&&self.firebase!==void 0){m2.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);let n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&m2.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var n_=$9;K9();function ra(){return window}var Y9=2e3;function Q9(n,t,e){return E(this,null,function*(){var i;let{BuildInfo:r}=ra();hn(t.sessionId,"AuthEvent did not contain a session ID");let s=yield eH(t.sessionId),o={};return ko()?o.ibi=r.packageName:rc()?o.apn=r.packageName:Ne(n,"operation-not-supported-in-this-environment"),r.displayName&&(o.appDisplayName=r.displayName),o.sessionId=s,Xf(n,e,t.type,void 0,(i=t.eventId)!==null&&i!==void 0?i:void 0,o)})}function X9(n){return E(this,null,function*(){let{BuildInfo:t}=ra(),e={};ko()?e.iosBundleId=t.packageName:rc()?e.androidPackageName=t.packageName:Ne(n,"operation-not-supported-in-this-environment"),yield dy(n,e)})}function Z9(n){let{cordova:t}=ra();return new Promise(e=>{t.plugins.browsertab.isAvailable(i=>{let r=null;i?t.plugins.browsertab.openUrl(n):r=t.InAppBrowser.open(n,xT()?"_blank":"_system","location=yes"),e(r)})})}function J9(n,t,e){return E(this,null,function*(){let{cordova:i}=ra(),r=()=>{};try{yield new Promise((s,o)=>{let a=null;function c(){var h;s();let m=(h=i.plugins.browsertab)===null||h===void 0?void 0:h.close;typeof m=="function"&&m(),typeof e?.close=="function"&&e.close()}function l(){a||(a=window.setTimeout(()=>{o(We(n,"redirect-cancelled-by-user"))},Y9))}function d(){document?.visibilityState==="visible"&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),rc()&&document.addEventListener("visibilitychange",d,!1),r=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",d,!1),a&&window.clearTimeout(a)}})}finally{r()}})}function tH(n){var t,e,i,r,s,o,a,c,l,d;let h=ra();X(typeof((t=h?.universalLinks)===null||t===void 0?void 0:t.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),X(typeof((e=h?.BuildInfo)===null||e===void 0?void 0:e.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),X(typeof((s=(r=(i=h?.cordova)===null||i===void 0?void 0:i.plugins)===null||r===void 0?void 0:r.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),X(typeof((c=(a=(o=h?.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||c===void 0?void 0:c.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),X(typeof((d=(l=h?.cordova)===null||l===void 0?void 0:l.InAppBrowser)===null||d===void 0?void 0:d.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function eH(n){return E(this,null,function*(){let t=iH(n),e=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(e)).map(r=>r.toString(16).padStart(2,"0")).join("")})}function iH(n){if(hn(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);let t=new ArrayBuffer(n.length),e=new Uint8Array(t);for(let i=0;i<n.length;i++)e[i]=n.charCodeAt(i);return e}var nH=20,UC=class extends Hd{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(t=>{this.resolveInialized=t})}addPassiveListener(t){this.passiveListeners.add(t)}removePassiveListener(t){this.passiveListeners.delete(t)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(t){return this.resolveInialized(),this.passiveListeners.forEach(e=>e(t)),super.onEvent(t)}initialized(){return E(this,null,function*(){yield this.initPromise})}};function rH(n,t,e=null){return{type:t,eventId:e,urlResponse:null,sessionId:aH(),postBody:null,tenantId:n.tenantId,error:We(n,"no-auth-event")}}function sH(n,t){return jC()._set(zC(n),t)}function p2(n){return E(this,null,function*(){let t=yield jC()._get(zC(n));return t&&(yield jC()._remove(zC(n))),t})}function oH(n,t){var e,i;let r=lH(t);if(r.includes("/__/auth/callback")){let s=r_(r),o=s.firebaseError?cH(decodeURIComponent(s.firebaseError)):null,a=(i=(e=o?.code)===null||e===void 0?void 0:e.split("auth/"))===null||i===void 0?void 0:i[1],c=a?We(a):null;return c?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:r,postBody:null}}return null}function aH(){let n=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<nH;e++){let i=Math.floor(Math.random()*t.length);n.push(t.charAt(i))}return n.join("")}function jC(){return bi(Is)}function zC(n){return Xn("authEvent",n.config.apiKey,n.name)}function cH(n){try{return JSON.parse(n)}catch{return null}}function lH(n){let t=r_(n),e=t.link?decodeURIComponent(t.link):void 0,i=r_(e).link,r=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return r_(r).link||r||i||e||n}function r_(n){if(!n?.includes("?"))return{};let[t,...e]=n.split("?");return gs(e.join("?"))}var dH=500,HC=class{constructor(){this._redirectPersistence=fn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ao,this._overrideRedirectResult=mc}_initialize(t){return E(this,null,function*(){let e=t._key(),i=this.eventManagers.get(e);return i||(i=new UC(t),this.eventManagers.set(e,i),this.attachCallbackListeners(t,i)),i})}_openPopup(t){Ne(t,"operation-not-supported-in-this-environment")}_openRedirect(t,e,i,r){return E(this,null,function*(){tH(t);let s=yield this._initialize(t);yield s.initialized(),s.resetRedirect(),FT(),yield this._originValidation(t);let o=rH(t,i,r);yield sH(t,o);let a=yield Q9(t,o,e),c=yield Z9(a);return J9(t,s,c)})}_isIframeWebStorageSupported(t,e){throw new Error("Method not implemented.")}_originValidation(t){let e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=X9(t)),this.originValidationPromises[e]}attachCallbackListeners(t,e){let{universalLinks:i,handleOpenURL:r,BuildInfo:s}=ra(),o=setTimeout(()=>E(this,null,function*(){yield p2(t),e.onEvent(g2())}),dH),a=d=>E(this,null,function*(){clearTimeout(o);let h=yield p2(t),m=null;h&&d?.url&&(m=oH(h,d.url)),e.onEvent(m||g2())});typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,a);let c=r,l=`${s.packageName.toLowerCase()}://`;ra().handleOpenURL=d=>E(this,null,function*(){if(d.toLowerCase().startsWith(l)&&a({url:d}),typeof c=="function")try{c(d)}catch(h){console.error(h)}})}},_2=HC;function g2(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:We("no-auth-event")}}function b2(n,t){pe(n)._logFramework(t)}var hH="@firebase/auth-compat",mH="0.5.9";var fH=1e3;function kh(){var n;return((n=self?.location)===null||n===void 0?void 0:n.protocol)||null}function pH(){return kh()==="http:"||kh()==="https:"}function w2(n=_e()){return!!((kh()==="file:"||kh()==="ionic:"||kh()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function gH(){return kd()||If()}function _H(){return Tf()&&document?.documentMode===11}function bH(n=_e()){return/Edge\/\d+/.test(n)}function vH(n=_e()){return _H()||bH(n)}function x2(){try{let n=self.localStorage,t=So();if(n)return n.setItem(t,"1"),n.removeItem(t),vH()?co():!0}catch{return YC()&&co()}return!1}function YC(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function WC(){return(pH()||Sf()||w2())&&!gH()&&x2()&&!YC()}function C2(){return w2()&&typeof document<"u"}function yH(){return E(this,null,function*(){return C2()?new Promise(n=>{let t=setTimeout(()=>{n(!1)},fH);document.addEventListener("deviceready",()=>{clearTimeout(t),n(!0)})}):!1})}function wH(){return typeof window<"u"?window:null}var tn={LOCAL:"local",NONE:"none",SESSION:"session"},Eh=X,E2="persistence";function xH(n,t){if(Eh(Object.values(tn).includes(t),n,"invalid-persistence-type"),kd()){Eh(t!==tn.SESSION,n,"unsupported-persistence-type");return}if(If()){Eh(t===tn.NONE,n,"unsupported-persistence-type");return}if(YC()){Eh(t===tn.NONE||t===tn.LOCAL&&co(),n,"unsupported-persistence-type");return}Eh(t===tn.NONE||x2(),n,"unsupported-persistence-type")}function $C(n){return E(this,null,function*(){yield n._initializationPromise;let t=I2(),e=Xn(E2,n.config.apiKey,n.name);t&&t.setItem(e,n._getPersistence())})}function CH(n,t){let e=I2();if(!e)return[];let i=Xn(E2,n,t);switch(e.getItem(i)){case tn.NONE:return[kr];case tn.LOCAL:return[Ar,fn];case tn.SESSION:return[fn];default:return[]}}function I2(){var n;try{return((n=wH())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}var EH=X,ar=class{constructor(){this.browserResolver=bi(Su),this.cordovaResolver=bi(_2),this.underlyingResolver=null,this._redirectPersistence=fn,this._completeRedirectFn=Ao,this._overrideRedirectResult=mc}_initialize(t){return E(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(t)})}_openPopup(t,e,i,r){return E(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(t,e,i,r)})}_openRedirect(t,e,i,r){return E(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(t,e,i,r)})}_isIframeWebStorageSupported(t,e){this.assertedUnderlyingResolver._isIframeWebStorageSupported(t,e)}_originValidation(t){return this.assertedUnderlyingResolver._originValidation(t)}get _shouldInitProactively(){return C2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return EH(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){return E(this,null,function*(){if(this.underlyingResolver)return;let t=yield yH();this.underlyingResolver=t?this.cordovaResolver:this.browserResolver})}};function k2(n){return n.unwrap()}function IH(n){return n.wrapped()}function kH(n){return S2(n)}function SH(n,t){var e;let i=(e=t.customData)===null||e===void 0?void 0:e._tokenResponse;if(t?.code==="auth/multi-factor-auth-required"){let r=t;r.resolver=new GC(n,pu(n,t))}else if(i){let r=S2(t),s=t;r&&(s.credential=r,s.tenantId=i.tenantId||void 0,s.email=i.email||void 0,s.phoneNumber=i.phoneNumber||void 0)}}function S2(n){let{_tokenResponse:t}=n instanceof ze?n.customData:n;if(!t)return null;if(!(n instanceof ze)&&"temporaryProof"in t&&"phoneNumber"in t)return ks.credentialFromResult(n);let e=t.providerId;if(!e||e===Cs.PASSWORD)return null;let i;switch(e){case Cs.GOOGLE:i=Gd;break;case Cs.FACEBOOK:i=qd;break;case Cs.GITHUB:i=Kd;break;case Cs.TWITTER:i=Yd;break;default:let{oauthIdToken:r,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:c}=t;return!s&&!o&&!r&&!a?null:a?e.startsWith("saml.")?Co._create(e,a):mn._fromParams({providerId:e,signInMethod:e,pendingToken:a,idToken:r,accessToken:s}):new xo(e).credential({idToken:r,accessToken:s,rawNonce:c})}return n instanceof ze?i.credentialFromError(n):i.credentialFromResult(n)}function ji(n,t){return t.catch(e=>{throw e instanceof ze&&SH(n,e),e}).then(e=>{let i=e.operationType,r=e.user;return{operationType:i,credential:kH(e),additionalUserInfo:hu(e),user:al.getOrCreate(r)}})}function qC(n,t){return E(this,null,function*(){let e=yield t;return{verificationId:e.verificationId,confirm:i=>ji(n,e.confirm(i))}})}var GC=class{constructor(t,e){this.resolver=e,this.auth=IH(t)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(t){return ji(k2(this.auth),this.resolver.resolveSignIn(t))}};var al=class n{constructor(t){this._delegate=t,this.multiFactor=gu(t)}static getOrCreate(t){return n.USER_MAP.has(t)||n.USER_MAP.set(t,new n(t)),n.USER_MAP.get(t)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(t){return this._delegate.getIdTokenResult(t)}getIdToken(t){return this._delegate.getIdToken(t)}linkAndRetrieveDataWithCredential(t){return this.linkWithCredential(t)}linkWithCredential(t){return E(this,null,function*(){return ji(this.auth,ac(this._delegate,t))})}linkWithPhoneNumber(t,e){return E(this,null,function*(){return qC(this.auth,_u(this._delegate,t,e))})}linkWithPopup(t){return E(this,null,function*(){return ji(this.auth,xu(this._delegate,t,ar))})}linkWithRedirect(t){return E(this,null,function*(){return yield $C(pe(this.auth)),Iu(this._delegate,t,ar)})}reauthenticateAndRetrieveDataWithCredential(t){return this.reauthenticateWithCredential(t)}reauthenticateWithCredential(t){return E(this,null,function*(){return ji(this.auth,cc(this._delegate,t))})}reauthenticateWithPhoneNumber(t,e){return qC(this.auth,bu(this._delegate,t,e))}reauthenticateWithPopup(t){return ji(this.auth,wu(this._delegate,t,ar))}reauthenticateWithRedirect(t){return E(this,null,function*(){return yield $C(pe(this.auth)),Eu(this._delegate,t,ar)})}sendEmailVerification(t){return au(this._delegate,t)}unlink(t){return E(this,null,function*(){return yield Xd(this._delegate,t),this})}updateEmail(t){return du(this._delegate,t)}updatePassword(t){return uu(this._delegate,t)}updatePhoneNumber(t){return vu(this._delegate,t)}updateProfile(t){return lu(this._delegate,t)}verifyBeforeUpdateEmail(t,e){return cu(this._delegate,t,e)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};al.USER_MAP=new WeakMap;var Ih=X,v2=(()=>{class n{constructor(e,i){if(this.app=e,i.isInitialized()){this._delegate=i.getImmediate(),this.linkUnderlyingAuth();return}let{apiKey:r}=e.options;Ih(r,"invalid-api-key",{appName:e.name}),Ih(r,"invalid-api-key",{appName:e.name});let s=typeof window<"u"?ar:void 0;this._delegate=i.initialize({options:{persistence:TH(r,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(Zf),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?al.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,i){sc(this._delegate,e,i)}applyActionCode(e){return eu(this._delegate,e)}checkActionCode(e){return lc(this._delegate,e)}confirmPasswordReset(e,i){return tu(this._delegate,e,i)}createUserWithEmailAndPassword(e,i){return E(this,null,function*(){return ji(this._delegate,dc(this._delegate,e,i))})}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return ou(this._delegate,e)}isSignInWithEmailLink(e){return ru(this._delegate,e)}getRedirectResult(){return E(this,null,function*(){Ih(WC(),this._delegate,"operation-not-supported-in-this-environment");let e=yield ku(this._delegate,ar);return e?ji(this._delegate,Promise.resolve(e)):{credential:null,user:null}})}addFrameworkForLogging(e){b2(this._delegate,e)}onAuthStateChanged(e,i,r){let{next:s,error:o,complete:a}=y2(e,i,r);return this._delegate.onAuthStateChanged(s,o,a)}onIdTokenChanged(e,i,r){let{next:s,error:o,complete:a}=y2(e,i,r);return this._delegate.onIdTokenChanged(s,o,a)}sendSignInLinkToEmail(e,i){return nu(this._delegate,e,i)}sendPasswordResetEmail(e,i){return Jd(this._delegate,e,i||void 0)}setPersistence(e){return E(this,null,function*(){xH(this._delegate,e);let i;switch(e){case tn.SESSION:i=fn;break;case tn.LOCAL:i=(yield bi(Ar)._isAvailable())?Ar:Is;break;case tn.NONE:i=kr;break;default:return Ne("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(i)})}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ji(this._delegate,Qd(this._delegate))}signInWithCredential(e){return ji(this._delegate,Es(this._delegate,e))}signInWithCustomToken(e){return ji(this._delegate,Zd(this._delegate,e))}signInWithEmailAndPassword(e,i){return ji(this._delegate,uc(this._delegate,e,i))}signInWithEmailLink(e,i){return ji(this._delegate,su(this._delegate,e,i))}signInWithPhoneNumber(e,i){return qC(this._delegate,hc(this._delegate,e,i))}signInWithPopup(e){return E(this,null,function*(){return Ih(WC(),this._delegate,"operation-not-supported-in-this-environment"),ji(this._delegate,yu(this._delegate,e,ar))})}signInWithRedirect(e){return E(this,null,function*(){return Ih(WC(),this._delegate,"operation-not-supported-in-this-environment"),yield $C(this._delegate),Cu(this._delegate,e,ar)})}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return iu(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return n.Persistence=tn,n})();function y2(n,t,e){let i=n;typeof n!="function"&&({next:i,error:t,complete:e}=n);let r=i;return{next:o=>r(o&&al.getOrCreate(o)),error:t,complete:e}}function TH(n,t){let e=CH(n,t);if(typeof self<"u"&&!e.includes(Ar)&&e.push(Ar),typeof window<"u")for(let i of[Is,fn])e.includes(i)||e.push(i);return e.includes(kr)||e.push(kr),e}var Sh=class{constructor(){this.providerId="phone",this._delegate=new ks(k2(n_.auth()))}static credential(t,e){return ks.credential(t,e)}verifyPhoneNumber(t,e){return this._delegate.verifyPhoneNumber(t,e)}unwrap(){return this._delegate}};Sh.PHONE_SIGN_IN_METHOD=ks.PHONE_SIGN_IN_METHOD;Sh.PROVIDER_ID=ks.PROVIDER_ID;var AH=X,KC=class{constructor(t,e,i=n_.app()){var r;AH((r=i.options)===null||r===void 0?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new xs(i.auth(),t,e),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}};var DH="auth-compat";function RH(n){n.INTERNAL.registerComponent(new gi(DH,t=>{let e=t.getProvider("app-compat").getImmediate(),i=t.getProvider("auth");return new v2(e,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Sr.EMAIL_SIGNIN,PASSWORD_RESET:Sr.PASSWORD_RESET,RECOVER_EMAIL:Sr.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Sr.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Sr.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Sr.VERIFY_EMAIL}},EmailAuthProvider:oc,FacebookAuthProvider:qd,GithubAuthProvider:Kd,GoogleAuthProvider:Gd,OAuthProvider:xo,SAMLAuthProvider:ic,PhoneAuthProvider:Sh,PhoneMultiFactorGenerator:lp,RecaptchaVerifier:KC,TwitterAuthProvider:Yd,Auth:v2,AuthCredential:Rn,Error:ze}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(hH,mH)}RH(n_);var vn=(()=>{let t=class t{constructor(i){this.firebaseAuth=i,this.isLoggedIn=!1,this.isAdmin=!1,this.username="",this.usrlog$=JT(this.firebaseAuth)}login(i,r){let s=i.split("@");s.length>0?this.username=s[0]:this.username=i,this.isLoggedIn=!0,sessionStorage.setItem("isLoggedIn","true"),sessionStorage.setItem("username",this.username);let o=eA(this.firebaseAuth,i,r).then(()=>{});return oe(o)}loginWithSms(i,r){let s=iA(this.firebaseAuth,i,r).then(()=>{});return oe(s)}verifyOTP(i,r){return r.confirm(i)}signUp(i,r){let s=tA(this.firebaseAuth,i,r).then(()=>{});return oe(s)}logout(){this.isLoggedIn=!1,this.username="",sessionStorage.removeItem("isLoggedIn"),sessionStorage.removeItem("username")}getUid(){return new hi(i=>{this.usrlog$.subscribe(r=>{r?i.next(r.uid):i.next(null),i.complete()})})}getUsername(){return this.username}checkLoginStatus(){return sessionStorage.getItem("isLoggedIn")==="true"&&(this.username=sessionStorage.getItem("username")||"",this.isLoggedIn=!0),this.isLoggedIn}checkAdmin(i){return this.isAdmin=!1,i==="firebaseequipotw"&&(this.isAdmin=!0),this.isAdmin}};t.\u0275fac=function(r){return new(r||t)(G(Do))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var MH=n=>["/animal",n];function PH(n,t){if(n&1&&(y(0,"div",5)(1,"div",6),U(2,"img",7),y(3,"div",8)(4,"h5",9),S(5),w(),y(6,"p",10),S(7),w(),y(8,"p",10),S(9),w(),y(10,"p",10)(11,"small",11),S(12),w()()(),y(13,"a",12),S(14,"Agendar Cita para adopci\xF3n"),w()()()),n&2){let e=t.$implicit,i=t.index;T(2),B("src",e.img,Sa),T(3),me(e.raza),T(2),me(e.color),T(2),me(e.comportamiento),T(3),me(e.tiempo),T(),B("routerLink",ai(6,MH,i))}}function OH(n,t){if(n&1){let e=It();y(0,"div",13),S(1),U(2,"br"),S(3),U(4,"br"),S(5),U(6,"br"),S(7),U(8,"br"),S(9),U(10,"br"),S(11," Animal: "),U(12,"br"),S(13),U(14,"br"),S(15),U(16,"br"),S(17),U(18,"br"),S(19),U(20,"br"),S(21),U(22,"br"),S(23),U(24,"br"),y(25,"div",14)(26,"button",15),et("click",function(){let r=$(e).$implicit,s=F();return q(s.deleteRegistro(r.id))}),S(27,"Borrar"),w()()()}if(n&2){let e=t.$implicit;T(),_t(" Fecha: ",e.fecha,""),T(2),_t(" Hora: ",e.hora,""),T(2),_t(" Nombre: ",e.nombre,""),T(2),_t(" Apellido: ",e.apellido,""),T(2),_t(" Tel\xE9fono: ",e.telefono,""),T(4),_t(" Edad: ",e.animal.edad,""),T(2),_t(" Color: ",e.animal.color,""),T(2),_t(" Raza: ",e.animal.raza,""),T(2),_t(" Tiempo en el refugio: ",e.animal.tiempo,""),T(2),_t(" Comportamiento: ",e.animal.comportamiento,""),T(2),_t(" Tipo: ",e.animal.tipo," ")}}function NH(n,t){if(n&1){let e=It();y(0,"div",13),S(1),U(2,"br"),S(3),U(4,"br"),S(5),U(6,"br"),S(7),U(8,"br"),S(9),U(10,"br"),S(11," Animal: "),U(12,"br"),S(13),U(14,"br"),S(15),U(16,"br"),S(17),U(18,"br"),S(19),U(20,"br"),S(21),U(22,"br"),S(23),y(24,"div",14)(25,"button",15),et("click",function(){let r=$(e).$implicit,s=F();return q(s.deleteRegistro(r.id))}),S(26,"Borrar"),w()()()}if(n&2){let e=t.$implicit;T(),_t(" Fecha: ",e.fecha,""),T(2),_t(" Hora: ",e.hora,""),T(2),_t(" Nombre: ",e.nombre,""),T(2),_t(" Apellido: ",e.apellido,""),T(2),_t(" Tel\xE9fono: ",e.telefono,""),T(4),_t(" Edad: ",e.animal.edad,""),T(2),_t(" Color: ",e.animal.color,""),T(2),_t(" Raza: ",e.animal.raza,""),T(2),_t(" Tiempo en el refugio: ",e.animal.tiempo,""),T(2),_t(" Comportamiento: ",e.animal.comportamiento,""),T(2),_t(" Tipo: ",e.animal.tipo," ")}}var T2=(()=>{let t=class t{constructor(i,r,s){this.miservicio=i,this.registroService=r,this.authService=s,this.misAnimales=[],this.pastAppointments=[],this.upcomingAppointments=[],this.registros=[],this.uid=null}ngOnInit(){this.authService.getUid().subscribe(i=>{i?(this.uid=i,console.log("User UID:",this.uid),this.loadRegistros()):console.log("No user is currently logged in.")}),console.log("Usuario:",this.uid),this.misAnimales=this.miservicio.getAnimales()}loadRegistros(){this.uid&&(this.registroService.getRegistrosByIdusr(this.uid).subscribe(i=>{let r=new Date().toISOString().slice(0,10);this.pastAppointments=i.filter(s=>s.fecha<r),this.upcomingAppointments=i.filter(s=>s.fecha>=r)},i=>{console.error("Error fetching appointments:",i)}),this.registroService.getRegistrosByIdusr(this.uid).subscribe(i=>{console.log("Usuario:",i),this.registros=i}))}deleteRegistro(i){return E(this,null,function*(){let r=yield this.registroService.deleteRegistro(i)})}};t.\u0275fac=function(r){return new(r||t)(N(e_),N(i_),N(vn))},t.\u0275cmp=Z({type:t,selectors:[["app-animales"]],standalone:!0,features:[J],decls:13,vars:3,consts:[[1,"text-center",2,"font-weight","600"],[1,"card-group","row","row-cols-1","row-cols-lg-3","g-4"],["class","col",4,"ngFor","ngForOf"],[1,"container"],["class","appointment",4,"ngFor","ngForOf"],[1,"col"],[1,"card","h-100"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-muted"],[1,"mb-3","btn","btn-outline-primary","btn-block",3,"routerLink"],[1,"appointment"],[2,"display","flex","justify-content","center"],[1,"btn","btn-danger",3,"click"]],template:function(r,s){r&1&&(U(0,"br"),y(1,"h1",0),S(2,"Animales en adopci\xF3n"),w(),y(3,"div",1),K(4,PH,15,8,"div",2),w(),U(5,"br"),y(6,"div",3)(7,"h2"),S(8,"Reporte de citas pasadas"),w(),K(9,OH,28,11,"div",4),y(10,"h2"),S(11,"Reporte de citas pr\xF3ximas"),w(),K(12,NH,27,11,"div",4),w()),r&2&&(T(4),B("ngForOf",s.misAnimales),T(5),B("ngForOf",s.pastAppointments),T(3),B("ngForOf",s.upcomingAppointments))},dependencies:[ms,Yt,qm],styles:["h2[_ngcontent-%COMP%]{color:#333;margin-bottom:20px;text-align:center}div.appointment[_ngcontent-%COMP%]{background-color:#e8eaf6;border:1px solid #c5cae9;border-radius:5px;padding:20px;width:300px;margin-bottom:20px;box-shadow:0 2px 4px #0000001a}div.appointment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;line-height:1.5;font-family:Arial,sans-serif;color:#3f51b5}div.appointment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.report-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.report-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#3f51b5;font-size:18px;margin-bottom:10px}.container[_ngcontent-%COMP%]{max-width:300px;margin:0 auto}"]});let n=t;return n})();var en=class n{static isArray(t,e=!0){return Array.isArray(t)&&(e||t.length!==0)}static isObject(t,e=!0){return typeof t=="object"&&!Array.isArray(t)&&t!=null&&(e||Object.keys(t).length!==0)}static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var i=Array.isArray(t),r=Array.isArray(e),s,o,a;if(i&&r){if(o=t.length,o!=e.length)return!1;for(s=o;s--!==0;)if(!this.equalsByValue(t[s],e[s]))return!1;return!0}if(i!=r)return!1;var c=this.isDate(t),l=this.isDate(e);if(c!=l)return!1;if(c&&l)return t.getTime()==e.getTime();var d=t instanceof RegExp,h=e instanceof RegExp;if(d!=h)return!1;if(d&&h)return t.toString()==e.toString();var m=Object.keys(t);if(o=m.length,o!==Object.keys(e).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,m[s]))return!1;for(s=o;s--!==0;)if(a=m[s],!this.equalsByValue(t[a],e[a]))return!1;return!0}return t!==t&&e!==e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(e.indexOf(".")==-1)return t[e];{let i=e.split("."),r=t;for(let s=0,o=i.length;s<o;++s){if(r==null)return null;r=r[i[s]]}return r}}else return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){let r;t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let s=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],r)>e){i.splice(o,0,t),s=!0;break}s||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e){for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}}return i}static contains(t,e){if(t!=null&&e&&e.length){for(let i of e)if(this.equals(t,i))return!0}return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),t}static isDate(t){return Object.prototype.toString.call(t)==="[object Date]"}static isEmpty(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!this.isDate(t)&&typeof t=="object"&&Object.keys(t).length===0}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,i,r=1){let s=-1,o=this.isEmpty(t),a=this.isEmpty(e);return o&&a?s=0:o?s=r:a?s=-r:typeof t=="string"&&typeof e=="string"?s=t.localeCompare(e,i,{numeric:!0}):s=t<e?-1:t>e?1:0,s}static sort(t,e,i=1,r,s=1){let o=n.compare(t,e,r,i),a=i;return(n.isEmpty(t)||n.isEmpty(e))&&(a=s===1?i:s),a*o}static merge(t,e){if(!(t==null&&e==null)){{if((t==null||typeof t=="object")&&(e==null||typeof e=="object"))return Y(Y({},t||{}),e||{});if((t==null||typeof t=="string")&&(e==null||typeof e=="string"))return[t||"",e||""].join(" ")}return e||t}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&t.length===1&&t.match(/\S| /)}static getItemValue(t,...e){return this.isFunction(t)?t(...e):t}static findLastIndex(t,e){let i=-1;if(this.isNotEmpty(t))try{i=t.findLastIndex(e)}catch{i=t.lastIndexOf([...t].reverse().find(e))}return i}static findLast(t,e){let i;if(this.isNotEmpty(t))try{i=t.findLast(e)}catch{i=[...t].reverse().find(e)}return i}static deepEquals(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var i=Array.isArray(t),r=Array.isArray(e),s,o,a;if(i&&r){if(o=t.length,o!=e.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(t[s],e[s]))return!1;return!0}if(i!=r)return!1;var c=t instanceof Date,l=e instanceof Date;if(c!=l)return!1;if(c&&l)return t.getTime()==e.getTime();var d=t instanceof RegExp,h=e instanceof RegExp;if(d!=h)return!1;if(d&&h)return t.toString()==e.toString();var m=Object.keys(t);if(o=m.length,o!==Object.keys(e).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,m[s]))return!1;for(s=o;s--!==0;)if(a=m[s],!this.deepEquals(t[a],e[a]))return!1;return!0}return t!==t&&e!==e}},A2=0;function s_(n="pn_id_"){return A2++,`${n}${A2}`}function FH(){let n=[],t=(s,o)=>{let a=n.length>0?n[n.length-1]:{key:s,value:o},c=a.value+(a.key===s?0:o)+2;return n.push({key:s,value:c}),c},e=s=>{n=n.filter(o=>o.value!==s)},i=()=>n.length>0?n[n.length-1].value:0,r=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:r,set:(s,o,a)=>{o&&(o.style.zIndex=String(t(s,a)))},clear:s=>{s&&(e(r(s)),s.style.zIndex="")},getCurrent:()=>i()}}var Th=FH();var xi=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return n})();var D2=(()=>{class n{clickSource=new Pt;clickObservable=this.clickSource.asObservable();add(e){e&&this.clickSource.next(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var o_=(()=>{class n{ripple=!1;inputStyle=Qb("outlined");overlayOptions={};csp=Qb({nonce:void 0});filterMatchModeOptions={text:[xi.STARTS_WITH,xi.CONTAINS,xi.NOT_CONTAINS,xi.ENDS_WITH,xi.EQUALS,xi.NOT_EQUALS],numeric:[xi.EQUALS,xi.NOT_EQUALS,xi.LESS_THAN,xi.LESS_THAN_OR_EQUAL_TO,xi.GREATER_THAN,xi.GREATER_THAN_OR_EQUAL_TO],date:[xi.DATE_IS,xi.DATE_IS_NOT,xi.DATE_BEFORE,xi.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Pt;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Y(Y({},this.translation),e),this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var a_=(()=>{class n{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(N(mi))};static \u0275dir=ot({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return n})(),Ah=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=yt({type:n});static \u0275inj=vt({})}return n})(),Bn=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return n})();var st=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,i){e&&i&&(e.classList?e.classList.add(i):e.className+=" "+i)}static addMultipleClasses(e,i){if(e&&i)if(e.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)e.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)e.className+=" "+r[s]}}static removeClass(e,i){e&&i&&(e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,i){e&&i&&[i].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(s=>this.removeClass(e,s)))}static hasClass(e,i){return e&&i?e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className):!1}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return this.isElement(e)?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==e)return r;i[s].nodeType==1&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],s=0;for(var o=0;o<r.length;o++){if(r[o]==e)return s;r[o].attributes&&r[o].attributes[i]&&r[o].nodeType==1&&s++}return-1}static appendOverlay(e,i,r="self"){r!=="self"&&e&&i&&this.appendChild(e,i)}static alignOverlay(e,i,r="self",s=!0){e&&i&&(s&&(e.style.minWidth=`${n.getOuterWidth(i)}px`),r==="self"?this.relativePosition(e,i):this.absolutePosition(e,i))}static relativePosition(e,i,r=!0){let s=P=>{if(P)return getComputedStyle(P).getPropertyValue("position")==="relative"?P:s(P.parentElement)},o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),a=i.offsetHeight,c=i.getBoundingClientRect(),l=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),h=this.getViewport(),p=s(e)?.getBoundingClientRect()||{top:-1*l,left:-1*d},_,b;c.top+a+o.height>h.height?(_=c.top-p.top-o.height,e.style.transformOrigin="bottom",c.top+_<0&&(_=-1*c.top)):(_=a+c.top-p.top,e.style.transformOrigin="top");let v=c.left+o.width-h.width,R=c.left-p.left;o.width>h.width?b=(c.left-p.left)*-1:v>0?b=R-v:b=c.left-p.left,e.style.top=_+"px",e.style.left=b+"px",r&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(e,i,r=!0){let s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=s.height,a=s.width,c=i.offsetHeight,l=i.offsetWidth,d=i.getBoundingClientRect(),h=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),p=this.getViewport(),_,b;d.top+c+o>p.height?(_=d.top+h-o,e.style.transformOrigin="bottom",_<0&&(_=h)):(_=c+d.top+h,e.style.transformOrigin="top"),d.left+a>p.width?b=Math.max(0,d.left+m+l-a):b=d.left+m,e.style.top=_+"px",e.style.left=b+"px",r&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,i=[]){return e.parentNode===null?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e),s=/(auto|scroll)/,o=a=>{let c=window.getComputedStyle(a,null);return s.test(c.getPropertyValue("overflow"))||s.test(c.getPropertyValue("overflowX"))||s.test(c.getPropertyValue("overflowY"))};for(let a of r){let c=a.nodeType===1&&a.dataset.scrollselectors;if(c){let l=c.split(",");for(let d of l){let h=this.findSingle(a,d);h&&o(h)&&i.push(h)}}a.nodeType!==9&&o(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,o=getComputedStyle(e).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,c=e.getBoundingClientRect(),d=i.getBoundingClientRect().top+document.body.scrollTop-(c.top+document.body.scrollTop)-s-a,h=e.scrollTop,m=e.clientHeight,p=this.getOuterHeight(i);d<0?e.scrollTop=h+d:d+p>m&&(e.scrollTop=h+d-m+p)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,s=0,o=function(){s=+e.style.opacity.replace(",",".")+(new Date().getTime()-r)/i,e.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(e,i){var r=1,s=50,o=i,a=s/o;let c=setInterval(()=>{r=r-a,r<=0&&(r=0,clearInterval(c)),e.style.opacity=r},s)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype,s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(o){return[].indexOf.call(document.querySelectorAll(o),this)!==-1};return s.call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let s=getComputedStyle(e);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let s=getComputedStyle(e);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0],o=e.innerWidth||r.clientWidth||s.clientWidth,a=e.innerHeight||r.clientHeight||s.clientHeight;return{width:o,height:a}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent,i=e.indexOf("MSIE ");if(i>0)return!0;var r=e.indexOf("Trident/");if(r>0){var s=e.indexOf("rv:");return!0}var o=e.indexOf("Edge/");return o>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else if(i&&i.el&&i.el.nativeElement)i.el.nativeElement.appendChild(e);else throw"Cannot append "+i+" to "+e}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else if(i.el&&i.el.nativeElement)i.el.nativeElement.removeChild(e);else throw"Cannot remove "+e+" from "+i}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||e.offsetParent===null}static isVisible(e){return e&&e.offsetParent!=null}static isExist(e){return e!==null&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,i){e&&document.activeElement!==e&&e.focus(i)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,i=""){let r=this.find(e,this.getFocusableSelectorString(i)),s=[];for(let o of r){let a=getComputedStyle(o);this.isVisible(o)&&a.display!="none"&&a.visibility!="hidden"&&s.push(o)}return s}static getFocusableElement(e,i=""){let r=this.findSingle(e,this.getFocusableSelectorString(i));if(r){let s=getComputedStyle(r);if(this.isVisible(r)&&s.display!="none"&&s.visibility!="hidden")return r}return null}static getFirstFocusableElement(e,i=""){let r=this.getFocusableElements(e,i);return r.length>0?r[0]:null}static getLastFocusableElement(e,i){let r=this.getFocusableElements(e,i);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(e,i=!1){let r=n.getFocusableElements(e),s=0;if(r&&r.length>0){let o=r.indexOf(r[0].ownerDocument.activeElement);i?o==-1||o===0?s=r.length-1:s=o-1:o!=-1&&o!==r.length-1&&(s=o+1)}return r[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,i){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:let r=typeof e;if(r==="string")return document.querySelector(e);if(r==="object"&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;let o=(a=>!!(a&&a.constructor&&a.call&&a.apply))(e)?e():e;return o&&o.nodeType===9||this.isExist(o)?o:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,i){if(e){let r=e.getAttribute(i);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}static createElement(e,i={},...r){if(e){let s=document.createElement(e);return this.setAttributes(s,i),s.append(...r),s}}static setAttribute(e,i="",r){this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(i,r)}static setAttributes(e,i={}){if(this.isElement(e)){let r=(s,o)=>{let a=e?.$attrs?.[s]?[e?.$attrs?.[s]]:[];return[o].flat().reduce((c,l)=>{if(l!=null){let d=typeof l;if(d==="string"||d==="number")c.push(l);else if(d==="object"){let h=Array.isArray(l)?r(s,l):Object.entries(l).map(([m,p])=>s==="style"&&(p||p===0)?`${m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${p}`:p?m:void 0);c=h.length?c.concat(h.filter(m=>!!m)):c}}return c},a)};Object.entries(i).forEach(([s,o])=>{if(o!=null){let a=s.match(/^on(.+)/);a?e.addEventListener(a[1].toLowerCase(),o):s==="pBind"?this.setAttributes(e,o):(o=s==="class"?[...new Set(r("class",o))].join(" ").trim():s==="style"?r("style",o).join(";").trim():o,(e.$attrs=e.$attrs||{})&&(e.$attrs[s]=o),e.setAttribute(s,o))}})}}static isFocusableElement(e,i=""){return this.isElement(e)?e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`):!1}}return n})(),c_=class{element;listener;scrollableParents;constructor(t,e=()=>{}){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=st.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var l_=(()=>{class n{autofocus=!1;focused=!1;platformId=nt(Di);document=nt(bt);host=nt(wt);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){Oa(this.platformId)&&this.autofocus&&setTimeout(()=>{let e=st.getFocusableElements(this.host?.nativeElement);e.length===0&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ot({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[2,"autofocus","autofocus",ct]},standalone:!0,features:[ae]})}return n})(),M2=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=yt({type:n});static \u0275inj=vt({})}return n})();var VH=["*"],zi=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let e=en.isEmpty(this.label);this.role=e?void 0:"img",this.ariaLabel=e?void 0:this.label,this.ariaHidden=e}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",ct],styleClass:"styleClass"},standalone:!0,features:[ae,J],ngContentSelectors:VH,decls:1,vars:0,template:function(i,r){i&1&&(Ue(),Kt(0))},encapsulation:2,changeDetection:0})}return n})();var P2=(()=>{class n extends zi{pathId;ngOnInit(){this.pathId="url(#"+s_()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Lt(n)))(r||n)}})();static \u0275cmp=Z({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[gt,J],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ai(),y(0,"svg",0)(1,"g"),U(2,"path",1),w(),y(3,"defs")(4,"clipPath",2),U(5,"rect",3),w()()()),i&2&&(we(r.getClassNames()),ft("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),T(),ft("clip-path",r.pathId),T(3),B("id",r.pathId))},encapsulation:2})}return n})();var d_=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(e,i,r,s,o,a){this.document=e,this.platformId=i,this.renderer=r,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){Oa(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(e){let i=this.getInk();if(!i||this.document.defaultView?.getComputedStyle(i,null).display==="none")return;if(st.removeClass(i,"p-ink-active"),!st.getHeight(i)&&!st.getWidth(i)){let a=Math.max(st.getOuterWidth(this.el.nativeElement),st.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=st.getOffset(this.el.nativeElement),s=e.pageX-r.left+this.document.body.scrollTop-st.getWidth(i)/2,o=e.pageY-r.top+this.document.body.scrollLeft-st.getHeight(i)/2;this.renderer.setStyle(i,"top",o+"px"),this.renderer.setStyle(i,"left",s+"px"),st.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&st.removeClass(a,"p-ink-active")},401)}getInk(){let e=this.el.nativeElement.children;for(let i=0;i<e.length;i++)if(typeof e[i].className=="string"&&e[i].className.indexOf("p-ink")!==-1)return e[i];return null}resetInk(){let e=this.getInk();e&&st.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),st.removeClass(e.currentTarget,"p-ink-active")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,st.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(N(bt),N(Di),N(on),N(wt),N(mt),N(o_,8))};static \u0275dir=ot({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})(),O2=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=yt({type:n});static \u0275inj=vt({})}return n})();var UH=["*"],N2=n=>({class:n});function jH(n,t){n&1&&xe(0)}function zH(n,t){if(n&1&&U(0,"span",8),n&2){let e=F(3);B("ngClass",e.iconClass()),ft("aria-hidden",!0)("data-pc-section","loadingicon")}}function HH(n,t){if(n&1&&U(0,"SpinnerIcon",9),n&2){let e=F(3);B("styleClass",e.spinnerIconClass())("spin",!0),ft("aria-hidden",!0)("data-pc-section","loadingicon")}}function WH(n,t){if(n&1&&(ce(0),K(1,zH,1,3,"span",6)(2,HH,1,4,"SpinnerIcon",7),le()),n&2){let e=F(2);T(),B("ngIf",e.loadingIcon),T(),B("ngIf",!e.loadingIcon)}}function $H(n,t){}function qH(n,t){if(n&1&&K(0,$H,0,0,"ng-template",10),n&2){let e=F(2);B("ngIf",e.loadingIconTemplate)}}function GH(n,t){if(n&1&&(ce(0),K(1,WH,3,2,"ng-container",2)(2,qH,1,1,null,5),le()),n&2){let e=F();T(),B("ngIf",!e.loadingIconTemplate),T(),B("ngTemplateOutlet",e.loadingIconTemplate)("ngTemplateOutletContext",ai(3,N2,e.iconClass()))}}function KH(n,t){if(n&1&&U(0,"span",8),n&2){let e=F(2);B("ngClass",e.iconClass()),ft("data-pc-section","icon")}}function YH(n,t){}function QH(n,t){if(n&1&&K(0,YH,0,0,"ng-template",10),n&2){let e=F(2);B("ngIf",!e.icon&&e.iconTemplate)}}function XH(n,t){if(n&1&&(ce(0),K(1,KH,1,2,"span",6)(2,QH,1,1,null,5),le()),n&2){let e=F();T(),B("ngIf",e.icon&&!e.iconTemplate),T(),B("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",ai(3,N2,e.iconClass()))}}function ZH(n,t){if(n&1&&(y(0,"span",11),S(1),w()),n&2){let e=F();ft("aria-hidden",e.icon&&!e.label)("data-pc-section","label"),T(),me(e.label)}}function JH(n,t){if(n&1&&(y(0,"span",8),S(1),w()),n&2){let e=F();we(e.badgeClass),B("ngClass",e.badgeStyleClass()),ft("data-pc-section","badge"),T(),me(e.badge)}}var js={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},F2=(()=>{class n{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(js);spinnerIcon=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="p-icon-spin">
        <g clip-path="url(#clip0_417_21408)">
            <path
                d="M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z"
                fill="currentColor"
            />
        </g>
        <defs>
            <clipPath id="clip0_417_21408">
                <rect width="14" height="14" fill="white" />
            </clipPath>
        </defs>
    </svg>`;constructor(e,i){this.el=e,this.document=i}ngAfterViewInit(){st.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let e=[js.button,js.component];return this.icon&&!this.label&&en.isEmpty(this.htmlElement.textContent)&&e.push(js.iconOnly),this.loading&&(e.push(js.disabled,js.loading),!this.icon&&this.label&&e.push(js.labelOnly),this.icon&&!this.label&&!en.isEmpty(this.htmlElement.textContent)&&e.push(js.iconOnly)),this.text&&e.push("p-button-text"),this.severity&&e.push(`p-button-${this.severity}`),this.plain&&e.push("p-button-plain"),this.raised&&e.push("p-button-raised"),this.size&&e.push(`p-button-${this.size}`),this.outlined&&e.push("p-button-outlined"),this.rounded&&e.push("p-button-rounded"),this.size==="small"&&e.push("p-button-sm"),this.size==="large"&&e.push("p-button-lg"),e}setStyleClass(){let e=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}createLabel(){if(!st.findSingle(this.htmlElement,".p-button-label")&&this.label){let i=this.document.createElement("span");this.icon&&!this.label&&i.setAttribute("aria-hidden","true"),i.className="p-button-label",i.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(i)}}createIcon(){if(!st.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let i=this.document.createElement("span");i.className="p-button-icon",i.setAttribute("aria-hidden","true");let r=this.label?"p-button-icon-"+this.iconPos:null;r&&st.addClass(i,r);let s=this.getIconClass();s&&st.addMultipleClasses(i,s),!this.loadingIcon&&this.loading&&(i.innerHTML=this.spinnerIcon),this.htmlElement.insertBefore(i,this.htmlElement.firstChild)}}updateLabel(){let e=st.findSingle(this.htmlElement,".p-button-label");if(!this.label){e&&this.htmlElement.removeChild(e);return}e?e.textContent=this.label:this.createLabel()}updateIcon(){let e=st.findSingle(this.htmlElement,".p-button-icon"),i=st.findSingle(this.htmlElement,".p-button-label");this.loading?!this.loadingIcon&&e?e.innerHTML=this.spinnerIcon:this.loadingIcon&&e&&(e.className=`p-button-icon ${this.loadingIcon}`):this.icon&&e?e.className=`p-button-icon ${this.icon}`:e&&(e.innerHTML="",this.createIcon()),e?this.iconPos?e.className="p-button-icon "+(i?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():e.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon "+(this.loadingIcon?this.loadingIcon:"p-icon"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(i){return new(i||n)(N(wt),N(bt))};static \u0275dir=ot({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[2,"raised","raised",ct],rounded:[2,"rounded","rounded",ct],text:[2,"text","text",ct],outlined:[2,"outlined","outlined",ct],size:"size",plain:[2,"plain","plain",ct]},standalone:!0,features:[ae]})}return n})(),t7=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new Tt;onFocus=new Tt;onBlur=new Tt;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(e){this.el=e}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,e])=>!!e).reduce((e,[i])=>e+` ${i}`,"p-button-loading-icon")}iconClass(){let e={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?e[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(e[this.icon]=!0),e}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-disabled":this.disabled||this.loading,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}static \u0275fac=function(i){return new(i||n)(N(wt))};static \u0275cmp=Z({type:n,selectors:[["p-button"]],contentQueries:function(i,r,s){if(i&1&&pi(s,a_,4),i&2){let o;Qt(o=Xt())&&(r.templates=o)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",ct],loading:[2,"loading","loading",ct],loadingIcon:"loadingIcon",raised:[2,"raised","raised",ct],rounded:[2,"rounded","rounded",ct],text:[2,"text","text",ct],plain:[2,"plain","plain",ct],severity:"severity",outlined:[2,"outlined","outlined",ct],link:[2,"link","link",ct],tabindex:[2,"tabindex","tabindex",In],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",ct]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[ae,J],ngContentSelectors:UH,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,r){i&1&&(Ue(),y(0,"button",0),et("click",function(o){return r.onClick.emit(o)})("focus",function(o){return r.onFocus.emit(o)})("blur",function(o){return r.onBlur.emit(o)}),Kt(1),K(2,jH,1,0,"ng-container",1)(3,GH,3,5,"ng-container",2)(4,XH,3,5,"ng-container",2)(5,ZH,2,3,"span",3)(6,JH,2,5,"span",4),w()),i&2&&(B("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",r.buttonClass)("autofocus",r.autofocus),ft("type",r.type)("aria-label",r.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",r.tabindex),T(2),B("ngTemplateOutlet",r.contentTemplate),T(),B("ngIf",r.loading),T(),B("ngIf",!r.loading),T(),B("ngIf",!r.contentTemplate&&r.label),T(),B("ngIf",!r.contentTemplate&&r.badge))},dependencies:[je,$l,Ma,$m,d_,l_,P2],encapsulation:2,changeDetection:0})}return n})(),QC=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=yt({type:n});static \u0275inj=vt({imports:[t7,Ah]})}return n})();var XC=(()=>{class n extends zi{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Lt(n)))(r||n)}})();static \u0275cmp=Z({type:n,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[gt,J],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(i,r){i&1&&(Ai(),y(0,"svg",0),U(1,"path",1),w()),i&2&&(we(r.getClassNames()),ft("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var ZC=(()=>{class n extends zi{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Lt(n)))(r||n)}})();static \u0275cmp=Z({type:n,selectors:[["ChevronRightIcon"]],standalone:!0,features:[gt,J],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(i,r){i&1&&(Ai(),y(0,"svg",0),U(1,"path",1),w()),i&2&&(we(r.getClassNames()),ft("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var JC=(()=>{class n extends zi{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Lt(n)))(r||n)}})();static \u0275cmp=Z({type:n,selectors:[["ChevronUpIcon"]],standalone:!0,features:[gt,J],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(i,r){i&1&&(Ai(),y(0,"svg",0),U(1,"path",1),w()),i&2&&(we(r.getClassNames()),ft("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var t1=(()=>{class n extends zi{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Lt(n)))(r||n)}})();static \u0275cmp=Z({type:n,selectors:[["ChevronDownIcon"]],standalone:!0,features:[gt,J],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,r){i&1&&(Ai(),y(0,"svg",0),U(1,"path",1),w()),i&2&&(we(r.getClassNames()),ft("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var e1=(()=>{class n extends zi{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Lt(n)))(r||n)}})();static \u0275cmp=Z({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[gt,J],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,r){i&1&&(Ai(),y(0,"svg",0),U(1,"path",1),w()),i&2&&(we(r.getClassNames()),ft("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var i1=(()=>{class n extends zi{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Lt(n)))(r||n)}})();static \u0275cmp=Z({type:n,selectors:[["CalendarIcon"]],standalone:!0,features:[gt,J],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z","fill","currentColor"]],template:function(i,r){i&1&&(Ai(),y(0,"svg",0),U(1,"path",1),w()),i&2&&(we(r.getClassNames()),ft("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var i7=["container"],n7=["inputfield"],r7=["contentWrapper"],s7=[[["p-header"]],[["p-footer"]]],o7=["p-header","p-footer"],a7=(n,t,e,i,r)=>({"p-calendar":!0,"p-input-icon-right":n,"p-calendar-w-btn":t,"p-calendar-timeonly":e,"p-calendar-disabled":i,"p-focus":r}),c7=n=>({clickCallBack:n}),l7=n=>({"p-datepicker-icon":n}),d7=(n,t,e,i,r,s)=>({"p-datepicker p-component":!0,"p-datepicker-inline":n,"p-disabled":t,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":s}),L2=(n,t)=>({showTransitionParams:n,hideTransitionParams:t}),u7=n=>({value:"visibleTouchUI",params:n}),h7=n=>({value:"visible",params:n}),n1=n=>({$implicit:n}),m7=(n,t)=>({"p-datepicker-other-month":n,"p-datepicker-today":t}),r1=(n,t)=>({"p-highlight":n,"p-disabled":t}),V2=n=>[n];function f7(n,t){if(n&1){let e=It();y(0,"TimesIcon",11),et("click",function(){$(e);let r=F(3);return q(r.clear())}),w()}n&2&&B("styleClass","p-calendar-clear-icon")}function p7(n,t){}function g7(n,t){n&1&&K(0,p7,0,0,"ng-template")}function _7(n,t){if(n&1){let e=It();y(0,"span",12),et("click",function(){$(e);let r=F(3);return q(r.clear())}),K(1,g7,1,0,null,13),w()}if(n&2){let e=F(3);T(),B("ngTemplateOutlet",e.clearIconTemplate)}}function b7(n,t){if(n&1&&(ce(0),K(1,f7,1,1,"TimesIcon",9)(2,_7,2,1,"span",10),le()),n&2){let e=F(2);T(),B("ngIf",!e.clearIconTemplate),T(),B("ngIf",e.clearIconTemplate)}}function v7(n,t){if(n&1&&U(0,"span",16),n&2){let e=F(3);B("ngClass",e.icon)}}function y7(n,t){n&1&&U(0,"CalendarIcon")}function w7(n,t){}function x7(n,t){n&1&&K(0,w7,0,0,"ng-template")}function C7(n,t){if(n&1&&(ce(0),K(1,y7,1,0,"CalendarIcon",7)(2,x7,1,0,null,13),le()),n&2){let e=F(3);T(),B("ngIf",!e.triggerIconTemplate),T(),B("ngTemplateOutlet",e.triggerIconTemplate)}}function E7(n,t){if(n&1){let e=It();y(0,"button",14),et("click",function(r){$(e),F();let s=yr(1),o=F();return q(o.onButtonClick(r,s))}),K(1,v7,1,1,"span",15)(2,C7,3,2,"ng-container",7),w()}if(n&2){let e,i=F(2);B("disabled",i.disabled),ft("aria-label",i.iconButtonAriaLabel)("aria-expanded",(e=i.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",i.overlayVisible?i.panelId:null),T(),B("ngIf",i.icon),T(),B("ngIf",!i.icon)}}function I7(n,t){if(n&1){let e=It();y(0,"CalendarIcon",19),et("click",function(r){$(e);let s=F(3);return q(s.onButtonClick(r))}),w()}if(n&2){let e=F(3);B("ngClass",ai(1,l7,e.showOnFocus))}}function k7(n,t){n&1&&xe(0)}function S7(n,t){if(n&1&&(ce(0),K(1,I7,1,3,"CalendarIcon",17)(2,k7,1,0,"ng-container",18),le()),n&2){let e=F(2);T(),B("ngIf",!e.inputIconTemplate),T(),B("ngTemplateOutlet",e.inputIconTemplate)("ngTemplateOutletContext",ai(3,c7,e.onButtonClick.bind(e)))}}function T7(n,t){if(n&1){let e=It();y(0,"input",6,1),et("focus",function(r){$(e);let s=F();return q(s.onInputFocus(r))})("keydown",function(r){$(e);let s=F();return q(s.onInputKeydown(r))})("click",function(){$(e);let r=F();return q(r.onInputClick())})("blur",function(r){$(e);let s=F();return q(s.onInputBlur(r))})("input",function(r){$(e);let s=F();return q(s.onUserInput(r))}),w(),K(2,b7,3,2,"ng-container",7)(3,E7,3,6,"button",8)(4,S7,3,5,"ng-container",7)}if(n&2){let e,i=F();we(i.inputStyleClass),B("value",i.inputFieldValue)("readonly",i.readonlyInput)("ngStyle",i.inputStyle)("placeholder",i.placeholder||"")("disabled",i.disabled)("ngClass",i.inputClass)("autofocus",i.autofocus),ft("id",i.inputId)("name",i.name)("required",i.required)("aria-required",i.required)("aria-expanded",(e=i.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",i.overlayVisible?i.panelId:null)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("tabindex",i.tabindex)("inputmode",i.touchUI?"off":null),T(2),B("ngIf",i.showClear&&!i.disabled&&i.value!=null),T(),B("ngIf",i.showIcon&&i.iconDisplay==="button"),T(),B("ngIf",i.iconDisplay==="input"&&i.showIcon)}}function A7(n,t){n&1&&xe(0)}function D7(n,t){n&1&&U(0,"ChevronLeftIcon",40),n&2&&B("styleClass","p-datepicker-prev-icon")}function R7(n,t){}function M7(n,t){n&1&&K(0,R7,0,0,"ng-template")}function P7(n,t){if(n&1&&(y(0,"span",41),K(1,M7,1,0,null,13),w()),n&2){let e=F(5);T(),B("ngTemplateOutlet",e.previousIconTemplate)}}function O7(n,t){if(n&1){let e=It();y(0,"button",38),et("keydown",function(r){$(e);let s=F(4);return q(s.onContainerButtonKeydown(r))})("click",function(r){$(e);let s=F(4);return q(s.onPrevButtonClick(r))}),K(1,D7,1,1,"ChevronLeftIcon",35)(2,P7,2,1,"span",39),w()}if(n&2){let e=F(4);ft("aria-label",e.prevIconAriaLabel),T(),B("ngIf",!e.previousIconTemplate),T(),B("ngIf",e.previousIconTemplate)}}function N7(n,t){if(n&1){let e=It();y(0,"button",42),et("click",function(r){$(e);let s=F(4);return q(s.switchToMonthView(r))})("keydown",function(r){$(e);let s=F(4);return q(s.onContainerButtonKeydown(r))}),S(1),w()}if(n&2){let e=F().$implicit,i=F(3);B("disabled",i.switchViewButtonDisabled()),ft("aria-label",i.getTranslation("chooseMonth")),T(),_t(" ",i.getMonthName(e.month)," ")}}function F7(n,t){if(n&1){let e=It();y(0,"button",43),et("click",function(r){$(e);let s=F(4);return q(s.switchToYearView(r))})("keydown",function(r){$(e);let s=F(4);return q(s.onContainerButtonKeydown(r))}),S(1),w()}if(n&2){let e=F().$implicit,i=F(3);B("disabled",i.switchViewButtonDisabled()),ft("aria-label",i.getTranslation("chooseYear")),T(),_t(" ",i.getYear(e)," ")}}function L7(n,t){if(n&1&&(ce(0),S(1),le()),n&2){let e=F(5);T(),Hl("",e.yearPickerValues()[0]," - ",e.yearPickerValues()[e.yearPickerValues().length-1],"")}}function V7(n,t){n&1&&xe(0)}function B7(n,t){if(n&1&&(y(0,"span",44),K(1,L7,2,2,"ng-container",7)(2,V7,1,0,"ng-container",18),w()),n&2){let e=F(4);T(),B("ngIf",!e.decadeTemplate),T(),B("ngTemplateOutlet",e.decadeTemplate)("ngTemplateOutletContext",ai(3,n1,e.yearPickerValues))}}function U7(n,t){n&1&&U(0,"ChevronRightIcon",40),n&2&&B("styleClass","p-datepicker-next-icon")}function j7(n,t){}function z7(n,t){n&1&&K(0,j7,0,0,"ng-template")}function H7(n,t){if(n&1&&(y(0,"span",45),K(1,z7,1,0,null,13),w()),n&2){let e=F(4);T(),B("ngTemplateOutlet",e.nextIconTemplate)}}function W7(n,t){if(n&1&&(y(0,"th",51)(1,"span"),S(2),w()()),n&2){let e=F(5);T(2),me(e.getTranslation("weekHeader"))}}function $7(n,t){if(n&1&&(y(0,"th",52)(1,"span"),S(2),w()()),n&2){let e=t.$implicit;T(2),me(e)}}function q7(n,t){if(n&1&&(y(0,"td",55)(1,"span",56),S(2),w()()),n&2){let e=F().index,i=F(2).$implicit;T(2),_t(" ",i.weekNumbers[e]," ")}}function G7(n,t){if(n&1&&(ce(0),S(1),le()),n&2){let e=F(2).$implicit;T(),me(e.day)}}function K7(n,t){n&1&&xe(0)}function Y7(n,t){if(n&1&&(ce(0),K(1,K7,1,0,"ng-container",18),le()),n&2){let e=F(2).$implicit,i=F(6);T(),B("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",ai(2,n1,e))}}function Q7(n,t){n&1&&xe(0)}function X7(n,t){if(n&1&&(ce(0),K(1,Q7,1,0,"ng-container",18),le()),n&2){let e=F(2).$implicit,i=F(6);T(),B("ngTemplateOutlet",i.disabledDateTemplate)("ngTemplateOutletContext",ai(2,n1,e))}}function Z7(n,t){if(n&1&&(y(0,"div",59),S(1),w()),n&2){let e=F(2).$implicit;T(),_t(" ",e.day," ")}}function J7(n,t){if(n&1){let e=It();ce(0),y(1,"span",57),et("click",function(r){$(e);let s=F().$implicit,o=F(6);return q(o.onDateSelect(r,s))})("keydown",function(r){$(e);let s=F().$implicit,o=F(3).index,a=F(3);return q(a.onDateCellKeydown(r,s,o))}),K(2,G7,2,1,"ng-container",7)(3,Y7,2,4,"ng-container",7)(4,X7,2,4,"ng-container",7),w(),K(5,Z7,2,1,"div",58),le()}if(n&2){let e=F().$implicit,i=F(6);T(),B("ngClass",no(6,r1,i.isSelected(e)&&e.selectable,!e.selectable)),ft("data-date",i.formatDateKey(i.formatDateMetaToDate(e))),T(),B("ngIf",!i.dateTemplate&&(e.selectable||!i.disabledDateTemplate)),T(),B("ngIf",e.selectable||!i.disabledDateTemplate),T(),B("ngIf",!e.selectable),T(),B("ngIf",i.isSelected(e))}}function tW(n,t){if(n&1&&(y(0,"td",16),K(1,J7,6,9,"ng-container",7),w()),n&2){let e=t.$implicit,i=F(6);B("ngClass",no(3,m7,e.otherMonth,e.today)),ft("aria-label",e.day),T(),B("ngIf",e.otherMonth?i.showOtherMonths:!0)}}function eW(n,t){if(n&1&&(y(0,"tr"),K(1,q7,3,1,"td",53)(2,tW,2,6,"td",54),w()),n&2){let e=t.$implicit,i=F(5);T(),B("ngIf",i.showWeek),T(),B("ngForOf",e)}}function iW(n,t){if(n&1&&(y(0,"div",46)(1,"table",47)(2,"thead")(3,"tr"),K(4,W7,3,1,"th",48)(5,$7,3,1,"th",49),w()(),y(6,"tbody"),K(7,eW,3,2,"tr",50),w()()()),n&2){let e=F().$implicit,i=F(3);T(4),B("ngIf",i.showWeek),T(),B("ngForOf",i.weekDays),T(2),B("ngForOf",e.dates)}}function nW(n,t){if(n&1){let e=It();y(0,"div",27)(1,"div",28),K(2,O7,3,3,"button",29),y(3,"div",30),K(4,N7,2,3,"button",31)(5,F7,2,3,"button",32)(6,B7,3,5,"span",33),w(),y(7,"button",34),et("keydown",function(r){$(e);let s=F(3);return q(s.onContainerButtonKeydown(r))})("click",function(r){$(e);let s=F(3);return q(s.onNextButtonClick(r))}),K(8,U7,1,1,"ChevronRightIcon",35)(9,H7,2,1,"span",36),w()(),K(10,iW,8,3,"div",37),w()}if(n&2){let e=t.index,i=F(3);T(2),B("ngIf",e===0),T(2),B("ngIf",i.currentView==="date"),T(),B("ngIf",i.currentView!=="year"),T(),B("ngIf",i.currentView==="year"),T(),zl("display",i.numberOfMonths===1||e===i.numberOfMonths-1?"inline-flex":"none"),ft("aria-label",i.nextIconAriaLabel),T(),B("ngIf",!i.nextIconTemplate),T(),B("ngIf",i.nextIconTemplate),T(),B("ngIf",i.currentView==="date")}}function rW(n,t){if(n&1&&(y(0,"div",59),S(1),w()),n&2){let e=F().$implicit;T(),_t(" ",e," ")}}function sW(n,t){if(n&1){let e=It();y(0,"span",62),et("click",function(r){let s=$(e).index,o=F(4);return q(o.onMonthSelect(r,s))})("keydown",function(r){let s=$(e).index,o=F(4);return q(o.onMonthCellKeydown(r,s))}),S(1),K(2,rW,2,1,"div",58),w()}if(n&2){let e=t.$implicit,i=t.index,r=F(4);B("ngClass",no(3,r1,r.isMonthSelected(i),r.isMonthDisabled(i))),T(),_t(" ",e," "),T(),B("ngIf",r.isMonthSelected(i))}}function oW(n,t){if(n&1&&(y(0,"div",60),K(1,sW,3,6,"span",61),w()),n&2){let e=F(3);T(),B("ngForOf",e.monthPickerValues())}}function aW(n,t){if(n&1&&(y(0,"div",59),S(1),w()),n&2){let e=F().$implicit;T(),_t(" ",e," ")}}function cW(n,t){if(n&1){let e=It();y(0,"span",65),et("click",function(r){let s=$(e).$implicit,o=F(4);return q(o.onYearSelect(r,s))})("keydown",function(r){let s=$(e).$implicit,o=F(4);return q(o.onYearCellKeydown(r,s))}),S(1),K(2,aW,2,1,"div",58),w()}if(n&2){let e=t.$implicit,i=F(4);B("ngClass",no(3,r1,i.isYearSelected(e),i.isYearDisabled(e))),T(),_t(" ",e," "),T(),B("ngIf",i.isYearSelected(e))}}function lW(n,t){if(n&1&&(y(0,"div",63),K(1,cW,3,6,"span",64),w()),n&2){let e=F(3);T(),B("ngForOf",e.yearPickerValues())}}function dW(n,t){if(n&1&&(ce(0),y(1,"div",23),K(2,nW,11,10,"div",24),w(),K(3,oW,2,1,"div",25)(4,lW,2,1,"div",26),le()),n&2){let e=F(2);T(2),B("ngForOf",e.months),T(),B("ngIf",e.currentView==="month"),T(),B("ngIf",e.currentView==="year")}}function uW(n,t){n&1&&U(0,"ChevronUpIcon")}function hW(n,t){}function mW(n,t){n&1&&K(0,hW,0,0,"ng-template")}function fW(n,t){n&1&&(ce(0),S(1,"0"),le())}function pW(n,t){n&1&&U(0,"ChevronDownIcon")}function gW(n,t){}function _W(n,t){n&1&&K(0,gW,0,0,"ng-template")}function bW(n,t){n&1&&U(0,"ChevronUpIcon")}function vW(n,t){}function yW(n,t){n&1&&K(0,vW,0,0,"ng-template")}function wW(n,t){n&1&&(ce(0),S(1,"0"),le())}function xW(n,t){n&1&&U(0,"ChevronDownIcon")}function CW(n,t){}function EW(n,t){n&1&&K(0,CW,0,0,"ng-template")}function IW(n,t){if(n&1&&(y(0,"div",69)(1,"span"),S(2),w()()),n&2){let e=F(3);T(2),me(e.timeSeparator)}}function kW(n,t){n&1&&U(0,"ChevronUpIcon")}function SW(n,t){}function TW(n,t){n&1&&K(0,SW,0,0,"ng-template")}function AW(n,t){n&1&&(ce(0),S(1,"0"),le())}function DW(n,t){n&1&&U(0,"ChevronDownIcon")}function RW(n,t){}function MW(n,t){n&1&&K(0,RW,0,0,"ng-template")}function PW(n,t){if(n&1){let e=It();y(0,"div",74)(1,"button",68),et("keydown",function(r){$(e);let s=F(3);return q(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){$(e);let s=F(3);return q(s.incrementSecond(r))})("keydown.space",function(r){$(e);let s=F(3);return q(s.incrementSecond(r))})("mousedown",function(r){$(e);let s=F(3);return q(s.onTimePickerElementMouseDown(r,2,1))})("mouseup",function(r){$(e);let s=F(3);return q(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){$(e);let s=F(3);return q(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){$(e);let s=F(3);return q(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){$(e);let r=F(3);return q(r.onTimePickerElementMouseLeave())}),K(2,kW,1,0,"ChevronUpIcon",7)(3,TW,1,0,null,13),w(),y(4,"span"),K(5,AW,2,0,"ng-container",7),S(6),w(),y(7,"button",68),et("keydown",function(r){$(e);let s=F(3);return q(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){$(e);let s=F(3);return q(s.decrementSecond(r))})("keydown.space",function(r){$(e);let s=F(3);return q(s.decrementSecond(r))})("mousedown",function(r){$(e);let s=F(3);return q(s.onTimePickerElementMouseDown(r,2,-1))})("mouseup",function(r){$(e);let s=F(3);return q(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){$(e);let s=F(3);return q(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){$(e);let s=F(3);return q(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){$(e);let r=F(3);return q(r.onTimePickerElementMouseLeave())}),K(8,DW,1,0,"ChevronDownIcon",7)(9,MW,1,0,null,13),w()()}if(n&2){let e=F(3);T(),ft("aria-label",e.getTranslation("nextSecond")),T(),B("ngIf",!e.incrementIconTemplate),T(),B("ngTemplateOutlet",e.incrementIconTemplate),T(2),B("ngIf",e.currentSecond<10),T(),me(e.currentSecond),T(),ft("aria-label",e.getTranslation("prevSecond")),T(),B("ngIf",!e.decrementIconTemplate),T(),B("ngTemplateOutlet",e.decrementIconTemplate)}}function OW(n,t){n&1&&U(0,"ChevronUpIcon")}function NW(n,t){}function FW(n,t){n&1&&K(0,NW,0,0,"ng-template")}function LW(n,t){n&1&&U(0,"ChevronDownIcon")}function VW(n,t){}function BW(n,t){n&1&&K(0,VW,0,0,"ng-template")}function UW(n,t){if(n&1){let e=It();y(0,"div",75)(1,"button",76),et("keydown",function(r){$(e);let s=F(3);return q(s.onContainerButtonKeydown(r))})("click",function(r){$(e);let s=F(3);return q(s.toggleAMPM(r))})("keydown.enter",function(r){$(e);let s=F(3);return q(s.toggleAMPM(r))}),K(2,OW,1,0,"ChevronUpIcon",7)(3,FW,1,0,null,13),w(),y(4,"span"),S(5),w(),y(6,"button",76),et("keydown",function(r){$(e);let s=F(3);return q(s.onContainerButtonKeydown(r))})("click",function(r){$(e);let s=F(3);return q(s.toggleAMPM(r))})("keydown.enter",function(r){$(e);let s=F(3);return q(s.toggleAMPM(r))}),K(7,LW,1,0,"ChevronDownIcon",7)(8,BW,1,0,null,13),w()()}if(n&2){let e=F(3);T(),ft("aria-label",e.getTranslation("am")),T(),B("ngIf",!e.incrementIconTemplate),T(),B("ngTemplateOutlet",e.incrementIconTemplate),T(2),me(e.pm?"PM":"AM"),T(),ft("aria-label",e.getTranslation("pm")),T(),B("ngIf",!e.decrementIconTemplate),T(),B("ngTemplateOutlet",e.decrementIconTemplate)}}function jW(n,t){if(n&1){let e=It();y(0,"div",66)(1,"div",67)(2,"button",68),et("keydown",function(r){$(e);let s=F(2);return q(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){$(e);let s=F(2);return q(s.incrementHour(r))})("keydown.space",function(r){$(e);let s=F(2);return q(s.incrementHour(r))})("mousedown",function(r){$(e);let s=F(2);return q(s.onTimePickerElementMouseDown(r,0,1))})("mouseup",function(r){$(e);let s=F(2);return q(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){$(e);let s=F(2);return q(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){$(e);let s=F(2);return q(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){$(e);let r=F(2);return q(r.onTimePickerElementMouseLeave())}),K(3,uW,1,0,"ChevronUpIcon",7)(4,mW,1,0,null,13),w(),y(5,"span"),K(6,fW,2,0,"ng-container",7),S(7),w(),y(8,"button",68),et("keydown",function(r){$(e);let s=F(2);return q(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){$(e);let s=F(2);return q(s.decrementHour(r))})("keydown.space",function(r){$(e);let s=F(2);return q(s.decrementHour(r))})("mousedown",function(r){$(e);let s=F(2);return q(s.onTimePickerElementMouseDown(r,0,-1))})("mouseup",function(r){$(e);let s=F(2);return q(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){$(e);let s=F(2);return q(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){$(e);let s=F(2);return q(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){$(e);let r=F(2);return q(r.onTimePickerElementMouseLeave())}),K(9,pW,1,0,"ChevronDownIcon",7)(10,_W,1,0,null,13),w()(),y(11,"div",69)(12,"span"),S(13),w()(),y(14,"div",70)(15,"button",68),et("keydown",function(r){$(e);let s=F(2);return q(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){$(e);let s=F(2);return q(s.incrementMinute(r))})("keydown.space",function(r){$(e);let s=F(2);return q(s.incrementMinute(r))})("mousedown",function(r){$(e);let s=F(2);return q(s.onTimePickerElementMouseDown(r,1,1))})("mouseup",function(r){$(e);let s=F(2);return q(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){$(e);let s=F(2);return q(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){$(e);let s=F(2);return q(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){$(e);let r=F(2);return q(r.onTimePickerElementMouseLeave())}),K(16,bW,1,0,"ChevronUpIcon",7)(17,yW,1,0,null,13),w(),y(18,"span"),K(19,wW,2,0,"ng-container",7),S(20),w(),y(21,"button",68),et("keydown",function(r){$(e);let s=F(2);return q(s.onContainerButtonKeydown(r))})("keydown.enter",function(r){$(e);let s=F(2);return q(s.decrementMinute(r))})("keydown.space",function(r){$(e);let s=F(2);return q(s.decrementMinute(r))})("mousedown",function(r){$(e);let s=F(2);return q(s.onTimePickerElementMouseDown(r,1,-1))})("mouseup",function(r){$(e);let s=F(2);return q(s.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){$(e);let s=F(2);return q(s.onTimePickerElementMouseUp(r))})("keyup.space",function(r){$(e);let s=F(2);return q(s.onTimePickerElementMouseUp(r))})("mouseleave",function(){$(e);let r=F(2);return q(r.onTimePickerElementMouseLeave())}),K(22,xW,1,0,"ChevronDownIcon",7)(23,EW,1,0,null,13),w()(),K(24,IW,3,1,"div",71)(25,PW,10,8,"div",72)(26,UW,9,7,"div",73),w()}if(n&2){let e=F(2);T(2),ft("aria-label",e.getTranslation("nextHour")),T(),B("ngIf",!e.incrementIconTemplate),T(),B("ngTemplateOutlet",e.incrementIconTemplate),T(2),B("ngIf",e.currentHour<10),T(),me(e.currentHour),T(),ft("aria-label",e.getTranslation("prevHour")),T(),B("ngIf",!e.decrementIconTemplate),T(),B("ngTemplateOutlet",e.decrementIconTemplate),T(3),me(e.timeSeparator),T(2),ft("aria-label",e.getTranslation("nextMinute")),T(),B("ngIf",!e.incrementIconTemplate),T(),B("ngTemplateOutlet",e.incrementIconTemplate),T(2),B("ngIf",e.currentMinute<10),T(),me(e.currentMinute),T(),ft("aria-label",e.getTranslation("prevMinute")),T(),B("ngIf",!e.decrementIconTemplate),T(),B("ngTemplateOutlet",e.decrementIconTemplate),T(),B("ngIf",e.showSeconds),T(),B("ngIf",e.showSeconds),T(),B("ngIf",e.hourFormat=="12")}}function zW(n,t){if(n&1){let e=It();y(0,"div",77)(1,"button",78),et("keydown",function(r){$(e);let s=F(2);return q(s.onContainerButtonKeydown(r))})("click",function(r){$(e);let s=F(2);return q(s.onTodayButtonClick(r))}),w(),y(2,"button",78),et("keydown",function(r){$(e);let s=F(2);return q(s.onContainerButtonKeydown(r))})("click",function(r){$(e);let s=F(2);return q(s.onClearButtonClick(r))}),w()()}if(n&2){let e=F(2);T(),B("label",e.getTranslation("today"))("ngClass",ai(4,V2,e.todayButtonStyleClass)),T(),B("label",e.getTranslation("clear"))("ngClass",ai(6,V2,e.clearButtonStyleClass))}}function HW(n,t){n&1&&xe(0)}function WW(n,t){if(n&1){let e=It();y(0,"div",20,2),et("@overlayAnimation.start",function(r){$(e);let s=F();return q(s.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){$(e);let s=F();return q(s.onOverlayAnimationDone(r))})("click",function(r){$(e);let s=F();return q(s.onOverlayClick(r))}),Kt(2),K(3,A7,1,0,"ng-container",13)(4,dW,5,3,"ng-container",7)(5,jW,27,20,"div",21)(6,zW,3,8,"div",22),Kt(7,1),K(8,HW,1,0,"ng-container",13),w()}if(n&2){let e=F();we(e.panelStyleClass),B("ngStyle",e.panelStyle)("ngClass",KI(15,d7,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,e.view==="month",e.touchUI))("@overlayAnimation",e.touchUI?ai(25,u7,no(22,L2,e.showTransitionOptions,e.hideTransitionOptions)):ai(30,h7,no(27,L2,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.inline===!0),ft("id",e.panelId)("aria-label",e.getTranslation("chooseDate"))("role",e.inline?null:"dialog")("aria-modal",e.inline?null:"true"),T(3),B("ngTemplateOutlet",e.headerTemplate),T(),B("ngIf",!e.timeOnly),T(),B("ngIf",(e.showTime||e.timeOnly)&&e.currentView==="date"),T(),B("ngIf",e.showButtonBar),T(2),B("ngTemplateOutlet",e.footerTemplate)}}var $W={provide:$o,useExisting:En(()=>s1),multi:!0},s1=(()=>{class n{document;el;renderer;cd;zone;config;overlayService;iconDisplay="button";style;styleClass;inputStyle;inputId;name;inputStyleClass;placeholder;ariaLabelledBy;ariaLabel;iconAriaLabel;disabled;dateFormat;multipleSeparator=",";rangeSeparator="-";inline=!1;showOtherMonths=!0;selectOtherMonths;showIcon;icon;appendTo;readonlyInput;shortYearCutoff="+10";monthNavigator;yearNavigator;hourFormat="24";timeOnly;stepYearPicker=10;stepHour=1;stepMinute=1;stepSecond=1;showSeconds=!1;required;showOnFocus=!0;showWeek=!1;startWeekFromFirstDayOfYear=!1;showClear=!1;dataType="date";selectionMode="single";maxDateCount;showButtonBar;todayButtonStyleClass="p-button-text";clearButtonStyleClass="p-button-text";autofocus;autoZIndex=!0;baseZIndex=0;panelStyleClass;panelStyle;keepInvalid=!1;hideOnDateTimeSelect=!0;touchUI;timeSeparator=":";focusTrap=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";tabindex;variant="outlined";get minDate(){return this._minDate}set minDate(e){this._minDate=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){let i=e.split(":"),r=parseInt(i[0]),s=parseInt(i[1]);this.populateYearOptions(r,s)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,this.currentHour===void 0&&this.initTime(this.value||new Date),this.updateInputfield()}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){let i=e||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}get inputClass(){return{"p-inputtext p-component":!0,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}onFocus=new Tt;onBlur=new Tt;onClose=new Tt;onSelect=new Tt;onClear=new Tt;onInput=new Tt;onTodayClick=new Tt;onClearClick=new Tt;onMonthChange=new Tt;onYearChange=new Tt;onClickOutside=new Tt;onShow=new Tt;templates;containerViewChild;inputfieldViewChild;set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):!this.focus&&!this.inline&&this.initFocusableCell())}contentViewChild;value;dates;months;weekDays;currentMonth;currentYear;currentHour;currentMinute;currentSecond;pm;mask;maskClickListener;overlay;responsiveStyleElement;overlayVisible;onModelChange=()=>{};onModelTouched=()=>{};calendarElement;timePickerTimer;documentClickListener;animationEndListener;ticksTo1970;yearOptions;focus;isKeydown;filled;inputFieldValue=null;_minDate;_maxDate;_showTime;_yearRange;preventDocumentListener;dateTemplate;headerTemplate;footerTemplate;disabledDateTemplate;decadeTemplate;previousIconTemplate;nextIconTemplate;triggerIconTemplate;clearIconTemplate;decrementIconTemplate;incrementIconTemplate;inputIconTemplate;_disabledDates;_disabledDays;selectElement;todayElement;focusElement;scrollHandler;documentResizeListener;navigationState=null;isMonthNavigate;initialized;translationSubscription;_locale;_responsiveOptions;currentView;attributeSelector;panelId;_numberOfMonths=1;_firstDayOfWeek;_view="date";preventFocus;_defaultDate;_focusKey=null;window;get locale(){return this._locale}get iconButtonAriaLabel(){return this.iconAriaLabel?this.iconAriaLabel:this.getTranslation("chooseDate")}get prevIconAriaLabel(){return this.currentView==="year"?this.getTranslation("prevDecade"):this.currentView==="month"?this.getTranslation("prevYear"):this.getTranslation("prevMonth")}get nextIconAriaLabel(){return this.currentView==="year"?this.getTranslation("nextDecade"):this.currentView==="month"?this.getTranslation("nextYear"):this.getTranslation("nextMonth")}constructor(e,i,r,s,o,a,c){this.document=e,this.el=i,this.renderer=r,this.cd=s,this.zone=o,this.config=a,this.overlayService=c,this.window=this.document.defaultView}ngOnInit(){this.attributeSelector=s_(),this.panelId=this.attributeSelector+"_panel";let e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.yearOptions=[],this.currentView=this.view,this.view==="date"&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=(1969*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"inputicon":this.inputIconTemplate=e.template;break;case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template;break;case"triggericon":this.triggerIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"decrementicon":this.decrementIconTemplate=e.template;break;case"incrementicon":this.incrementIconTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.dateTemplate=e.template;break}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),!this.disabled&&!this.inline&&(this.initFocusableCell(),this.numberOfMonths===1&&this.contentViewChild&&this.contentViewChild.nativeElement&&(this.contentViewChild.nativeElement.style.width=st.getOuterWidth(this.containerViewChild?.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,i){this.yearOptions=[];for(let r=e;r<=i;r++)this.yearOptions.push(r)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),i=this.getTranslation(Bn.DAY_NAMES_MIN);for(let r=0;r<7;r++)this.weekDays.push(i[e]),e=e==6?0:++e}monthPickerValues(){let e=[];for(let i=0;i<=11;i++)e.push(this.config.getTranslation("monthNamesShort")[i]);return e}yearPickerValues(){let e=[],i=this.currentYear-this.currentYear%this.stepYearPicker;for(let r=0;r<this.stepYearPicker;r++)e.push(i+r);return e}createMonths(e,i){this.months=this.months=[];for(let r=0;r<this.numberOfMonths;r++){let s=e+r,o=i;s>11&&(s=s%11-1,o=i+1),this.months.push(this.createMonth(s,o))}}getWeekNumber(e){let i=new Date(e.getTime());if(this.startWeekFromFirstDayOfYear){let s=+this.getFirstDateOfWeek();i.setDate(i.getDate()+6+s-i.getDay())}else i.setDate(i.getDate()+4-(i.getDay()||7));let r=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((r-i.getTime())/864e5)/7)+1}createMonth(e,i){let r=[],s=this.getFirstDayOfMonthIndex(e,i),o=this.getDaysCountInMonth(e,i),a=this.getDaysCountInPrevMonth(e,i),c=1,l=new Date,d=[],h=Math.ceil((o+s)/7);for(let m=0;m<h;m++){let p=[];if(m==0){for(let b=a-s+1;b<=a;b++){let v=this.getPreviousMonthAndYear(e,i);p.push({day:b,month:v.month,year:v.year,otherMonth:!0,today:this.isToday(l,b,v.month,v.year),selectable:this.isSelectable(b,v.month,v.year,!0)})}let _=7-p.length;for(let b=0;b<_;b++)p.push({day:c,month:e,year:i,today:this.isToday(l,c,e,i),selectable:this.isSelectable(c,e,i,!1)}),c++}else for(let _=0;_<7;_++){if(c>o){let b=this.getNextMonthAndYear(e,i);p.push({day:c-o,month:b.month,year:b.year,otherMonth:!0,today:this.isToday(l,c-o,b.month,b.year),selectable:this.isSelectable(c-o,b.month,b.year,!0)})}else p.push({day:c,month:e,year:i,today:this.isToday(l,c,e,i),selectable:this.isSelectable(c,e,i,!1)});c++}this.showWeek&&d.push(this.getWeekNumber(new Date(p[0].year,p[0].month,p[0].day))),r.push(p)}return{month:e,year:i,dates:r,weekNumbers:d}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){if(this.disabled){e.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.decrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===0?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}navForward(e){if(this.disabled){e.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.incrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===11?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}decrementYear(){this.currentYear--;let e=this.yearOptions;if(this.yearNavigator&&this.currentYear<e[0]){let i=e[e.length-1]-e[0];this.populateYearOptions(e[0]-i,e[e.length-1]-i)}}decrementYearPickerStep(){this.currentYear=this.currentYear-this.stepYearPicker}incrementYearPickerStep(){this.currentYear=this.currentYear+this.stepYearPicker}incrementYear(){this.currentYear++;let e=this.yearOptions;if(this.yearNavigator&&this.currentYear>e[e.length-1]){let i=e[e.length-1]-e[0];this.populateYearOptions(e[0]+i,e[e.length-1]+i)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,i){if(this.disabled||!i.selectable){e.preventDefault();return}this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((r,s)=>!this.isDateEquals(r,i)),this.value.length===0&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.hideOnDateTimeSelect&&(this.isSingleSelection()||this.isRangeSelection()&&this.value[1])&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()}shouldSelectDate(e){return this.isMultipleSelection()&&this.maxDateCount!=null?this.maxDateCount>(this.value?this.value.length:0):!0}onMonthSelect(e,i){this.view==="month"?this.onDateSelect(e,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,i){this.view==="year"?this.onDateSelect(e,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value){if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++){let r=this.formatDateTime(this.value[i]);e+=r,i!==this.value.length-1&&(e+=this.multipleSeparator+" ")}else if(this.isRangeSelection()&&this.value&&this.value.length){let i=this.value[0],r=this.value[1];e=this.formatDateTime(i),r&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(r))}}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let i=this.keepInvalid?e:null,r=this.isValidDateForTimeConstraints(e);return this.isValidDate(e)?this.timeOnly?i=this.formatTime(e):(i=this.formatDate(e,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(e))):this.dataType==="string"&&(i=e),i=r?i:"",i}formatDateMetaToDate(e){return new Date(e.year,e.month,e.day)}formatDateKey(e){return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`}setCurrentHourPM(e){this.hourFormat=="12"?(this.pm=e>11,e>=12?this.currentHour=e==12?12:e-12:this.currentHour=e==0?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let i=this.formatDateMetaToDate(e);if(this.showTime&&(this.hourFormat=="12"?this.currentHour===12?i.setHours(this.pm?12:0):i.setHours(this.pm?this.currentHour+12:this.currentHour):i.setHours(this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let r=this.value[0],s=this.value[1];!s&&i.getTime()>=r.getTime()?s=i:(r=i,s=null),this.updateModel([r,s])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(e){if(this.value=e,this.dataType=="date")this.onModelChange(this.value);else if(this.dataType=="string")if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;Array.isArray(this.value)&&(i=this.value.map(r=>this.formatDateTime(r))),this.onModelChange(i)}}getFirstDayOfMonthIndex(e,i){let r=new Date;r.setDate(1),r.setMonth(e),r.setFullYear(i);let s=r.getDay()+this.getSundayIndex();return s>=7?s-7:s}getDaysCountInMonth(e,i){return 32-this.daylightSavingAdjust(new Date(i,e,32)).getDate()}getDaysCountInPrevMonth(e,i){let r=this.getPreviousMonthAndYear(e,i);return this.getDaysCountInMonth(r.month,r.year)}getPreviousMonthAndYear(e,i){let r,s;return e===0?(r=11,s=i-1):(r=e-1,s=i),{month:r,year:s}}getNextMonthAndYear(e,i){let r,s;return e===11?(r=0,s=i+1):(r=e+1,s=i),{month:r,year:s}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(this.value){if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let i=!1;for(let r of this.value)if(i=this.isDateEquals(r,e),i)break;return i}else if(this.isRangeSelection())return this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e)}else return!1}isComparable(){return this.value!=null&&typeof this.value!="string"}isMonthSelected(e){if(this.isComparable()&&!this.isMultipleSelection()){let[i,r]=this.isRangeSelection()?this.value:[this.value,this.value],s=new Date(this.currentYear,e,1);return s>=i&&s<=(r??i)}return!1}isMonthDisabled(e,i){let r=i??this.currentYear;for(let s=1;s<this.getDaysCountInMonth(e,r)+1;s++)if(this.isSelectable(s,e,r,!1))return!1;return!0}isYearDisabled(e){return Array(12).fill(0).every((i,r)=>this.isMonthDisabled(r,e))}isYearSelected(e){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return this.isMultipleSelection()?!1:i.getFullYear()===e}return!1}isDateEquals(e,i){return e&&en.isDate(e)?e.getDate()===i.day&&e.getMonth()===i.month&&e.getFullYear()===i.year:!1}isDateBetween(e,i,r){let s=!1;if(en.isDate(e)&&en.isDate(i)){let o=this.formatDateMetaToDate(r);return e.getTime()<=o.getTime()&&i.getTime()>=o.getTime()}return s}isSingleSelection(){return this.selectionMode==="single"}isRangeSelection(){return this.selectionMode==="range"}isMultipleSelection(){return this.selectionMode==="multiple"}isToday(e,i,r,s){return e.getDate()===i&&e.getMonth()===r&&e.getFullYear()===s}isSelectable(e,i,r,s){let o=!0,a=!0,c=!0,l=!0;return s&&!this.selectOtherMonths?!1:(this.minDate&&(this.minDate.getFullYear()>r||this.minDate.getFullYear()===r&&this.currentView!="year"&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>e))&&(o=!1),this.maxDate&&(this.maxDate.getFullYear()<r||this.maxDate.getFullYear()===r&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<e))&&(a=!1),this.disabledDates&&(c=!this.isDateDisabled(e,i,r)),this.disabledDays&&(l=!this.isDayDisabled(e,i,r)),o&&a&&c&&l)}isDateDisabled(e,i,r){if(this.disabledDates){for(let s of this.disabledDates)if(s.getFullYear()===r&&s.getMonth()===i&&s.getDate()===e)return!0}return!1}isDayDisabled(e,i,r){if(this.disabledDays){let o=new Date(r,i,e).getDay();return this.disabledDays.indexOf(o)!==-1}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,i=this.inputfieldViewChild?.nativeElement){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return this.currentView==="month"?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:if(this.inline||this.trapFocus(e),this.inline){let i=st.findSingle(this.containerViewChild?.nativeElement,".p-datepicker-header"),r=e.target;if(this.timeOnly)return;r==i.children[i?.children?.length-1]&&this.initFocusableCell()}break;case 27:this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break;default:break}}onInputKeydown(e){this.isKeydown=!0,e.keyCode===40&&this.contentViewChild?this.trapFocus(e):e.keyCode===27?this.overlayVisible&&(this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault()):e.keyCode===13?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):e.keyCode===9&&this.contentViewChild&&(st.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,i,r){let s=e.currentTarget,o=s.parentElement,a=this.formatDateMetaToDate(i);switch(e.which){case 40:{s.tabIndex="-1";let _=st.index(o),b=o.parentElement.nextElementSibling;if(b){let v=b.children[_].children[0];st.hasClass(v,"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(b.children[_].children[0].tabIndex="0",b.children[_].children[0].focus())}else this.navigationState={backward:!1},this.navForward(e);e.preventDefault();break}case 38:{s.tabIndex="-1";let _=st.index(o),b=o.parentElement.previousElementSibling;if(b){let v=b.children[_].children[0];st.hasClass(v,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(v.tabIndex="0",v.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{s.tabIndex="-1";let _=o.previousElementSibling;if(_){let b=_.children[0];st.hasClass(b,"p-disabled")||st.hasClass(b.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,r):(b.tabIndex="0",b.focus())}else this.navigateToMonth(!0,r);e.preventDefault();break}case 39:{s.tabIndex="-1";let _=o.nextElementSibling;if(_){let b=_.children[0];st.hasClass(b,"p-disabled")?this.navigateToMonth(!1,r):(b.tabIndex="0",b.focus())}else this.navigateToMonth(!1,r);e.preventDefault();break}case 13:case 32:{this.onDateSelect(e,i),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.inline||this.trapFocus(e);break}case 33:{s.tabIndex="-1";let _=new Date(a.getFullYear(),a.getMonth()-1,a.getDate()),b=this.formatDateKey(_);this.navigateToMonth(!0,r,`span[data-date='${b}']:not(.p-disabled):not(.p-ink)`),e.preventDefault();break}case 34:{s.tabIndex="-1";let _=new Date(a.getFullYear(),a.getMonth()+1,a.getDate()),b=this.formatDateKey(_);this.navigateToMonth(!1,r,`span[data-date='${b}']:not(.p-disabled):not(.p-ink)`),e.preventDefault();break}case 36:s.tabIndex="-1";let c=new Date(a.getFullYear(),a.getMonth(),1),l=this.formatDateKey(c),d=st.findSingle(s.offsetParent,`span[data-date='${l}']:not(.p-disabled):not(.p-ink)`);d&&(d.tabIndex="0",d.focus()),e.preventDefault();break;case 35:s.tabIndex="-1";let h=new Date(a.getFullYear(),a.getMonth()+1,0),m=this.formatDateKey(h),p=st.findSingle(s.offsetParent,`span[data-date='${m}']:not(.p-disabled):not(.p-ink)`);h&&(p.tabIndex="0",p.focus()),e.preventDefault();break;default:break}}onMonthCellKeydown(e,i){let r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var s=r.parentElement.children,o=st.index(r);let a=s[e.which===40?o+3:o-3];a&&(a.tabIndex="0",a.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let a=r.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let a=r.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:{this.onMonthSelect(e,i),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.inline||this.trapFocus(e);break}default:break}}onYearCellKeydown(e,i){let r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var s=r.parentElement.children,o=st.index(r);let a=s[e.which===40?o+2:o-2];a&&(a.tabIndex="0",a.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let a=r.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let a=r.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:{this.onYearSelect(e,i),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.trapFocus(e);break}default:break}}navigateToMonth(e,i,r){if(e)if(this.numberOfMonths===1||i===0)this.navigationState={backward:!0},this._focusKey=r,this.navBackward(event);else{let s=this.contentViewChild.nativeElement.children[i-1];if(r){let o=st.findSingle(s,r);o.tabIndex="0",o.focus()}else{let o=st.find(s,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),a=o[o.length-1];a.tabIndex="0",a.focus()}}else if(this.numberOfMonths===1||i===this.numberOfMonths-1)this.navigationState={backward:!1},this._focusKey=r,this.navForward(event);else{let s=this.contentViewChild.nativeElement.children[i+1];if(r){let o=st.findSingle(s,r);o.tabIndex="0",o.focus()}else{let o=st.findSingle(s,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");o.tabIndex="0",o.focus()}}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?st.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():st.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;this.currentView==="month"?i=st.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?i=st.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):i=st.find(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(e=i[i.length-1])}else this.currentView==="month"?e=st.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?e=st.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):e=st.findSingle(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null,this._focusKey=null}else this.initFocusableCell();this.alignOverlay()}initFocusableCell(){let e=this.contentViewChild?.nativeElement,i;if(this.currentView==="month"){let r=st.find(e,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),s=st.findSingle(e,".p-monthpicker .p-monthpicker-month.p-highlight");r.forEach(o=>o.tabIndex=-1),i=s||r[0],r.length===0&&st.find(e,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(this.currentView==="year"){let r=st.find(e,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),s=st.findSingle(e,".p-yearpicker .p-yearpicker-year.p-highlight");r.forEach(o=>o.tabIndex=-1),i=s||r[0],r.length===0&&st.find(e,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(i=st.findSingle(e,"span.p-highlight"),!i){let r=st.findSingle(e,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");r?i=r:i=st.findSingle(e,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}i&&(i.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||i.focus()},1),this.preventFocus=!1)}trapFocus(e){let i=st.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(!i[0].ownerDocument.activeElement)i[0].focus();else{let r=i.indexOf(i[0].ownerDocument.activeElement);if(e.shiftKey)if(r==-1||r===0)if(this.focusTrap)i[i.length-1].focus();else{if(r===-1)return this.hideOverlay();if(r===0)return}else i[r-1].focus();else if(r==-1)if(this.timeOnly)i[0].focus();else{let s=0;for(let o=0;o<i.length;o++)i[o].tagName==="SPAN"&&(s=o);i[s].focus()}else if(r===i.length-1){if(!this.focusTrap&&r!=-1)return this.hideOverlay();i[0].focus()}else i[r+1].focus()}e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}convertTo24Hour(e,i){return this.hourFormat=="12"?e===12?i?12:0:i?e+12:e:e}constrainTime(e,i,r,s){let o=[e,i,r],a,c=this.value,l=this.convertTo24Hour(e,s),d=this.isRangeSelection(),h=this.isMultipleSelection();(d||h)&&(this.value||(this.value=[new Date,new Date]),d&&(c=this.value[1]||this.value[0]),h&&(c=this.value[this.value.length-1]));let p=c?c.toDateString():null,_=this.minDate&&p&&this.minDate.toDateString()===p,b=this.maxDate&&p&&this.maxDate.toDateString()===p;switch(_&&(a=this.minDate.getHours()>=12),!0){case(_&&a&&this.minDate.getHours()===12&&this.minDate.getHours()>l):o[0]=11;case(_&&this.minDate.getHours()===l&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(_&&this.minDate.getHours()===l&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):o[2]=this.minDate.getSeconds();break;case(_&&!a&&this.minDate.getHours()-1===l&&this.minDate.getHours()>l):o[0]=11,this.pm=!0;case(_&&this.minDate.getHours()===l&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(_&&this.minDate.getHours()===l&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):o[2]=this.minDate.getSeconds();break;case(_&&a&&this.minDate.getHours()>l&&l!==12):this.setCurrentHourPM(this.minDate.getHours()),o[0]=this.currentHour;case(_&&this.minDate.getHours()===l&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(_&&this.minDate.getHours()===l&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):o[2]=this.minDate.getSeconds();break;case(_&&this.minDate.getHours()>l):o[0]=this.minDate.getHours();case(_&&this.minDate.getHours()===l&&this.minDate.getMinutes()>i):o[1]=this.minDate.getMinutes();case(_&&this.minDate.getHours()===l&&this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r):o[2]=this.minDate.getSeconds();break;case(b&&this.maxDate.getHours()<l):o[0]=this.maxDate.getHours();case(b&&this.maxDate.getHours()===l&&this.maxDate.getMinutes()<i):o[1]=this.maxDate.getMinutes();case(b&&this.maxDate.getHours()===l&&this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<r):o[2]=this.maxDate.getSeconds();break}return o}incrementHour(e){let i=this.currentHour??0,r=(this.currentHour??0)+this.stepHour,s=this.pm;this.hourFormat=="24"?r=r>=24?r-24:r:this.hourFormat=="12"&&(i<12&&r>11&&(s=!this.pm),r=r>=13?r-12:r),this.toggleAMPMIfNotMinDate(s),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(r,this.currentMinute,this.currentSecond,s),e.preventDefault()}toggleAMPMIfNotMinDate(e){let i=this.value;(this.selectionMode=="range"||this.selectionMode=="multiple")&&Array.isArray(i)&&i.length>0&&(i=i[i.length-1]);let r=i?i.toDateString():null;this.minDate&&r&&this.minDate.toDateString()===r&&this.minDate.getHours()>=12?this.pm=!0:this.pm=e}onTimePickerElementMouseDown(e,i,r){this.disabled||(this.repeat(e,null,i,r),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,i,r,s){let o=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,r,s),this.cd.markForCheck()},o),r){case 0:s===1?this.incrementHour(e):this.decrementHour(e);break;case 1:s===1?this.incrementMinute(e):this.decrementMinute(e);break;case 2:s===1?this.incrementSecond(e):this.decrementSecond(e);break}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let i=(this.currentHour??0)-this.stepHour,r=this.pm;this.hourFormat=="24"?i=i<0?24+i:i:this.hourFormat=="12"&&(this.currentHour===12&&(r=!this.pm),i=i<=0?12+i:i),this.toggleAMPMIfNotMinDate(r),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(i,this.currentMinute,this.currentSecond,r),e.preventDefault()}incrementMinute(e){let i=(this.currentMinute??0)+this.stepMinute;i=i>59?i-60:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,i,this.currentSecond,this.pm),e.preventDefault()}decrementMinute(e){let i=(this.currentMinute??0)-this.stepMinute;i=i<0?60+i:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,i,this.currentSecond,this.pm),e.preventDefault()}incrementSecond(e){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,i,this.pm),e.preventDefault()}decrementSecond(e){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,i,this.pm),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,this.hourFormat=="12"?this.currentHour===12?e.setHours(this.pm?12:0):e.setHours(this.pm?this.currentHour+12:this.currentHour):e.setHours(this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(this.value[1]?e=[this.value[0],e]:e=[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){let i=!this.pm;this.pm=i,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,this.currentSecond,i),this.updateTime(),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let i=e.target.value;try{let r=this.parseValueFromString(i);this.isValidSelection(r)?(this.updateModel(r),this.updateUI()):this.keepInvalid&&this.updateModel(r)}catch{let s=this.keepInvalid?i:null;this.updateModel(s)}this.filled=i!=null&&i.length,this.onInput.emit(e)}isValidSelection(e){if(this.isSingleSelection())return this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1);let i=e.every(r=>this.isSelectable(r.getDate(),r.getMonth(),r.getFullYear(),!1));return i&&this.isRangeSelection()&&(i=e.length===1||e.length>1&&e[1]>=e[0]),i}parseValueFromString(e){if(!e||e.trim().length===0)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(e);else if(this.isMultipleSelection()){let r=e.split(this.multipleSeparator);i=[];for(let s of r)i.push(this.parseDateTime(s.trim()))}else if(this.isRangeSelection()){let r=e.split(" "+this.rangeSeparator+" ");i=[];for(let s=0;s<r.length;s++)i[s]=this.parseDateTime(r[s].trim())}return i}parseDateTime(e){let i,r=e.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,r[0],r[1]);else{let s=this.getDateFormat();if(this.showTime){let o=this.hourFormat=="12"?r.pop():null,a=r.pop();i=this.parseDate(r.join(" "),s),this.populateTime(i,a,o)}else i=this.parseDate(e,s)}return i}populateTime(e,i,r){if(this.hourFormat=="12"&&!r)throw"Invalid Time";this.pm=r==="PM"||r==="pm";let s=this.parseTime(i);e.setHours(s.hour),e.setMinutes(s.minute),e.setSeconds(s.second)}isValidDate(e){return en.isDate(e)&&en.isNotEmpty(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e[1]||e[0]);let i=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild?.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay?.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?Th.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Th.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e);break}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Th.clear(e.element);break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.overlay):st.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?(this.view==="date"?(this.overlay.style.width=st.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=st.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px"):this.overlay.style.width=st.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px",st.absolutePosition(this.overlay,this.inputfieldViewChild?.nativeElement)):st.relativePosition(this.overlay,this.inputfieldViewChild?.nativeElement))}enableModality(e){!this.mask&&this.touchUI&&(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(e.style.zIndex)-1)),st.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",r=>{this.disableModality(),this.overlayVisible=!1}),this.renderer.appendChild(this.document.body,this.mask),st.blockBodyScroll())}disableModality(){this.mask&&(st.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyMask.bind(this))))}destroyMask(){if(!this.mask)return;this.renderer.removeChild(this.document.body,this.mask);let e=this.document.body.children,i;for(let r=0;r<e.length;r++){let s=e[r];if(st.hasClass(s,"p-datepicker-mask-scrollblocker")){i=!0;break}}i||st.unblockBodyScroll(),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}writeValue(e){if(this.value=e,this.value&&typeof this.value=="string")try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(Bn.FIRST_DAY_OF_WEEK)}formatDate(e,i){if(!e)return"";let r,s=d=>{let h=r+1<i.length&&i.charAt(r+1)===d;return h&&r++,h},o=(d,h,m)=>{let p=""+h;if(s(d))for(;p.length<m;)p="0"+p;return p},a=(d,h,m,p)=>s(d)?p[h]:m[h],c="",l=!1;if(e)for(r=0;r<i.length;r++)if(l)i.charAt(r)==="'"&&!s("'")?l=!1:c+=i.charAt(r);else switch(i.charAt(r)){case"d":c+=o("d",e.getDate(),2);break;case"D":c+=a("D",e.getDay(),this.getTranslation(Bn.DAY_NAMES_SHORT),this.getTranslation(Bn.DAY_NAMES));break;case"o":c+=o("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=o("m",e.getMonth()+1,2);break;case"M":c+=a("M",e.getMonth(),this.getTranslation(Bn.MONTH_NAMES_SHORT),this.getTranslation(Bn.MONTH_NAMES));break;case"y":c+=s("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":c+=e.getTime();break;case"!":c+=e.getTime()*1e4+this.ticksTo1970;break;case"'":s("'")?c+="'":l=!0;break;default:c+=i.charAt(r)}return c}formatTime(e){if(!e)return"";let i="",r=e.getHours(),s=e.getMinutes(),o=e.getSeconds();return this.hourFormat=="12"&&r>11&&r!=12&&(r-=12),this.hourFormat=="12"?i+=r===0?12:r<10?"0"+r:r:i+=r<10?"0"+r:r,i+=":",i+=s<10?"0"+s:s,this.showSeconds&&(i+=":",i+=o<10?"0"+o:o),this.hourFormat=="12"&&(i+=e.getHours()>11?" PM":" AM"),i}parseTime(e){let i=e.split(":"),r=this.showSeconds?3:2;if(i.length!==r)throw"Invalid time";let s=parseInt(i[0]),o=parseInt(i[1]),a=this.showSeconds?parseInt(i[2]):null;if(isNaN(s)||isNaN(o)||s>23||o>59||this.hourFormat=="12"&&s>12||this.showSeconds&&(isNaN(a)||a>59))throw"Invalid time";return this.hourFormat=="12"&&(s!==12&&this.pm?s+=12:!this.pm&&s===12&&(s-=12)),{hour:s,minute:o,second:a}}parseDate(e,i){if(i==null||e==null)throw"Invalid arguments";if(e=typeof e=="object"?e.toString():e+"",e==="")return null;let r,s,o,a=0,c=typeof this.shortYearCutoff!="string"?this.shortYearCutoff:new Date().getFullYear()%100+parseInt(this.shortYearCutoff,10),l=-1,d=-1,h=-1,m=-1,p=!1,_,b=V=>{let j=r+1<i.length&&i.charAt(r+1)===V;return j&&r++,j},v=V=>{let j=b(V),z=V==="@"?14:V==="!"?20:V==="y"&&j?4:V==="o"?3:2,H=V==="y"?z:1,k=new RegExp("^\\d{"+H+","+z+"}"),x=e.substring(a).match(k);if(!x)throw"Missing number at position "+a;return a+=x[0].length,parseInt(x[0],10)},R=(V,j,z)=>{let H=-1,k=b(V)?z:j,x=[];for(let I=0;I<k.length;I++)x.push([I,k[I]]);x.sort((I,D)=>-(I[1].length-D[1].length));for(let I=0;I<x.length;I++){let D=x[I][1];if(e.substr(a,D.length).toLowerCase()===D.toLowerCase()){H=x[I][0],a+=D.length;break}}if(H!==-1)return H+1;throw"Unknown name at position "+a},P=()=>{if(e.charAt(a)!==i.charAt(r))throw"Unexpected literal at position "+a;a++};for(this.view==="month"&&(h=1),r=0;r<i.length;r++)if(p)i.charAt(r)==="'"&&!b("'")?p=!1:P();else switch(i.charAt(r)){case"d":h=v("d");break;case"D":R("D",this.getTranslation(Bn.DAY_NAMES_SHORT),this.getTranslation(Bn.DAY_NAMES));break;case"o":m=v("o");break;case"m":d=v("m");break;case"M":d=R("M",this.getTranslation(Bn.MONTH_NAMES_SHORT),this.getTranslation(Bn.MONTH_NAMES));break;case"y":l=v("y");break;case"@":_=new Date(v("@")),l=_.getFullYear(),d=_.getMonth()+1,h=_.getDate();break;case"!":_=new Date((v("!")-this.ticksTo1970)/1e4),l=_.getFullYear(),d=_.getMonth()+1,h=_.getDate();break;case"'":b("'")?P():p=!0;break;default:P()}if(a<e.length&&(o=e.substr(a),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(l===-1?l=new Date().getFullYear():l<100&&(l+=new Date().getFullYear()-new Date().getFullYear()%100+(l<=c?0:-100)),m>-1){d=1,h=m;do{if(s=this.getDaysCountInMonth(l,d-1),h<=s)break;d++,h-=s}while(!0)}if(this.view==="year"&&(d=d===-1?1:d,h=h===-1?1:h),_=this.daylightSavingAdjust(new Date(l,d-1,h)),_.getFullYear()!==l||_.getMonth()+1!==d||_.getDate()!==h)throw"Invalid date";return _}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&this.inputFieldValue!=""}isValidDateForTimeConstraints(e){return this.keepInvalid?!0:(!this.minDate||e>=this.minDate)&&(!this.maxDate||e<=this.maxDate)}onTodayButtonClick(e){let i=new Date,r={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.createMonths(i.getMonth(),i.getFullYear()),this.onDateSelect(e,r),this.onTodayClick.emit(i)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",this.renderer.appendChild(this.document.body,this.responsiveStyleElement));let e="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(r=>!!(r.breakpoint&&r.numMonths)).sort((r,s)=>-1*r.breakpoint.localeCompare(s.breakpoint,void 0,{numeric:!0}));for(let r=0;r<i.length;r++){let{breakpoint:s,numMonths:o}=i[r],a=`
                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${o}) .p-datepicker-next {
                            display: inline-flex !important;
                        }
                    `;for(let c=o;c<this.numberOfMonths;c++)a+=`
                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${c+1}) {
                                display: none !important;
                            }
                        `;e+=`
                        @media screen and (max-width: ${s}) {
                            ${a}
                        }
                    `}}this.responsiveStyleElement.innerHTML=e,st.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce)}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(e,"mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new c_(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return st.hasClass(e.target,"p-datepicker-prev")||st.hasClass(e.target,"p-datepicker-prev-icon")||st.hasClass(e.target,"p-datepicker-next")||st.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!st.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Th.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}static \u0275fac=function(i){return new(i||n)(N(bt),N(wt),N(on),N(Ni),N(mt),N(o_),N(D2))};static \u0275cmp=Z({type:n,selectors:[["p-calendar"]],contentQueries:function(i,r,s){if(i&1&&pi(s,a_,4),i&2){let o;Qt(o=Xt())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ri(i7,5),Ri(n7,5),Ri(r7,5)),i&2){let s;Qt(s=Xt())&&(r.containerViewChild=s.first),Qt(s=Xt())&&(r.inputfieldViewChild=s.first),Qt(s=Xt())&&(r.content=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,r){i&2&&Ae("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focus)("p-calendar-clearable",r.showClear&&!r.disabled)},inputs:{iconDisplay:"iconDisplay",style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",iconAriaLabel:"iconAriaLabel",disabled:[2,"disabled","disabled",ct],dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:[2,"inline","inline",ct],showOtherMonths:[2,"showOtherMonths","showOtherMonths",ct],selectOtherMonths:[2,"selectOtherMonths","selectOtherMonths",ct],showIcon:[2,"showIcon","showIcon",ct],icon:"icon",appendTo:"appendTo",readonlyInput:[2,"readonlyInput","readonlyInput",ct],shortYearCutoff:"shortYearCutoff",monthNavigator:[2,"monthNavigator","monthNavigator",ct],yearNavigator:[2,"yearNavigator","yearNavigator",ct],hourFormat:"hourFormat",timeOnly:[2,"timeOnly","timeOnly",ct],stepYearPicker:[2,"stepYearPicker","stepYearPicker",In],stepHour:[2,"stepHour","stepHour",In],stepMinute:[2,"stepMinute","stepMinute",In],stepSecond:[2,"stepSecond","stepSecond",In],showSeconds:[2,"showSeconds","showSeconds",ct],required:[2,"required","required",ct],showOnFocus:[2,"showOnFocus","showOnFocus",ct],showWeek:[2,"showWeek","showWeek",ct],startWeekFromFirstDayOfYear:"startWeekFromFirstDayOfYear",showClear:[2,"showClear","showClear",ct],dataType:"dataType",selectionMode:"selectionMode",maxDateCount:[2,"maxDateCount","maxDateCount",In],showButtonBar:[2,"showButtonBar","showButtonBar",ct],todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autofocus:[2,"autofocus","autofocus",ct],autoZIndex:[2,"autoZIndex","autoZIndex",ct],baseZIndex:[2,"baseZIndex","baseZIndex",In],panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:[2,"keepInvalid","keepInvalid",ct],hideOnDateTimeSelect:[2,"hideOnDateTimeSelect","hideOnDateTimeSelect",ct],touchUI:[2,"touchUI","touchUI",ct],timeSeparator:"timeSeparator",focusTrap:[2,"focusTrap","focusTrap",ct],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:[2,"tabindex","tabindex",In],variant:"variant",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale",view:"view",defaultDate:"defaultDate"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[Zt([$W]),ae],ngContentSelectors:o7,decls:4,vars:12,consts:[["container",""],["inputfield",""],["contentWrapper",""],[3,"ngClass","ngStyle"],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","role","combobox","aria-autocomplete","none","aria-haspopup","dialog","autocomplete","off","pAutoFocus","",3,"focus","keydown","click","blur","input","value","readonly","ngStyle","placeholder","disabled","ngClass","autofocus"],[4,"ngIf"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","class","p-datepicker-trigger p-button-icon-only","tabindex","0",3,"disabled","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-calendar-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-calendar-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger","p-button-icon-only",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","click",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","ngClass"],[3,"click","ngStyle","ngClass"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[3,"styleClass",4,"ngIf"],["class","p-datepicker-next-icon",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],["class","p-datepicker-prev-icon",4,"ngIf"],[3,"styleClass"],[1,"p-datepicker-prev-icon"],["type","button",1,"p-datepicker-month","p-link",3,"click","keydown","disabled"],["type","button",1,"p-datepicker-year","p-link",3,"click","keydown","disabled"],[1,"p-datepicker-decade"],[1,"p-datepicker-next-icon"],[1,"p-datepicker-calendar-container"],["role","grid",1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],["draggable","false","pRipple","",3,"click","keydown","ngClass"],["class","p-hidden-accessible","aria-live","polite",4,"ngIf"],["aria-live","polite",1,"p-hidden-accessible"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"click","keydown","ngClass"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"click","keydown","ngClass"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"keydown","click","label","ngClass"]],template:function(i,r){i&1&&(Ue(s7),y(0,"span",3,0),K(2,T7,5,22,"ng-template",4)(3,WW,9,32,"div",5),w()),i&2&&(we(r.styleClass),B("ngClass",GI(6,a7,r.showIcon&&r.iconDisplay==="input",r.showIcon&&r.iconDisplay==="button",r.timeOnly,r.disabled,r.focus||r.overlayVisible))("ngStyle",r.style),T(2),B("ngIf",!r.inline),T(),B("ngIf",r.inline||r.overlayVisible))},dependencies:()=>[$m,qm,je,$l,Ma,F2,d_,XC,ZC,JC,t1,e1,i1,l_],styles:[`@layer primeng{.p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%;text-overflow:ellipsis}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-datepicker-icon{pointer-events:none}.p-calendar-clearable{position:relative}}
`],encapsulation:2,data:{animation:[Ym("overlayAnimation",[ql("visibleTouchUI",kn({transform:"translate(-50%,-50%)",opacity:1})),as("void => visible",[kn({opacity:0,transform:"scaleY(0.8)"}),os("{{showTransitionParams}}",kn({opacity:1,transform:"*"}))]),as("visible => void",[os("{{hideTransitionParams}}",kn({opacity:0}))]),as("void => visibleTouchUI",[kn({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),os("{{showTransitionParams}}")]),as("visibleTouchUI => void",[os("{{hideTransitionParams}}",kn({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0})}return n})(),B2=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=yt({type:n});static \u0275inj=vt({imports:[Yt,QC,Ah,O2,XC,ZC,JC,t1,e1,i1,M2,QC,Ah]})}return n})();var U2=(()=>{let t=class t{constructor(){this.dateChange=new Tt,this.minDate=new Date,this.minDate.setHours(0,0,0,0)}onDateChange(i){this.date=i,this.dateChange.emit(this.date)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["app-calendario"]],outputs:{dateChange:"dateChange"},standalone:!0,features:[J],decls:5,vars:2,consts:[[1,"text-center","form-group","mb-4"],[1,"card","flex","justify-content-center",2,"background-color","black"],[3,"ngModelChange","onSelect","ngModel","minDate"]],template:function(r,s){r&1&&(y(0,"p"),S(1,"Escoge una fecha presionando en el boton blanco:"),w(),y(2,"div",0)(3,"div",1)(4,"p-calendar",2),Oi("ngModelChange",function(a){return Pi(s.date,a)||(s.date=a),a}),et("onSelect",function(a){return s.onDateChange(a)}),w()()()),r&2&&(T(4),Mi("ngModel",s.date),B("minDate",s.minDate))},dependencies:[wi,gn,qo,B2,s1],styles:["p-calendar[_ngcontent-%COMP%]{background-color:#636b73}"]});let n=t;return n})();var ll=(()=>{let t=class t{show(){this.loadingSubject.next(!0)}hide(){this.loadingSubject.next(!1)}constructor(){this.loadingSubject=new Ve(!1),this.loading$=this.loadingSubject.asObservable()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function GW(n,t){if(n&1&&(y(0,"option",9),S(1),w()),n&2){let e=t.$implicit,i=F();B("value",e)("disabled",i.horasDeshabilitadas.includes(e)),T(),_t(" ",e,":00 ")}}function KW(n,t){n&1&&(y(0,"div",12),U(1,"div",13),w())}var j2=(()=>{let t=class t{constructor(i,r,s,o,a,c,l){this.clientesService=i,this.snackBar=r,this.registroService=s,this.authService=o,this.spinnerService=a,this.http=c,this.router=l,this.uid=null,this.horaSeleccionada=0,this.horasDisponibles=[9,10,11,12,13,14,15,16,17,18,19,20],this.pastAppointments=[],this.upcomingAppointments=[],this.horasDeshabilitadas=[],this.loading$=this.spinnerService.loading$}ngOnInit(){this.authService.getUid().subscribe(i=>{i?(this.uid=i,this.cliente.uid=this.uid,console.log("User UID:",this.uid)):console.log("No user is currently logged in.")}),this.cliente=this.clientesService.nuevoCliente(),this.pastAppointments=this.generatePastAppointmentsReport(),this.upcomingAppointments=this.generateUpcomingAppointmentsReport()}nuevoCliente(){return E(this,null,function*(){this.spinnerService.show();try{this.cliente.animal=this.animal,this.cliente.hora=this.horaSeleccionada;let i=yield this.registroService.addRegistro(this.cliente);this.sendEmail(this.cliente),this.spinnerService.hide(),this.snackBar.open("Cliente agregado con \xE9xito","Cerrar",{duration:5e3}),this.cliente=this.clientesService.nuevoCliente(),setTimeout(()=>this.router.navigate(["/animales"])),this.spinnerService.hide()}catch{this.snackBar.open("Error al agregar el cliente","Cerrar",{duration:5e3})}})}sendEmail(i){let r={subject:"Nueva Cita Registrada",email:i.email,description:`Se ha registrado una nueva cita para ${i.nombre} ${i.apellido} con la fecha ${i.fecha} a las ${i.hora}:00 horas.`};this.http.post("http://localhost:3000/send-email",r).subscribe({next:s=>{console.log("Email enviado",s)},error:s=>{console.error("Error al enviar el correo",s)}})}onDateChange(i){if(i){this.horasDeshabilitadas=[];let r=Hm(i,"yyyy-MM-dd","en-US");this.registroService.getRegistrosByFecha(r).subscribe(s=>{s.forEach(o=>{let a=parseInt(o.hora,10);this.horasDeshabilitadas.push(a)}),this.cliente.fecha=r})}}generatePastAppointmentsReport(){let i=Hm(new Date,"yyyy-MM-dd","en-US");return JSON.parse(localStorage.getItem("data")||"[]").filter(o=>o.fecha<i)}generateUpcomingAppointmentsReport(){let i=Hm(new Date,"yyyy-MM-dd","en-US");return JSON.parse(localStorage.getItem("data")||"[]").filter(o=>o.fecha>=i)}};t.\u0275fac=function(r){return new(r||t)(N(Ug),N($g),N(i_),N(vn),N(ll),N(Xl),N(De))},t.\u0275cmp=Z({type:t,selectors:[["app-alta-cliente"]],inputs:{animal:"animal"},standalone:!0,features:[J],decls:34,vars:9,consts:[["clienteForm","ngForm"],["id","container"],[3,"ngSubmit"],["type","text","name","nombre","required","",1,"form-control","bg-secondary","text-white",3,"ngModelChange","ngModel"],["type","text","name","apellido","required","",1,"form-control","bg-secondary","text-white",3,"ngModelChange","ngModel"],["type","text","name","telefono","required","",1,"form-control","bg-secondary","text-white",3,"ngModelChange","ngModel"],["type","text","name","email","required","",1,"form-control","bg-secondary","text-white",3,"ngModelChange","ngModel"],[3,"dateChange"],["name","hora",1,"form-control","bg-secondary","text-white",3,"ngModelChange","ngModel"],[3,"value","disabled"],["type","submit",1,"btn","btn-primary","bg-dark",3,"disabled"],["class","loading-overlay",4,"ngIf"],[1,"loading-overlay"],[1,"spinner"]],template:function(r,s){if(r&1){let o=It();y(0,"div",1)(1,"h2"),S(2,"Alta clientes"),w(),y(3,"form",2,0),et("ngSubmit",function(){return $(o),q(s.nuevoCliente())}),y(5,"p")(6,"span"),S(7,"Nombre:"),w(),y(8,"input",3),Oi("ngModelChange",function(c){return $(o),Pi(s.cliente.nombre,c)||(s.cliente.nombre=c),q(c)}),w()(),y(9,"p")(10,"span"),S(11,"Apellido:"),w(),y(12,"input",4),Oi("ngModelChange",function(c){return $(o),Pi(s.cliente.apellido,c)||(s.cliente.apellido=c),q(c)}),w()(),y(13,"p")(14,"span"),S(15,"Tel\xE9fono:"),w(),y(16,"input",5),Oi("ngModelChange",function(c){return $(o),Pi(s.cliente.telefono,c)||(s.cliente.telefono=c),q(c)}),w()(),y(17,"p")(18,"span"),S(19,"Correo:"),w(),y(20,"input",6),Oi("ngModelChange",function(c){return $(o),Pi(s.cliente.email,c)||(s.cliente.email=c),q(c)}),w()(),y(21,"p")(22,"app-calendario",7),et("dateChange",function(c){return $(o),q(s.onDateChange(c))}),w()(),y(23,"p")(24,"span"),S(25,"Selecciona una hora:"),w(),y(26,"select",8),Oi("ngModelChange",function(c){return $(o),Pi(s.horaSeleccionada,c)||(s.horaSeleccionada=c),q(c)}),Lm(27,GW,2,3,"option",9,Fm),w()(),y(29,"p")(30,"button",10),S(31,"Guardar"),w()()(),K(32,KW,2,0,"div",11),$n(33,"async"),w()}if(r&2){let o=yr(4);T(8),Mi("ngModel",s.cliente.nombre),T(4),Mi("ngModel",s.cliente.apellido),T(4),Mi("ngModel",s.cliente.telefono),T(4),Mi("ngModel",s.cliente.email),T(6),Mi("ngModel",s.horaSeleccionada),T(),Vm(s.horasDisponibles),T(3),B("disabled",!o.valid),T(2),B("ngIf",ss(33,7,s.loading$))}},dependencies:[wi,or,LR,BR,pn,fg,gn,sr,Vr,qo,oh,U2,Ns,Yt,je,Pa],styles:[".loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.spinner[_ngcontent-%COMP%]{border:16px solid #f3f3f3;border-top:16px solid #3498db;border-radius:50%;width:120px;height:120px;animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.blurred-content[_ngcontent-%COMP%]{filter:blur(5px);pointer-events:none}"]});let n=t;return n})();var YW=()=>["/animales"];function QW(n,t){n&1&&U(0,"img",4)}function XW(n,t){n&1&&U(0,"img",5)}var z2=(()=>{let t=class t{constructor(i,r){this.animalService=i,this.activatedRoute=r,this.activatedRoute.params.subscribe(s=>{this.animal=i.getUnAnimal(s.id)})}};t.\u0275fac=function(r){return new(r||t)(N(e_),N(ln))},t.\u0275cmp=Z({type:t,selectors:[["app-unanimal"]],standalone:!0,features:[J],decls:27,vars:11,consts:[[1,"animate__animated","animate__bounce"],[1,"row","animated","fadeIn","fast"],[1,"col","md-4","text-center"],["width","300px","alt","",1,"img-fluid",3,"src"],["src","assets/img/perro.jpg","width","100px"],["src","assets/img/gato.jpg","width","100px"],[1,"btn","btn-outline-danger","btn-block",3,"routerLink"],[1,"col","md-8"],[3,"animal"]],template:function(r,s){r&1&&(y(0,"h1",0),S(1),w(),U(2,"hr"),y(3,"div",1)(4,"div",2),U(5,"img",3)(6,"br")(7,"br"),K(8,QW,1,0,"img",4)(9,XW,1,0,"img",5),U(10,"br")(11,"br"),y(12,"a",6),S(13,"Regresar"),w()(),y(14,"div",7)(15,"h3"),S(16),w(),U(17,"hr"),y(18,"p"),S(19),w(),y(20,"p"),S(21),w(),y(22,"p"),S(23),w(),y(24,"p"),S(25),w()()(),U(26,"app-alta-cliente",8)),r&2&&(T(),me(s.animal.raza),T(4),$I("src",s.animal.img,Sa),T(3),fi(s.animal.tipo=="Perro"?8:9),T(4),B("routerLink",qI(10,YW)),T(4),me(s.animal.raza),T(3),_t(" Es ",s.animal.comportamiento," "),T(2),_t(" ",s.animal.tiempo," "),T(2),_t(" Color: ",s.animal.color," "),T(2),_t(" Edad: ",s.animal.edad," a\xF1os "),T(),B("animal",s.animal))},dependencies:[qa,ms,j2]});let n=t;return n})();var ZW=["userForm"];function JW(n,t){n&1&&(y(0,"div",22),U(1,"div",23),w())}function t$(n,t){if(n&1){let e=It();y(0,"div",24),S(1," Las contrase\xF1as no coinciden. Por favor, int\xE9ntalo de nuevo. "),y(2,"button",25),et("click",function(){$(e);let r=F();return q(r.closeAlerts())}),S(3,"\xD7"),w()()}}function e$(n,t){if(n&1){let e=It();y(0,"div",24),S(1," Ha ocurrido un error al registrar el usuario. Por favor, int\xE9ntalo m\xE1s tarde. "),y(2,"button",25),et("click",function(){$(e);let r=F();return q(r.closeAlerts())}),S(3,"\xD7"),w()()}}function i$(n,t){if(n&1){let e=It();y(0,"div",26),S(1," \xA1Usuario creado exitosamente! "),y(2,"button",25),et("click",function(){$(e);let r=F();return q(r.closeAlerts())}),S(3,"\xD7"),w()()}}var H2=(()=>{let t=class t{constructor(i,r,s){this.authService=i,this.router=r,this.spinnerService=s,this.name="",this.apellido="",this.email="",this.account="",this.password="",this.confirmPassword="",this.showPasswordMismatchAlert=!1,this.showFirebaseErrorAlert=!1,this.showSignUpSuccessAlert=!1,this.loading$=this.spinnerService.loading$}signUp(){if(this.spinnerService.show(),this.password!==this.confirmPassword){this.showPasswordMismatchAlert=!0;return}this.authService.signUp(this.email,this.password).subscribe({next:()=>{this.showSignUpSuccessAlert=!0,this.userForm.resetForm(),this.name="",this.apellido="",this.email="",this.account="",this.password="",this.confirmPassword="",setTimeout(()=>{this.spinnerService.hide(),this.router.navigate(["/login-email"])},3e3)},error:i=>{this.spinnerService.hide(),this.showFirebaseErrorAlert=!0,console.error("Error signing up:",i)}})}closeAlerts(){this.showPasswordMismatchAlert=!1,this.showFirebaseErrorAlert=!1,this.showSignUpSuccessAlert=!1}updateAccountFromEmail(){let i=this.email.split("@");i.length>0?this.account=i[0]:this.account=this.email}};t.\u0275fac=function(r){return new(r||t)(N(vn),N(De),N(ll))},t.\u0275cmp=Z({type:t,selectors:[["app-create-user"]],viewQuery:function(r,s){if(r&1&&Ri(ZW,5),r&2){let o;Qt(o=Xt())&&(s.userForm=o.first)}},standalone:!0,features:[J],decls:39,vars:12,consts:[["userForm","ngForm"],[1,"container"],[3,"ngSubmit"],[1,"parts"],[1,"part1"],["for","name"],["type","text","id","name","name","name","autofocus","","required","",1,"p-inputtext",3,"ngModelChange","ngModel"],["for","apellido"],["type","text","id","apellido","name","apellido","autofocus","","required","",1,"p-inputtext",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","autofocus","","required","",1,"p-inputtext",3,"ngModelChange","keyup","change","ngModel"],[1,"part2"],["for","account"],["disabled","","type","text","id","account","name","account","autofocus","","required","",1,"p-inputtext",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",1,"p-inputtext",3,"ngModelChange","ngModel"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","required","",1,"p-inputtext",3,"ngModelChange","ngModel"],["type","submit",1,"p-button","p-button-success"],["class","loading-overlay",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"loading-overlay"],[1,"spinner"],[1,"alert","alert-danger"],[1,"close",3,"click"],[1,"alert","alert-success"]],template:function(r,s){if(r&1){let o=It();y(0,"div",1)(1,"h2"),S(2,"Crear Usuario"),w(),y(3,"form",2,0),et("ngSubmit",function(){return $(o),q(s.signUp())}),y(5,"div",3)(6,"div",4)(7,"div")(8,"label",5),S(9,"Nombre (s)"),w(),y(10,"input",6),Oi("ngModelChange",function(c){return $(o),Pi(s.name,c)||(s.name=c),q(c)}),w()(),y(11,"div")(12,"label",7),S(13,"Apellido (s)"),w(),y(14,"input",8),Oi("ngModelChange",function(c){return $(o),Pi(s.apellido,c)||(s.apellido=c),q(c)}),w()(),y(15,"div")(16,"label",9),S(17,"Email"),w(),y(18,"input",10),Oi("ngModelChange",function(c){return $(o),Pi(s.email,c)||(s.email=c),q(c)}),et("keyup",function(){return $(o),q(s.updateAccountFromEmail())})("change",function(){return $(o),q(s.updateAccountFromEmail())}),w()()(),y(19,"div",11)(20,"div")(21,"label",12),S(22,"Cuenta"),w(),y(23,"input",13),Oi("ngModelChange",function(c){return $(o),Pi(s.account,c)||(s.account=c),q(c)}),w()(),y(24,"div")(25,"label",14),S(26,"Contrase\xF1a"),w(),y(27,"input",15),Oi("ngModelChange",function(c){return $(o),Pi(s.password,c)||(s.password=c),q(c)}),w()(),y(28,"div")(29,"label",16),S(30,"Confirmar Contrase\xF1a"),w(),y(31,"input",17),Oi("ngModelChange",function(c){return $(o),Pi(s.confirmPassword,c)||(s.confirmPassword=c),q(c)}),w()()()(),y(32,"button",18),S(33,"Crear Usuario"),w()(),K(34,JW,2,0,"div",19),$n(35,"async"),K(36,t$,4,0,"div",20)(37,e$,4,0,"div",20)(38,i$,4,0,"div",21),w()}r&2&&(T(10),Mi("ngModel",s.name),T(4),Mi("ngModel",s.apellido),T(4),Mi("ngModel",s.email),T(5),Mi("ngModel",s.account),T(4),Mi("ngModel",s.password),T(4),Mi("ngModel",s.confirmPassword),T(3),B("ngIf",ss(35,10,s.loading$)),T(2),B("ngIf",s.showPasswordMismatchAlert),T(),B("ngIf",s.showFirebaseErrorAlert),T(),B("ngIf",s.showSignUpSuccessAlert))},dependencies:[wi,or,pn,gn,sr,Vr,qo,oh,Yt,je,Pa],styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:30px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}.part2[_ngcontent-%COMP%]{padding-left:50px}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:15px;border:1px solid #ccc;border-radius:4px}button[type=submit][_ngcontent-%COMP%]{background-color:#18708c;color:#fff;padding:10px 20px;border:none;border-radius:4px;cursor:pointer;text-align:center;width:100%}.alert[_ngcontent-%COMP%]{margin-top:15px;padding:10px;border-radius:4px}.mat-error[_ngcontent-%COMP%]{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}.mat-success[_ngcontent-%COMP%]{color:#155724;background-color:#d4edda;border-color:#c3e6cb}.middle[_ngcontent-%COMP%]{padding:15px}.parts[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.spinner[_ngcontent-%COMP%]{border:16px solid #f3f3f3;border-top:16px solid #3498db;border-radius:50%;width:120px;height:120px;animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.blurred-content[_ngcontent-%COMP%]{filter:blur(5px);pointer-events:none}"]});let n=t;return n})();function n$(n,t){n&1&&(y(0,"div",11),U(1,"div",12),w())}function r$(n,t){if(n&1){let e=It();y(0,"div",13),S(1," \xA1Login exitoso! "),y(2,"button",14),et("click",function(){$(e);let r=F();return q(r.closeAlerts())}),S(3,"\xD7"),w()()}}function s$(n,t){if(n&1){let e=It();y(0,"div",15),S(1," Error: Correo o contrase\xF1a incorrectos. "),y(2,"button",14),et("click",function(){$(e);let r=F();return q(r.closeAlerts())}),S(3,"\xD7"),w()()}}function o$(n,t){if(n&1){let e=It();y(0,"div",16),S(1," Ha ocurrido un error. Por favor, int\xE9ntalo m\xE1s tarde. "),y(2,"button",14),et("click",function(){$(e);let r=F();return q(r.closeAlerts())}),S(3,"\xD7"),w()()}}var W2=(()=>{let t=class t{constructor(i,r,s,o){this.fb=i,this.auth=r,this.router=s,this.spinnerService=o,this.showSuccessAlert=!1,this.showErrorAlert=!1,this.showExtraAlert=!1,this.loggeado=!1,this.cuenta="",this.loading$=this.spinnerService.loading$,this.form=this.fb.group({email:["",rr.required],password:["",rr.required]})}onSubmit(){if(this.spinnerService.show(),console.log("Form submitted"),this.form.valid){let{email:i,password:r}=this.form.value,s=i.split("@");this.cuenta=s[0],this.auth.login(i,r).subscribe({next:()=>{this.spinnerService.hide(),console.log("Logged in!"),this.showSuccessAlert=!0,this.loggeado=!0,this.resetForm(),setTimeout(()=>{this.router.navigate(["/login-phone"])},120)},error:o=>{this.spinnerService.hide(),console.error("Error:",o),o.code==="auth/user-not-found"||o.code==="auth/wrong-password"?this.showErrorAlert=!0:this.showExtraAlert=!0}})}}resetForm(){this.form.reset()}closeAlerts(){this.showSuccessAlert=!1,this.showErrorAlert=!1,this.showExtraAlert=!1}};t.\u0275fac=function(r){return new(r||t)(N(Hc),N(vn),N(De),N(ll))},t.\u0275cmp=Z({type:t,selectors:[["app-login-email"]],standalone:!0,features:[J],decls:20,vars:7,consts:[[1,"container"],[3,"ngSubmit","formGroup"],["for","email"],["type","text","id","email","name","correo","required","","autofocus","","formControlName","email"],["for","password"],["type","password","id","password","name","password","required","","formControlName","password"],["type","submit"],["class","loading-overlay",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-error",4,"ngIf"],["class","alert alert-extra",4,"ngIf"],[1,"loading-overlay"],[1,"spinner"],[1,"alert","alert-success"],[1,"close",3,"click"],[1,"alert","alert-error"],[1,"alert","alert-extra"]],template:function(r,s){r&1&&(y(0,"div",0)(1,"h1"),S(2,"Email"),w(),y(3,"form",1),et("ngSubmit",function(){return s.onSubmit()}),y(4,"fieldset")(5,"label",2),S(6,"Email"),w(),U(7,"input",3),w(),y(8,"fieldset")(9,"label",4),S(10,"Contrase\xF1a"),w(),U(11,"input",5),w(),y(12,"fieldset")(13,"button",6),S(14,"Login"),w()()(),K(15,n$,2,0,"div",7),$n(16,"async"),K(17,r$,4,0,"div",8)(18,s$,4,0,"div",9)(19,o$,4,0,"div",10),w()),r&2&&(T(3),B("formGroup",s.form),T(12),B("ngIf",ss(16,5,s.loading$)),T(2),B("ngIf",s.showSuccessAlert),T(),B("ngIf",s.showErrorAlert),T(),B("ngIf",s.showExtraAlert))},dependencies:[wi,or,pn,gn,sr,Vr,Ns,Go,Ko,Yt,je,Pa],styles:["h1[_ngcontent-%COMP%]{text-align:center;color:#18708c}.container[_ngcontent-%COMP%]{max-width:400px;margin:30px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9;box-shadow:0 0 10px #0000001a}fieldset[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#333}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:4px}button[type=submit][_ngcontent-%COMP%]{background-color:#18708c;color:#fff;padding:10px 20px;border:none;border-radius:4px;cursor:pointer;width:100%}.alert[_ngcontent-%COMP%]{margin-top:15px;padding:10px;border-radius:4px;text-align:center;font-weight:700}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.alert-error[_ngcontent-%COMP%]{background-color:#721c24;color:#fff;border:1px solid #f5c6cb}.alert-extra[_ngcontent-%COMP%]{background-color:#721c24;color:#fff;border:1px solid #ccc}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.spinner[_ngcontent-%COMP%]{border:16px solid #f3f3f3;border-top:16px solid #3498db;border-radius:50%;width:120px;height:120px;animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.blurred-content[_ngcontent-%COMP%]{filter:blur(5px);pointer-events:none}"]});let n=t;return n})();function a$(n,t){if(n&1){let e=It();y(0,"div",10),S(1," !Verficacion exitosa! "),y(2,"button",11),et("click",function(){$(e);let r=F();return q(r.closeAlerts())}),S(3,"\xD7"),w()()}}function c$(n,t){if(n&1){let e=It();y(0,"div",12),S(1," Error: No se ha podido enviar el mensaje. "),y(2,"button",11),et("click",function(){$(e);let r=F();return q(r.closeAlerts())}),S(3,"\xD7"),w()()}}var $2=(()=>{let t=class t{constructor(i,r,s,o){this.fb=i,this.auth=r,this.router=s,this.ngZone=o,this.showSuccessAlert=!1,this.showErrorAlert=!1,this.verificationCode="",this.confirmationResult=null,this.form=this.fb.group({phone:["",rr.required]})}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.recaptchaVerifier=new xs(up(),"recaptcha-container",{size:"normal",callback:i=>i}),console.log("RecaptchaVerifier created"),this.recaptchaVerifier.render().then(i=>{console.log("ReCAPTCHA rendered, widgetId is",i)})})}onSubmit(){if(console.log("Form submitted"),this.form.valid){let i=this.form.getRawValue();this.auth.loginWithSms(i.phone,this.recaptchaVerifier).subscribe({next:r=>{console.log("Message sent!"),this.confirmationResult=r},error:r=>{console.error("Error sending message:",r)}})}}verifyOTP(){this.confirmationResult?this.auth.verifyOTP(this.verificationCode,this.confirmationResult).then(i=>{console.log("User signed in successfully!")}).catch(i=>{console.error("Error verifying OTP:",i),this.showErrorAlert=!0}):(console.log("Logged in!"),this.showSuccessAlert=!0,this.resetForm(),setTimeout(()=>{this.router.navigateByUrl("/home")},3e3))}resetForm(){this.form.reset()}closeAlerts(){this.showSuccessAlert=!1,this.showErrorAlert=!1}};t.\u0275fac=function(r){return new(r||t)(N(Hc),N(vn),N(De),N(mt))},t.\u0275cmp=Z({type:t,selectors:[["app-login-phone"]],standalone:!0,features:[J],decls:21,vars:4,consts:[[1,"container"],[3,"ngSubmit","formGroup"],["for","phone"],["type","text","id","phone","formControlName","phone","required",""],["id","recaptcha-container"],["type","submit"],["for","verificationCode"],["type","text","id","verificationCode","formControlName","verificationCode","required",""],["class","alert alert-success",4,"ngIf"],["class","alert alert-error",4,"ngIf"],[1,"alert","alert-success"],[1,"close",3,"click"],[1,"alert","alert-error"]],template:function(r,s){r&1&&(y(0,"div",0)(1,"h1"),S(2,"Phone"),w(),y(3,"form",1),et("ngSubmit",function(){return s.onSubmit()}),y(4,"fieldset")(5,"label",2),S(6,"Phone Number:"),w(),U(7,"input",3),w(),U(8,"div",4),y(9,"button",5),S(10,"Send"),w()(),U(11,"br"),y(12,"form",1),et("ngSubmit",function(){return s.verifyOTP()}),y(13,"fieldset")(14,"label",6),S(15,"Verification Code:"),w(),U(16,"input",7),w(),y(17,"button",5),S(18,"Verify OTP"),w()(),K(19,a$,4,0,"div",8)(20,c$,4,0,"div",9),w()),r&2&&(T(3),B("formGroup",s.form),T(9),B("formGroup",s.form),T(7),B("ngIf",s.showSuccessAlert),T(),B("ngIf",s.showErrorAlert))},dependencies:[Ns,or,pn,gn,sr,Vr,Go,Ko,wi,Yt,je],styles:[".container[_ngcontent-%COMP%]{max-width:400px;margin:30px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}#recaptcha-container[_ngcontent-%COMP%]{margin-left:25px}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:calc(100% - 22px);padding:10px;margin:5px 0 15px;border:1px solid #ccc;border-radius:4px}button[type=submit][_ngcontent-%COMP%]{background-color:#18708c;width:100%;color:#fff;padding:10px 20px;border:none;border-radius:4px;cursor:pointer;margin-top:10px}.alert[_ngcontent-%COMP%]{margin-top:15px;padding:10px;border-radius:4px}.alert-danger[_ngcontent-%COMP%]{color:#721c24;background-color:#f8d7da;border:1px solid #f5c6cb}.alert-success[_ngcontent-%COMP%]{color:#155724;background-color:#d4edda;border:1px solid #c3e6cb}"]});let n=t;return n})();function l$(n,t){if(n&1){let e=It();y(0,"div",4)(1,"p"),S(2,"Selecciona m\xE9todo de login:"),w(),y(3,"button",2),et("click",function(){$(e);let r=F();return q(r.redirectToLoginEmail())}),S(4,"Correo"),w(),y(5,"button",2),et("click",function(){$(e);let r=F();return q(r.redirectToLoginPhone())}),S(6,"SMS"),w()()}}var q2=(()=>{let t=class t{constructor(i){this.router=i,this.mostrarOpcionesLogin=!1}redirectToCreateUser(){this.router.navigate(["/create-user"])}redirectToLoginEmail(){this.router.navigate(["/login-email"])}redirectToLoginPhone(){this.router.navigate(["/login-phone"])}mostrarOpciones(){this.mostrarOpcionesLogin=!this.mostrarOpcionesLogin}};t.\u0275fac=function(r){return new(r||t)(N(De))},t.\u0275cmp=Z({type:t,selectors:[["app-register"]],standalone:!0,features:[J],decls:11,vars:1,consts:[[1,"perrito"],[1,"container"],[1,"button",3,"click"],["class","opciones-login",4,"ngIf"],[1,"opciones-login"]],template:function(r,s){r&1&&(y(0,"div",0)(1,"div",1)(2,"h1"),S(3,"Bienvenido"),w(),y(4,"p"),S(5,"Selecciona una opci\xF3n:"),w(),y(6,"button",2),et("click",function(){return s.redirectToCreateUser()}),S(7,"Registrar"),w(),y(8,"button",2),et("click",function(){return s.redirectToLoginEmail()}),S(9,"Login"),w(),K(10,l$,7,0,"div",3),w()()),r&2&&(T(10),B("ngIf",s.mostrarOpcionesLogin))},dependencies:[Yt,je],styles:['.perrito[_ngcontent-%COMP%]{background-image:url("./media/perrito-EADSE4QJ.jpg");background-size:cover;background-position:center;background-attachment:fixed;min-height:80vh;display:flex;justify-content:center;align-items:center;padding:20px}.container[_ngcontent-%COMP%]{max-width:400px;width:100%;padding:20px;background-color:#fffc;border-radius:8px;box-shadow:0 0 20px #0003;text-align:center}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#18708c}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px}.button[_ngcontent-%COMP%]{background-color:#18708c;color:#fff;padding:12px 24px;border:none;border-radius:4px;cursor:pointer;margin:10px}.opciones-login[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.opciones-login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}']});let n=t;return n})();function Mh(n){return n+.5|0}var zs=(n,t,e)=>Math.max(Math.min(n,e),t);function Dh(n){return zs(Mh(n*2.55),0,255)}function Hs(n){return zs(Mh(n*255),0,255)}function jr(n){return zs(Mh(n/2.55)/100,0,1)}function G2(n){return zs(Mh(n*100),0,100)}var yn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},c1=[..."0123456789ABCDEF"],d$=n=>c1[n&15],u$=n=>c1[(n&240)>>4]+c1[n&15],u_=n=>(n&240)>>4===(n&15),h$=n=>u_(n.r)&&u_(n.g)&&u_(n.b)&&u_(n.a);function m$(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&yn[n[1]]*17,g:255&yn[n[2]]*17,b:255&yn[n[3]]*17,a:t===5?yn[n[4]]*17:255}:(t===7||t===9)&&(e={r:yn[n[1]]<<4|yn[n[2]],g:yn[n[3]]<<4|yn[n[4]],b:yn[n[5]]<<4|yn[n[6]],a:t===9?yn[n[7]]<<4|yn[n[8]]:255})),e}var f$=(n,t)=>n<255?t(n):"";function p$(n){var t=h$(n)?d$:u$;return n?"#"+t(n.r)+t(n.g)+t(n.b)+f$(n.a,t):void 0}var g$=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function X2(n,t,e){let i=t*Math.min(e,1-e),r=(s,o=(s+n/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function _$(n,t,e){let i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function b$(n,t,e){let i=X2(n,1,.5),r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function v$(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function l1(n){let e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),o=Math.min(e,i,r),a=(s+o)/2,c,l,d;return s!==o&&(d=s-o,l=a>.5?d/(2-s-o):d/(s+o),c=v$(e,i,r,d,s),c=c*60+.5),[c|0,l||0,a]}function d1(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Hs)}function u1(n,t,e){return d1(X2,n,t,e)}function y$(n,t,e){return d1(b$,n,t,e)}function w$(n,t,e){return d1(_$,n,t,e)}function Z2(n){return(n%360+360)%360}function x$(n){let t=g$.exec(n),e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Dh(+t[5]):Hs(+t[5]));let r=Z2(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=y$(r,s,o):t[1]==="hsv"?i=w$(r,s,o):i=u1(r,s,o),{r:i[0],g:i[1],b:i[2],a:e}}function C$(n,t){var e=l1(n);e[0]=Z2(e[0]+t),e=u1(e),n.r=e[0],n.g=e[1],n.b=e[2]}function E$(n){if(!n)return;let t=l1(n),e=t[0],i=G2(t[1]),r=G2(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${jr(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}var K2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Y2={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function I$(){let n={},t=Object.keys(Y2),e=Object.keys(K2),i,r,s,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],r=0;r<e.length;r++)s=e[r],a=a.replace(s,K2[s]);s=parseInt(Y2[o],16),n[a]=[s>>16&255,s>>8&255,s&255]}return n}var h_;function k$(n){h_||(h_=I$(),h_.transparent=[0,0,0,0]);let t=h_[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var S$=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function T$(n){let t=S$.exec(n),e=255,i,r,s;if(t){if(t[7]!==i){let o=+t[7];e=t[8]?Dh(o):zs(o*255,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?Dh(i):zs(i,0,255)),r=255&(t[4]?Dh(r):zs(r,0,255)),s=255&(t[6]?Dh(s):zs(s,0,255)),{r:i,g:r,b:s,a:e}}}function A$(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${jr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var a1=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,dl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function D$(n,t,e){let i=dl(jr(n.r)),r=dl(jr(n.g)),s=dl(jr(n.b));return{r:Hs(a1(i+e*(dl(jr(t.r))-i))),g:Hs(a1(r+e*(dl(jr(t.g))-r))),b:Hs(a1(s+e*(dl(jr(t.b))-s))),a:n.a+e*(t.a-n.a)}}function m_(n,t,e){if(n){let i=l1(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=u1(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function J2(n,t){return n&&Object.assign(t||{},n)}function Q2(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Hs(n[3]))):(t=J2(n,{r:0,g:0,b:0,a:1}),t.a=Hs(t.a)),t}function R$(n){return n.charAt(0)==="r"?T$(n):x$(n)}var Rh=class n{constructor(t){if(t instanceof n)return t;let e=typeof t,i;e==="object"?i=Q2(t):e==="string"&&(i=m$(t)||k$(t)||R$(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=J2(this._rgb);return t&&(t.a=jr(t.a)),t}set rgb(t){this._rgb=Q2(t)}rgbString(){return this._valid?A$(this._rgb):void 0}hexString(){return this._valid?p$(this._rgb):void 0}hslString(){return this._valid?E$(this._rgb):void 0}mix(t,e){if(t){let i=this.rgb,r=t.rgb,s,o=e===s?.5:e,a=2*o-1,c=i.a-r.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;s=1-l,i.r=255&l*i.r+s*r.r+.5,i.g=255&l*i.g+s*r.g+.5,i.b=255&l*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=D$(this._rgb,t._rgb,e)),this}clone(){return new n(this.rgb)}alpha(t){return this._rgb.a=Hs(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=Mh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return m_(this._rgb,2,t),this}darken(t){return m_(this._rgb,2,-t),this}saturate(t){return m_(this._rgb,1,t),this}desaturate(t){return m_(this._rgb,1,-t),this}rotate(t){return C$(this._rgb,t),this}};function zn(){}var p1=(()=>{let n=0;return()=>n++})();function Dt(n){return n===null||typeof n>"u"}function ie(n){if(Array.isArray&&Array.isArray(n))return!0;let t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Mt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ve(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Vi(n,t){return ve(n)?n:t}function Ct(n,t){return typeof n>"u"?t:n}var g1=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,v_=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Ht(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Ut(n,t,e,i){let r,s,o;if(ie(n))if(s=n.length,i)for(r=s-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<s;r++)t.call(e,n[r],r);else if(Mt(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)t.call(e,n[o[r]],o[r])}function ml(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Oh(n){if(ie(n))return n.map(Oh);if(Mt(n)){let t=Object.create(null),e=Object.keys(n),i=e.length,r=0;for(;r<i;++r)t[e[r]]=Oh(n[e[r]]);return t}return n}function lO(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function dO(n,t,e,i){if(!lO(n))return;let r=t[n],s=e[n];Mt(r)&&Mt(s)?nn(r,s,i):t[n]=Oh(s)}function nn(n,t,e){let i=ie(t)?t:[t],r=i.length;if(!Mt(n))return n;e=e||{};let s=e.merger||dO,o;for(let a=0;a<r;++a){if(o=i[a],!Mt(o))continue;let c=Object.keys(o);for(let l=0,d=c.length;l<d;++l)s(c[l],n,o,e)}return n}function aa(n,t){return nn(n,t,{merger:uO})}function uO(n,t,e){if(!lO(n))return;let i=t[n],r=e[n];Mt(i)&&Mt(r)?aa(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Oh(r))}var tO={"":n=>n,x:n=>n.x,y:n=>n.y};function hO(n){let t=n.split("."),e=[],i="";for(let r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function M$(n){let t=hO(n);return e=>{for(let i of t){if(i==="")break;e=e&&e[i]}return e}}function dr(n,t){return(tO[t]||(tO[t]=M$(t)))(n)}function Lh(n){return n.charAt(0).toUpperCase()+n.slice(1)}var ca=n=>typeof n<"u",cr=n=>typeof n=="function",y_=(n,t)=>{if(n.size!==t.size)return!1;for(let e of n)if(!t.has(e))return!1;return!0};function _1(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var ne=Math.PI,re=2*ne,mO=re+ne,Nh=Number.POSITIVE_INFINITY,fO=ne/180,Ie=ne/2,Ws=ne/4,m1=ne*2/3,lr=Math.log10,wn=Math.sign;function la(n,t,e){return Math.abs(n-t)<e}function w_(n){let t=Math.round(n);n=la(n,t,n/1e3)?t:n;let e=Math.pow(10,Math.floor(lr(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function b1(n){let t=[],e=Math.sqrt(n),i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}function qs(n){return!isNaN(parseFloat(n))&&isFinite(n)}function v1(n,t){let e=Math.round(n);return e-t<=n&&e+t>=n}function x_(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function rn(n){return n*(ne/180)}function Vh(n){return n*(180/ne)}function C_(n){if(!ve(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function E_(n,t){let e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i),s=Math.atan2(i,e);return s<-.5*ne&&(s+=re),{angle:s,distance:r}}function Fh(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function pO(n,t){return(n-t+mO)%re-ne}function Li(n){return(n%re+re)%re}function da(n,t,e,i){let r=Li(n),s=Li(t),o=Li(e),a=Li(s-r),c=Li(o-r),l=Li(r-s),d=Li(r-o);return r===s||r===o||i&&s===o||a>c&&l<d}function Qe(n,t,e){return Math.max(t,Math.min(e,n))}function y1(n){return Qe(n,-32768,32767)}function Hn(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Bh(n,t,e){e=e||(o=>n[o]<t);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}var Un=(n,t,e,i)=>Bh(n,e,i?r=>{let s=n[r][t];return s<e||s===e&&n[r+1][t]===e}:r=>n[r][t]<e),w1=(n,t,e)=>Bh(n,e,i=>n[i][t]>=e);function x1(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}var gO=["push","pop","shift","splice","unshift"];function C1(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),gO.forEach(e=>{let i="_onData"+Lh(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){let o=r.apply(this,s);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function I_(n,t){let e=n._chartjs;if(!e)return;let i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(gO.forEach(s=>{delete n[s]}),delete n._chartjs)}function k_(n){let t=new Set(n);return t.size===n.length?n:Array.from(t)}var S_=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function T_(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,S_.call(window,()=>{i=!1,n.apply(t,e)}))}}function E1(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}var Uh=n=>n==="start"?"left":n==="end"?"right":"center",ii=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,I1=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function A_(n,t,e){let i=t.length,r=0,s=i;if(n._sorted){let{iScale:o,_parsed:a}=n,c=o.axis,{min:l,max:d,minDefined:h,maxDefined:m}=o.getUserBounds();h&&(r=Qe(Math.min(Un(a,c,l).lo,e?i:Un(t,c,o.getPixelForValue(l)).lo),0,i-1)),m?s=Qe(Math.max(Un(a,o.axis,d,!0).hi+1,e?0:Un(t,c,o.getPixelForValue(d),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function D_(n){let{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;let s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}var f_=n=>n===0||n===1,eO=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*re/e)),iO=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*re/e)+1,sa={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ie)+1,easeOutSine:n=>Math.sin(n*Ie),easeInOutSine:n=>-.5*(Math.cos(ne*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>f_(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>f_(n)?n:eO(n,.075,.3),easeOutElastic:n=>f_(n)?n:iO(n,.075,.3),easeInOutElastic(n){return f_(n)?n:n<.5?.5*eO(n*2,.1125,.45):.5+.5*iO(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-sa.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?sa.easeInBounce(n*2)*.5:sa.easeOutBounce(n*2-1)*.5+.5};function R_(n){if(n&&typeof n=="object"){let t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function M_(n){return R_(n)?n:new Rh(n)}function __(n){return R_(n)?n:new Rh(n).saturate(.5).darken(.1).hexString()}var P$=["x","y","borderWidth","radius","tension"],O$=["color","borderColor","backgroundColor"];function N$(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:O$},numbers:{type:"number",properties:P$}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function F$(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var nO=new Map;function L$(n,t){t=t||{};let e=n+JSON.stringify(t),i=nO.get(e);return i||(i=new Intl.NumberFormat(n,t),nO.set(e,i)),i}function ua(n,t,e){return L$(t,e).format(n)}var _O={values(n){return ie(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";let i=this.chart.options.locale,r,s=n;if(e.length>1){let l=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(l<1e-4||l>1e15)&&(r="scientific"),s=V$(n,e)}let o=lr(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),ua(n,i,c)},logarithmic(n,t,e){if(n===0)return"0";let i=e[t].significand||n/Math.pow(10,Math.floor(lr(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?_O.numeric.call(this,n,t,e):""}};function V$(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var jh={formatters:_O};function B$(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:jh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var Gs=Object.create(null),P_=Object.create(null);function Ph(n,t){if(!t)return n;let e=t.split(".");for(let i=0,r=e.length;i<r;++i){let s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function h1(n,t,e){return typeof t=="string"?nn(Ph(n,t),e):nn(Ph(n,""),t)}var f1=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>__(r.backgroundColor),this.hoverBorderColor=(i,r)=>__(r.borderColor),this.hoverColor=(i,r)=>__(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return h1(this,t,e)}get(t){return Ph(this,t)}describe(t,e){return h1(P_,t,e)}override(t,e){return h1(Gs,t,e)}route(t,e,i,r){let s=Ph(this,t),o=Ph(this,i),a="_"+e;Object.defineProperties(s,{[a]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){let c=this[a],l=o[r];return Mt(c)?Object.assign({},l,c):Ct(c,l)},set(c){this[a]=c}}})}apply(t){t.forEach(e=>e(this))}},ge=new f1({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[N$,F$,B$]);function bO(n){return!n||Dt(n.size)||Dt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function ul(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function k1(n,t,e,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let o=0,a=e.length,c,l,d,h,m;for(c=0;c<a;c++)if(h=e[c],h!=null&&!ie(h))o=ul(n,r,s,o,h);else if(ie(h))for(l=0,d=h.length;l<d;l++)m=h[l],m!=null&&!ie(m)&&(o=ul(n,r,s,o,m));n.restore();let p=s.length/2;if(p>e.length){for(c=0;c<p;c++)delete r[s[c]];s.splice(0,p)}return o}function Hr(n,t,e){let i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function O_(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function zh(n,t,e,i){N_(n,t,e,i,null)}function N_(n,t,e,i,r){let s,o,a,c,l,d,h,m,p=t.pointStyle,_=t.rotation,b=t.radius,v=(_||0)*fO;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(v),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),n.restore();return}if(!(isNaN(b)||b<=0)){switch(n.beginPath(),p){default:r?n.ellipse(e,i,r/2,b,0,0,re):n.arc(e,i,b,0,re),n.closePath();break;case"triangle":d=r?r/2:b,n.moveTo(e+Math.sin(v)*d,i-Math.cos(v)*b),v+=m1,n.lineTo(e+Math.sin(v)*d,i-Math.cos(v)*b),v+=m1,n.lineTo(e+Math.sin(v)*d,i-Math.cos(v)*b),n.closePath();break;case"rectRounded":l=b*.516,c=b-l,o=Math.cos(v+Ws)*c,h=Math.cos(v+Ws)*(r?r/2-l:c),a=Math.sin(v+Ws)*c,m=Math.sin(v+Ws)*(r?r/2-l:c),n.arc(e-h,i-a,l,v-ne,v-Ie),n.arc(e+m,i-o,l,v-Ie,v),n.arc(e+h,i+a,l,v,v+Ie),n.arc(e-m,i+o,l,v+Ie,v+ne),n.closePath();break;case"rect":if(!_){c=Math.SQRT1_2*b,d=r?r/2:c,n.rect(e-d,i-c,2*d,2*c);break}v+=Ws;case"rectRot":h=Math.cos(v)*(r?r/2:b),o=Math.cos(v)*b,a=Math.sin(v)*b,m=Math.sin(v)*(r?r/2:b),n.moveTo(e-h,i-a),n.lineTo(e+m,i-o),n.lineTo(e+h,i+a),n.lineTo(e-m,i+o),n.closePath();break;case"crossRot":v+=Ws;case"cross":h=Math.cos(v)*(r?r/2:b),o=Math.cos(v)*b,a=Math.sin(v)*b,m=Math.sin(v)*(r?r/2:b),n.moveTo(e-h,i-a),n.lineTo(e+h,i+a),n.moveTo(e+m,i-o),n.lineTo(e-m,i+o);break;case"star":h=Math.cos(v)*(r?r/2:b),o=Math.cos(v)*b,a=Math.sin(v)*b,m=Math.sin(v)*(r?r/2:b),n.moveTo(e-h,i-a),n.lineTo(e+h,i+a),n.moveTo(e+m,i-o),n.lineTo(e-m,i+o),v+=Ws,h=Math.cos(v)*(r?r/2:b),o=Math.cos(v)*b,a=Math.sin(v)*b,m=Math.sin(v)*(r?r/2:b),n.moveTo(e-h,i-a),n.lineTo(e+h,i+a),n.moveTo(e+m,i-o),n.lineTo(e-m,i+o);break;case"line":o=r?r/2:Math.cos(v)*b,a=Math.sin(v)*b,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(v)*(r?r/2:b),i+Math.sin(v)*b);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function jn(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function fl(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function pl(n){n.restore()}function S1(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){let s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function T1(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function U$(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Dt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function j$(n,t,e,i,r){if(r.strikethrough||r.underline){let s=n.measureText(i),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,c=e-s.actualBoundingBoxAscent,l=e+s.actualBoundingBoxDescent,d=r.strikethrough?(c+l)/2:l;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,d),n.lineTo(a,d),n.stroke()}}function z$(n,t){let e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Wr(n,t,e,i,r,s={}){let o=ie(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="",c,l;for(n.save(),n.font=r.string,U$(n,s),c=0;c<o.length;++c)l=o[c],s.backdrop&&z$(n,s.backdrop),a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Dt(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(l,e,i,s.maxWidth)),n.fillText(l,e,i,s.maxWidth),j$(n,e,i,l,s),i+=Number(r.lineHeight);n.restore()}function ha(n,t){let{x:e,y:i,w:r,h:s,radius:o}=t;n.arc(e+o.topLeft,i+o.topLeft,o.topLeft,1.5*ne,ne,!0),n.lineTo(e,i+s-o.bottomLeft),n.arc(e+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,ne,Ie,!0),n.lineTo(e+r-o.bottomRight,i+s),n.arc(e+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Ie,0,!0),n.lineTo(e+r,i+o.topRight),n.arc(e+r-o.topRight,i+o.topRight,o.topRight,0,-Ie,!0),n.lineTo(e+o.topLeft,i)}var H$=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,W$=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function vO(n,t){let e=(""+n).match(H$);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}var $$=n=>+n||0;function Hh(n,t){let e={},i=Mt(t),r=i?Object.keys(t):t,s=Mt(n)?i?o=>Ct(n[o],n[t[o]]):o=>n[o]:()=>n;for(let o of r)e[o]=$$(s(o));return e}function F_(n){return Hh(n,{top:"y",right:"x",bottom:"y",left:"x"})}function $r(n){return Hh(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Xe(n){let t=F_(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ke(n,t){n=n||{},t=t||ge.font;let e=Ct(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ct(n.style,t.style);i&&!(""+i).match(W$)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let r={family:Ct(n.family,t.family),lineHeight:vO(Ct(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ct(n.weight,t.weight),string:""};return r.string=bO(r),r}function Jt(n,t,e,i){let r=!0,s,o,a;for(s=0,o=n.length;s<o;++s)if(a=n[s],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),r=!1),e!==void 0&&ie(a)&&(a=a[e%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function A1(n,t,e){let{min:i,max:r}=n,s=v_(t,(r-i)/2),o=(a,c)=>e&&a===0?0:a+c;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function ur(n,t){return Object.assign(Object.create(n),t)}function Wh(n,t=[""],e,i,r=()=>n[0]){let s=e||n;typeof i>"u"&&(i=xO("_fallback",n));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>Wh([a,...n],t,s,i)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete n[0][c],!0},get(a,c){return yO(a,c,()=>J$(c,t,n,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,c){return sO(a).includes(c)},ownKeys(a){return sO(a)},set(a,c,l){let d=a._storage||(a._storage=r());return a[c]=d[c]=l,delete a._keys,!0}})}function $s(n,t,e,i){let r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:L_(n,i),setContext:s=>$s(n,s,e,i),override:s=>$s(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,a){return yO(s,o,()=>G$(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,a){return n[o]=a,delete s[o],!0}})}function L_(n,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:cr(e)?e:()=>e,isIndexable:cr(i)?i:()=>i}}var q$=(n,t)=>n?n+Lh(t):t,D1=(n,t)=>Mt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function yO(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];let i=e();return n[t]=i,i}function G$(n,t,e){let{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n,a=i[t];return cr(a)&&o.isScriptable(t)&&(a=K$(t,a,n,e)),ie(a)&&a.length&&(a=Y$(t,a,n,o.isIndexable)),D1(t,a)&&(a=$s(a,r,s&&s[t],o)),a}function K$(n,t,e,i){let{_proxy:r,_context:s,_subProxy:o,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let c=t(s,o||i);return a.delete(n),D1(n,c)&&(c=R1(r._scopes,r,n,c)),c}function Y$(n,t,e,i){let{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=e;if(typeof s.index<"u"&&i(n))return t[s.index%t.length];if(Mt(t[0])){let c=t,l=r._scopes.filter(d=>d!==c);t=[];for(let d of c){let h=R1(l,r,n,d);t.push($s(h,s,o&&o[n],a))}}return t}function wO(n,t,e){return cr(n)?n(t,e):n}var Q$=(n,t)=>n===!0?t:typeof n=="string"?dr(t,n):void 0;function X$(n,t,e,i,r){for(let s of t){let o=Q$(e,s);if(o){n.add(o);let a=wO(o._fallback,e,r);if(typeof a<"u"&&a!==e&&a!==i)return a}else if(o===!1&&typeof i<"u"&&e!==i)return null}return!1}function R1(n,t,e,i){let r=t._rootScopes,s=wO(t._fallback,e,i),o=[...n,...r],a=new Set;a.add(i);let c=rO(a,o,e,s||e,i);return c===null||typeof s<"u"&&s!==e&&(c=rO(a,o,s,c,i),c===null)?!1:Wh(Array.from(a),[""],r,s,()=>Z$(t,e,i))}function rO(n,t,e,i,r){for(;e;)e=X$(n,t,e,i,r);return e}function Z$(n,t,e){let i=n._getTarget();t in i||(i[t]={});let r=i[t];return ie(r)&&Mt(e)?e:r||{}}function J$(n,t,e,i){let r;for(let s of t)if(r=xO(q$(s,n),e),typeof r<"u")return D1(n,r)?R1(e,i,n,r):r}function xO(n,t){for(let e of t){if(!e)continue;let i=e[n];if(typeof i<"u")return i}}function sO(n){let t=n._keys;return t||(t=n._keys=tq(n._scopes)),t}function tq(n){let t=new Set;for(let e of n)for(let i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function V_(n,t,e,i){let{iScale:r}=n,{key:s="r"}=this._parsing,o=new Array(i),a,c,l,d;for(a=0,c=i;a<c;++a)l=a+e,d=t[l],o[a]={r:r.parse(dr(d,s),l)};return o}var eq=Number.EPSILON||1e-14,hl=(n,t)=>t<n.length&&!n[t].skip&&n[t],CO=n=>n==="x"?"y":"x";function EO(n,t,e,i){let r=n.skip?t:n,s=t,o=e.skip?t:e,a=Fh(s,r),c=Fh(o,s),l=a/(a+c),d=c/(a+c);l=isNaN(l)?0:l,d=isNaN(d)?0:d;let h=i*l,m=i*d;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+m*(o.x-r.x),y:s.y+m*(o.y-r.y)}}}function iq(n,t,e){let i=n.length,r,s,o,a,c,l=hl(n,0);for(let d=0;d<i-1;++d)if(c=l,l=hl(n,d+1),!(!c||!l)){if(la(t[d],0,eq)){e[d]=e[d+1]=0;continue}r=e[d]/t[d],s=e[d+1]/t[d],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),e[d]=r*o*t[d],e[d+1]=s*o*t[d])}}function nq(n,t,e="x"){let i=CO(e),r=n.length,s,o,a,c=hl(n,0);for(let l=0;l<r;++l){if(o=a,a=c,c=hl(n,l+1),!a)continue;let d=a[e],h=a[i];o&&(s=(d-o[e])/3,a[`cp1${e}`]=d-s,a[`cp1${i}`]=h-s*t[l]),c&&(s=(c[e]-d)/3,a[`cp2${e}`]=d+s,a[`cp2${i}`]=h+s*t[l])}}function IO(n,t="x"){let e=CO(t),i=n.length,r=Array(i).fill(0),s=Array(i),o,a,c,l=hl(n,0);for(o=0;o<i;++o)if(a=c,c=l,l=hl(n,o+1),!!c){if(l){let d=l[t]-c[t];r[o]=d!==0?(l[e]-c[e])/d:0}s[o]=a?l?wn(r[o-1])!==wn(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}iq(n,r,s),nq(n,s,t)}function p_(n,t,e){return Math.max(Math.min(n,e),t)}function rq(n,t){let e,i,r,s,o,a=jn(n[0],t);for(e=0,i=n.length;e<i;++e)o=s,s=a,a=e<i-1&&jn(n[e+1],t),s&&(r=n[e],o&&(r.cp1x=p_(r.cp1x,t.left,t.right),r.cp1y=p_(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=p_(r.cp2x,t.left,t.right),r.cp2y=p_(r.cp2y,t.top,t.bottom)))}function M1(n,t,e,i,r){let s,o,a,c;if(t.spanGaps&&(n=n.filter(l=>!l.skip)),t.cubicInterpolationMode==="monotone")IO(n,r);else{let l=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],c=EO(l,a,n[Math.min(s+1,o-(i?0:1))%o],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}t.capBezierPoints&&rq(n,e)}function $h(){return typeof window<"u"&&typeof document<"u"}function qh(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function b_(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}var B_=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function kO(n,t){return B_(n).getPropertyValue(t)}var sq=["top","right","bottom","left"];function oa(n,t,e){let i={};e=e?"-"+e:"";for(let r=0;r<4;r++){let s=sq[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var oq=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function aq(n,t){let e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i,o=!1,a,c;if(oq(r,s,n.target))a=r,c=s;else{let l=t.getBoundingClientRect();a=i.clientX-l.left,c=i.clientY-l.top,o=!0}return{x:a,y:c,box:o}}function qr(n,t){if("native"in n)return n;let{canvas:e,currentDevicePixelRatio:i}=t,r=B_(e),s=r.boxSizing==="border-box",o=oa(r,"padding"),a=oa(r,"border","width"),{x:c,y:l,box:d}=aq(n,e),h=o.left+(d&&a.left),m=o.top+(d&&a.top),{width:p,height:_}=t;return s&&(p-=o.width+a.width,_-=o.height+a.height),{x:Math.round((c-h)/p*e.width/i),y:Math.round((l-m)/_*e.height/i)}}function cq(n,t,e){let i,r;if(t===void 0||e===void 0){let s=n&&qh(n);if(!s)t=n.clientWidth,e=n.clientHeight;else{let o=s.getBoundingClientRect(),a=B_(s),c=oa(a,"border","width"),l=oa(a,"padding");t=o.width-l.width-c.width,e=o.height-l.height-c.height,i=b_(a.maxWidth,s,"clientWidth"),r=b_(a.maxHeight,s,"clientHeight")}}return{width:t,height:e,maxWidth:i||Nh,maxHeight:r||Nh}}var g_=n=>Math.round(n*10)/10;function P1(n,t,e,i){let r=B_(n),s=oa(r,"margin"),o=b_(r.maxWidth,n,"clientWidth")||Nh,a=b_(r.maxHeight,n,"clientHeight")||Nh,c=cq(n,t,e),{width:l,height:d}=c;if(r.boxSizing==="content-box"){let m=oa(r,"border","width"),p=oa(r,"padding");l-=p.width+m.width,d-=p.height+m.height}return l=Math.max(0,l-s.width),d=Math.max(0,i?l/i:d-s.height),l=g_(Math.min(l,o,c.maxWidth)),d=g_(Math.min(d,a,c.maxHeight)),l&&!d&&(d=g_(l/2)),(t!==void 0||e!==void 0)&&i&&c.height&&d>c.height&&(d=c.height,l=g_(Math.floor(d*i))),{width:l,height:d}}function U_(n,t,e){let i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);let o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}var O1=function(){let n=!1;try{let t={get passive(){return n=!0,!1}};$h()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function j_(n,t){let e=kO(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function zr(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function N1(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function F1(n,t,e,i){let r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},o=zr(n,r,e),a=zr(r,s,e),c=zr(s,t,e),l=zr(o,a,e),d=zr(a,c,e);return zr(l,d,e)}var lq=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},dq=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Ks(n,t,e){return n?lq(t,e):dq()}function z_(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function H_(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function SO(n){return n==="angle"?{between:da,compare:pO,normalize:Li}:{between:Hn,compare:(t,e)=>t-e,normalize:t=>t}}function oO({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function uq(n,t,e){let{property:i,start:r,end:s}=e,{between:o,normalize:a}=SO(i),c=t.length,{start:l,end:d,loop:h}=n,m,p;if(h){for(l+=c,d+=c,m=0,p=c;m<p&&o(a(t[l%c][i]),r,s);++m)l--,d--;l%=c,d%=c}return d<l&&(d+=c),{start:l,end:d,loop:h,style:n.style}}function W_(n,t,e){if(!e)return[n];let{property:i,start:r,end:s}=e,o=t.length,{compare:a,between:c,normalize:l}=SO(i),{start:d,end:h,loop:m,style:p}=uq(n,t,e),_=[],b=!1,v=null,R,P,V,j=()=>c(r,V,R)&&a(r,V)!==0,z=()=>a(s,R)===0||c(s,V,R),H=()=>b||j(),k=()=>!b||z();for(let x=d,I=d;x<=h;++x)P=t[x%o],!P.skip&&(R=l(P[i]),R!==V&&(b=c(R,r,s),v===null&&H()&&(v=a(R,r)===0?x:I),v!==null&&k()&&(_.push(oO({start:v,end:x,loop:m,count:o,style:p})),v=null),I=x,V=R));return v!==null&&_.push(oO({start:v,end:h,loop:m,count:o,style:p})),_}function $_(n,t){let e=[],i=n.segments;for(let r=0;r<i.length;r++){let s=W_(i[r],n.points,t);s.length&&e.push(...s)}return e}function hq(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}function mq(n,t,e,i){let r=n.length,s=[],o=t,a=n[t],c;for(c=t+1;c<=e;++c){let l=n[c%r];l.skip||l.stop?a.skip||(i=!1,s.push({start:t%r,end:(c-1)%r,loop:i}),t=o=l.stop?c:null):(o=c,a.skip&&(t=c)),a=l}return o!==null&&s.push({start:t%r,end:o%r,loop:i}),s}function L1(n,t){let e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];let s=!!n._loop,{start:o,end:a}=hq(e,r,s,i);if(i===!0)return aO(n,[{start:o,end:a,loop:s}],e,t);let c=a<o?a+r:a,l=!!n._fullLoop&&o===0&&a===r-1;return aO(n,mq(e,o,c,l),e,t)}function aO(n,t,e,i){return!i||!i.setContext||!e?t:fq(n,t,e,i)}function fq(n,t,e,i){let r=n._chart.getContext(),s=cO(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,c=e.length,l=[],d=s,h=t[0].start,m=h;function p(_,b,v,R){let P=a?-1:1;if(_!==b){for(_+=c;e[_%c].skip;)_-=P;for(;e[b%c].skip;)b+=P;_%c!==b%c&&(l.push({start:_%c,end:b%c,loop:v,style:R}),d=R,h=b%c)}}for(let _ of t){h=a?h:_.start;let b=e[h%c],v;for(m=h+1;m<=_.end;m++){let R=e[m%c];v=cO(i.setContext(ur(r,{type:"segment",p0:b,p1:R,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:o}))),pq(v,d)&&p(h,m-1,_.loop,d),b=R,d=v}h<m-1&&p(h,m-1,_.loop,d)}return l}function cO(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function pq(n,t){if(!t)return!1;let e=[],i=function(r,s){return R_(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(t,i)}var G1=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){let s=e.listeners[r],o=e.duration;s.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=S_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;let s=i.items,o=s.length-1,a=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let i=e.items,r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},Gr=new G1,TO="transparent",gq={boolean(n,t,e){return e>.5?t:n},color(n,t,e){let i=M_(n||TO),r=i.valid&&M_(t||TO);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}},K1=class{constructor(t,e,i,r){let s=e[i];r=Jt([t.to,r,s,t.from]);let o=Jt([t.from,s,r]);this._active=!0,this._fn=t.fn||gq[t.type||typeof o],this._easing=sa[t.easing]||sa.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);let r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Jt([t.to,e,r,t.from]),this._from=Jt([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to,c;if(this._active=s!==a&&(o||e<i),!this._active){this._target[r]=a,this._notify(!0);return}if(e<0){this._target[r]=s;return}c=e/i%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(s,a,c)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){let e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}},eb=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Mt(t))return;let e=Object.keys(ge.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{let s=t[r];if(!Mt(s))return;let o={};for(let a of e)o[a]=s[a];(ie(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,e){let i=e.options,r=bq(t,i);if(!r)return[];let s=this._createAnimations(r,i);return i.$shared&&_q(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){let i=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now(),c;for(c=o.length-1;c>=0;--c){let l=o[c];if(l.charAt(0)==="$")continue;if(l==="options"){r.push(...this._animateOptions(t,e));continue}let d=e[l],h=s[l],m=i.get(l);if(h)if(m&&h.active()){h.update(m,d,a);continue}else h.cancel();if(!m||!m.duration){t[l]=d;continue}s[l]=h=new K1(m,t,l,d),r.push(h)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let i=this._createAnimations(t,e);if(i.length)return Gr.add(this._chart,i),!0}};function _q(n,t){let e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){let s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}function bq(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function AO(n,t){let e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,s=e.max===void 0?t:0;return{start:i?s:r,end:i?r:s}}function vq(n,t,e){if(e===!1)return!1;let i=AO(n,e),r=AO(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function yq(n){let t,e,i,r;return Mt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function AN(n,t){let e=[],i=n._getSortedDatasetMetas(t),r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function DO(n,t,e,i={}){let r=n.keys,s=i.mode==="single",o,a,c,l;if(t!==null){for(o=0,a=r.length;o<a;++o){if(c=+r[o],c===e){if(i.all)continue;break}l=n.values[c],ve(l)&&(s||t===0||wn(t)===wn(l))&&(t+=l)}return t}}function wq(n,t){let{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length),c,l,d;for(c=0,l=o.length;c<l;++c)d=o[c],a[c]={[r]:d,[s]:n[d]};return a}function RO(n,t){let e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function xq(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function Cq(n){let{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function Eq(n,t,e){let i=n[t]||(n[t]={});return i[e]||(i[e]={})}function MO(n,t,e,i){for(let r of t.getMatchingVisibleMetas(i).reverse()){let s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function PO(n,t){let{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:o,index:a}=i,c=s.axis,l=o.axis,d=xq(s,o,i),h=t.length,m;for(let p=0;p<h;++p){let _=t[p],{[c]:b,[l]:v}=_,R=_._stacks||(_._stacks={});m=R[l]=Eq(r,d,b),m[a]=v,m._top=MO(m,o,!0,i.type),m._bottom=MO(m,o,!1,i.type);let P=m._visualValues||(m._visualValues={});P[a]=v}}function V1(n,t){let e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Iq(n,t){return ur(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function kq(n,t,e){return ur(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Gh(n,t){let e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(let r of t){let s=r._stacks;if(!s||s[i]===void 0||s[i][e]===void 0)return;delete s[i][e],s[i]._visualValues!==void 0&&s[i]._visualValues[e]!==void 0&&delete s[i]._visualValues[e]}}}var B1=n=>n==="reset"||n==="none",OO=(n,t)=>t?n:Object.assign({},n),Sq=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:AN(e,!0),values:null},Qs=(()=>{class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=RO(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Gh(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,i=this._cachedMeta,r=this.getDataset(),s=(m,p,_,b)=>m==="x"?p:m==="r"?b:_,o=i.xAxisID=Ct(r.xAxisID,V1(e,"x")),a=i.yAxisID=Ct(r.yAxisID,V1(e,"y")),c=i.rAxisID=Ct(r.rAxisID,V1(e,"r")),l=i.indexAxis,d=i.iAxisID=s(l,o,a,c),h=i.vAxisID=s(l,a,o,c);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(c),i.iScale=this.getScaleForId(d),i.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&I_(this._data,this),e._stacked&&Gh(e)}_dataCheck(){let e=this.getDataset(),i=e.data||(e.data=[]),r=this._data;if(Mt(i)){let s=this._cachedMeta;this._data=wq(i,s)}else if(r!==i){if(r){I_(r,this);let s=this._cachedMeta;Gh(s),s._parsed=[]}i&&Object.isExtensible(i)&&C1(i,this),this._syncList=[],this._data=i}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let i=this._cachedMeta,r=this.getDataset(),s=!1;this._dataCheck();let o=i._stacked;i._stacked=RO(i.vScale,i),i.stack!==r.stack&&(s=!0,Gh(i),i.stack=r.stack),this._resyncElements(e),(s||o!==i._stacked)&&PO(this,i._parsed)}configure(){let e=this.chart.config,i=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){let{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:a}=r,c=o.axis,l=e===0&&i===s.length?!0:r._sorted,d=e>0&&r._parsed[e-1],h,m,p;if(this._parsing===!1)r._parsed=s,r._sorted=!0,p=s;else{ie(s[e])?p=this.parseArrayData(r,s,e,i):Mt(s[e])?p=this.parseObjectData(r,s,e,i):p=this.parsePrimitiveData(r,s,e,i);let _=()=>m[c]===null||d&&m[c]<d[c];for(h=0;h<i;++h)r._parsed[h+e]=m=p[h],l&&(_()&&(l=!1),d=m);r._sorted=l}a&&PO(this,p)}parsePrimitiveData(e,i,r,s){let{iScale:o,vScale:a}=e,c=o.axis,l=a.axis,d=o.getLabels(),h=o===a,m=new Array(s),p,_,b;for(p=0,_=s;p<_;++p)b=p+r,m[p]={[c]:h||o.parse(d[b],b),[l]:a.parse(i[b],b)};return m}parseArrayData(e,i,r,s){let{xScale:o,yScale:a}=e,c=new Array(s),l,d,h,m;for(l=0,d=s;l<d;++l)h=l+r,m=i[h],c[l]={x:o.parse(m[0],h),y:a.parse(m[1],h)};return c}parseObjectData(e,i,r,s){let{xScale:o,yScale:a}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=new Array(s),h,m,p,_;for(h=0,m=s;h<m;++h)p=h+r,_=i[p],d[h]={x:o.parse(dr(_,c),p),y:a.parse(dr(_,l),p)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,r){let s=this.chart,o=this._cachedMeta,a=i[e.axis],c={keys:AN(s,!0),values:i._stacks[e.axis]._visualValues};return DO(c,a,o.index,{mode:r})}updateRangeFromParsed(e,i,r,s){let o=r[i.axis],a=o===null?NaN:o,c=s&&r._stacks[i.axis];s&&c&&(s.values=c,a=DO(s,o,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,i){let r=this._cachedMeta,s=r._parsed,o=r._sorted&&e===r.iScale,a=s.length,c=this._getOtherScale(e),l=Sq(i,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:m}=Cq(c),p,_;function b(){_=s[p];let v=_[c.axis];return!ve(_[e.axis])||h>v||m<v}for(p=0;p<a&&!(!b()&&(this.updateRangeFromParsed(d,e,_,l),o));++p);if(o){for(p=a-1;p>=0;--p)if(!b()){this.updateRangeFromParsed(d,e,_,l);break}}return d}getAllParsedValues(e){let i=this._cachedMeta._parsed,r=[],s,o,a;for(s=0,o=i.length;s<o;++s)a=i[s][e.axis],ve(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){let i=this._cachedMeta,r=i.iScale,s=i.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){let i=this._cachedMeta;this.update(e||"default"),i._clip=yq(Ct(this.options.clip,vq(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,i=this.chart,r=this._cachedMeta,s=r.data||[],o=i.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop,h;for(r.dataset&&r.dataset.draw(e,o,c,l),h=c;h<c+l;++h){let m=s[h];m.hidden||(m.active&&d?a.push(m):m.draw(e,o))}for(h=0;h<a.length;++h)a[h].draw(e,o)}getStyle(e,i){let r=i?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,i,r){let s=this.getDataset(),o;if(e>=0&&e<this._cachedMeta.data.length){let a=this._cachedMeta.data[e];o=a.$context||(a.$context=kq(this.getContext(),e,a)),o.parsed=this.getParsed(e),o.raw=s.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=Iq(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",r){let s=i==="active",o=this._cachedDataOpts,a=e+"-"+i,c=o[a],l=this.enableOptionSharing&&ca(r);if(c)return OO(c,l);let d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),m=s?[`${e}Hover`,"hover",e,""]:[e,""],p=d.getOptionScopes(this.getDataset(),h),_=Object.keys(ge.elements[e]),b=()=>this.getContext(r,s,i),v=d.resolveNamedOptions(p,_,b,m);return v.$shared&&(v.$shared=l,o[a]=Object.freeze(OO(v,l))),v}_resolveAnimations(e,i,r){let s=this.chart,o=this._cachedDataOpts,a=`animation-${i}`,c=o[a];if(c)return c;let l;if(s.options.animation!==!1){let h=this.chart.config,m=h.datasetAnimationScopeKeys(this._type,i),p=h.getOptionScopes(this.getDataset(),m);l=h.createResolver(p,this.getContext(e,r,i))}let d=new eb(s,l&&l.animations);return l&&l._cacheable&&(o[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||B1(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){let r=this.resolveDataElementOptions(e,i),s=this._sharedOptions,o=this.getSharedOptions(r),a=this.includeOptions(i,o)||o!==s;return this.updateSharedOptions(o,i,r),{sharedOptions:o,includeOptions:a}}updateElement(e,i,r,s){B1(s)?Object.assign(e,r):this._resolveAnimations(i,s).update(e,r)}updateSharedOptions(e,i,r){e&&!B1(i)&&this._resolveAnimations(void 0,i).update(e,r)}_setStyle(e,i,r,s){e.active=s;let o=this.getStyle(i,s);this._resolveAnimations(i,r,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,i,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,i,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let i=this._data,r=this._cachedMeta.data;for(let[c,l,d]of this._syncList)this[c](l,d);this._syncList=[];let s=r.length,o=i.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,e):o<s&&this._removeElements(o,s-o)}_insertElements(e,i,r=!0){let s=this._cachedMeta,o=s.data,a=e+i,c,l=d=>{for(d.length+=i,c=d.length-1;c>=a;c--)d[c]=d[c-i]};for(l(o),c=e;c<a;++c)o[c]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,i),r&&this.updateElements(o,e,i,"reset")}updateElements(e,i,r,s){}_removeElements(e,i){let r=this._cachedMeta;if(this._parsing){let s=r._parsed.splice(e,i);r._stacked&&Gh(r,s)}r.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[i,r,s]=e;this[i](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);let r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n})();function Tq(n,t){if(!n._cache.$bar){let e=n.getMatchingVisibleMetas(t),i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=k_(i.sort((r,s)=>r-s))}return n._cache.$bar}function Aq(n){let t=n.iScale,e=Tq(t,n.type),i=t._length,r,s,o,a,c=()=>{o===32767||o===-32768||(ca(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=e.length;r<s;++r)o=t.getPixelForValue(e[r]),c();for(a=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),c();return i}function Dq(n,t,e,i){let r=e.barThickness,s,o;return Dt(r)?(s=t.min*e.categoryPercentage,o=e.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[n]-s/2}}function Rq(n,t,e,i){let r=t.pixels,s=r[n],o=n>0?r[n-1]:null,a=n<r.length-1?r[n+1]:null,c=e.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);let l=s-(s-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/i,ratio:e.barPercentage,start:l}}function Mq(n,t,e,i){let r=e.parse(n[0],i),s=e.parse(n[1],i),o=Math.min(r,s),a=Math.max(r,s),c=o,l=a;Math.abs(o)>Math.abs(a)&&(c=a,l=o),t[e.axis]=l,t._custom={barStart:c,barEnd:l,start:r,end:s,min:o,max:a}}function DN(n,t,e,i){return ie(n)?Mq(n,t,e,i):t[e.axis]=e.parse(n,i),t}function NO(n,t,e,i){let r=n.iScale,s=n.vScale,o=r.getLabels(),a=r===s,c=[],l,d,h,m;for(l=e,d=e+i;l<d;++l)m=t[l],h={},h[r.axis]=a||r.parse(o[l],l),c.push(DN(m,h,s,l));return c}function U1(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function Pq(n,t,e){return n!==0?wn(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Oq(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}function Nq(n,t,e,i){let r=t.borderSkipped,s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:a,reverse:c,top:l,bottom:d}=Oq(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=l:(e._bottom||0)===i?r=d:(s[FO(d,o,a,c)]=!0,r=l)),s[FO(r,o,a,c)]=!0,n.borderSkipped=s}function FO(n,t,e,i){return i?(n=Fq(n,t,e),n=LO(n,e,t)):n=LO(n,t,e),n}function Fq(n,t,e){return n===t?e:n===e?t:n}function LO(n,t,e){return n==="start"?t:n==="end"?e:n}function Lq(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}var Vq=(()=>{class n extends Qs{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,i,r,s){return NO(e,i,r,s)}parseArrayData(e,i,r,s){return NO(e,i,r,s)}parseObjectData(e,i,r,s){let{iScale:o,vScale:a}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=o.axis==="x"?c:l,h=a.axis==="x"?c:l,m=[],p,_,b,v;for(p=r,_=r+s;p<_;++p)v=i[p],b={},b[o.axis]=o.parse(dr(v,d),p),m.push(DN(dr(v,h),b,a,p));return m}updateRangeFromParsed(e,i,r,s){super.updateRangeFromParsed(e,i,r,s);let o=r._custom;o&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let i=this._cachedMeta,{iScale:r,vScale:s}=i,o=this.getParsed(e),a=o._custom,c=U1(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,r,s){let o=s==="reset",{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),d=c.isHorizontal(),h=this._getRuler(),{sharedOptions:m,includeOptions:p}=this._getSharedOptions(i,s);for(let _=i;_<i+r;_++){let b=this.getParsed(_),v=o||Dt(b[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(_),R=this._calculateBarIndexPixels(_,h),P=(b._stacks||{})[c.axis],V={horizontal:d,base:v.base,enableBorderRadius:!P||U1(b._custom)||a===P._top||a===P._bottom,x:d?v.head:R.center,y:d?R.center:v.head,height:d?R.size:Math.abs(v.size),width:d?Math.abs(v.size):R.size};p&&(V.options=m||this.resolveDataElementOptions(_,e[_].active?"active":s));let j=V.options||e[_].options;Nq(V,j,P,a),Lq(V,j,h.ratio),this.updateElement(e[_],_,V,s)}}_getStacks(e,i){let{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),o=r.options.stacked,a=[],c=l=>{let d=l.controller.getParsed(i),h=d&&d[l.vScale.axis];if(Dt(h)||isNaN(h))return!0};for(let l of s)if(!(i!==void 0&&c(l))&&((o===!1||a.indexOf(l.stack)===-1||o===void 0&&l.stack===void 0)&&a.push(l.stack),l.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,r){let s=this._getStacks(e,r),o=i!==void 0?s.indexOf(i):-1;return o===-1?s.length-1:o}_getRuler(){let e=this.options,i=this._cachedMeta,r=i.iScale,s=[],o,a;for(o=0,a=i.data.length;o<a;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));let c=e.barThickness;return{min:c||Aq(i),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:i,_stacked:r,index:s},options:{base:o,minBarLength:a}}=this,c=o||0,l=this.getParsed(e),d=l._custom,h=U1(d),m=l[i.axis],p=0,_=r?this.applyStack(i,l,r):m,b,v;_!==m&&(p=_-m,_=m),h&&(m=d.barStart,_=d.barEnd-d.barStart,m!==0&&wn(m)!==wn(d.barEnd)&&(p=0),p+=m);let R=!Dt(o)&&!h?o:p,P=i.getPixelForValue(R);if(this.chart.getDataVisibility(e)?b=i.getPixelForValue(p+_):b=P,v=b-P,Math.abs(v)<a){v=Pq(v,i,c)*a,m===c&&(P-=v/2);let V=i.getPixelForDecimal(0),j=i.getPixelForDecimal(1),z=Math.min(V,j),H=Math.max(V,j);P=Math.max(Math.min(P,H),z),b=P+v,r&&!h&&(l._stacks[i.axis]._visualValues[s]=i.getValueForPixel(b)-i.getValueForPixel(P))}if(P===i.getPixelForValue(c)){let V=wn(v)*i.getLineWidthForValue(c)/2;P+=V,v-=V}return{size:v,base:P,head:b,center:b+v/2}}_calculateBarIndexPixels(e,i){let r=i.scale,s=this.options,o=s.skipNull,a=Ct(s.maxBarThickness,1/0),c,l;if(i.grouped){let d=o?this._getStackCount(e):i.stackCount,h=s.barThickness==="flex"?Rq(e,i,s,d):Dq(e,i,s,d),m=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);c=h.start+h.chunk*m+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,i.min*i.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){let e=this._cachedMeta,i=e.vScale,r=e.data,s=r.length,o=0;for(;o<s;++o)this.getParsed(o)[i.axis]!==null&&!r[o].hidden&&r[o].draw(this._ctx)}}return n})(),Bq=(()=>{class n extends Qs{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,r,s){let o=super.parsePrimitiveData(e,i,r,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+r).radius;return o}parseArrayData(e,i,r,s){let o=super.parseArrayData(e,i,r,s);for(let a=0;a<o.length;a++){let c=i[r+a];o[a]._custom=Ct(c[2],this.resolveDataElementOptions(a+r).radius)}return o}parseObjectData(e,i,r,s){let o=super.parseObjectData(e,i,r,s);for(let a=0;a<o.length;a++){let c=i[r+a];o[a]._custom=Ct(c&&c.r&&+c.r,this.resolveDataElementOptions(a+r).radius)}return o}getMaxOverflow(){let e=this._cachedMeta.data,i=0;for(let r=e.length-1;r>=0;--r)i=Math.max(i,e[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(e){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,a=this.getParsed(e),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y),d=a._custom;return{label:r[e]||"",value:"("+c+", "+l+(d?", "+d:"")+")"}}update(e){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,r,s){let o=s==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(i,s),h=a.axis,m=c.axis;for(let p=i;p<i+r;p++){let _=e[p],b=!o&&this.getParsed(p),v={},R=v[h]=o?a.getPixelForDecimal(.5):a.getPixelForValue(b[h]),P=v[m]=o?c.getBasePixel():c.getPixelForValue(b[m]);v.skip=isNaN(R)||isNaN(P),d&&(v.options=l||this.resolveDataElementOptions(p,_.active?"active":s),o&&(v.options.radius=0)),this.updateElement(_,p,v,s)}}resolveDataElementOptions(e,i){let r=this.getParsed(e),s=super.resolveDataElementOptions(e,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let o=s.radius;return i!=="active"&&(s.radius=0),s.radius+=Ct(r&&r._custom,o),s}}return n})();function Uq(n,t,e){let i=1,r=1,s=0,o=0;if(t<re){let a=n,c=a+t,l=Math.cos(a),d=Math.sin(a),h=Math.cos(c),m=Math.sin(c),p=(V,j,z)=>da(V,a,c,!0)?1:Math.max(j,j*e,z,z*e),_=(V,j,z)=>da(V,a,c,!0)?-1:Math.min(j,j*e,z,z*e),b=p(0,l,h),v=p(Ie,d,m),R=_(ne,l,h),P=_(ne+Ie,d,m);i=(b-R)/2,r=(v-P)/2,s=-(b+R)/2,o=-(v+P)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}var hE=(()=>{class n extends Qs{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:s}}=e.legend.options;return i.labels.map((o,a)=>{let l=e.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){let r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let o=l=>+r[l];if(Mt(r[e])){let{key:l="value"}=this._parsing;o=d=>+dr(r[d],l)}let a,c;for(a=e,c=e+i;a<c;++a)s._parsed[a]=o(a)}}_getRotation(){return rn(this.options.rotation-90)}_getCircumference(){return rn(this.options.circumference)}_getRotationExtents(){let e=re,i=-re;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),a=s._getCircumference();e=Math.min(e,o),i=Math.max(i,o+a)}return{rotation:e,circumference:i-e}}update(e){let i=this.chart,{chartArea:r}=i,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(g1(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:h,rotation:m}=this._getRotationExtents(),{ratioX:p,ratioY:_,offsetX:b,offsetY:v}=Uq(m,h,l),R=(r.width-a)/p,P=(r.height-a)/_,V=Math.max(Math.min(R,P)/2,0),j=v_(this.options.radius,V),z=Math.max(j*l,0),H=(j-z)/this._getVisibleDatasetWeightTotal();this.offsetX=b*j,this.offsetY=v*j,s.total=this.calculateTotal(),this.outerRadius=j-H*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-H*d,0),this.updateElements(o,0,o.length,e)}_circumference(e,i){let r=this.options,s=this._cachedMeta,o=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*o/re)}updateElements(e,i,r,s){let o=s==="reset",a=this.chart,c=a.chartArea,d=a.options.animation,h=(c.left+c.right)/2,m=(c.top+c.bottom)/2,p=o&&d.animateScale,_=p?0:this.innerRadius,b=p?0:this.outerRadius,{sharedOptions:v,includeOptions:R}=this._getSharedOptions(i,s),P=this._getRotation(),V;for(V=0;V<i;++V)P+=this._circumference(V,o);for(V=i;V<i+r;++V){let j=this._circumference(V,o),z=e[V],H={x:h+this.offsetX,y:m+this.offsetY,startAngle:P,endAngle:P+j,circumference:j,outerRadius:b,innerRadius:_};R&&(H.options=v||this.resolveDataElementOptions(V,z.active?"active":s)),P+=j,this.updateElement(z,V,H,s)}}calculateTotal(){let e=this._cachedMeta,i=e.data,r=0,s;for(s=0;s<i.length;s++){let o=e._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(e){let i=this._cachedMeta.total;return i>0&&!isNaN(e)?re*(Math.abs(e)/i):0}getLabelAndValue(e){let i=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=ua(i._parsed[e],r.options.locale);return{label:s[e]||"",value:o}}getMaxBorderWidth(e){let i=0,r=this.chart,s,o,a,c,l;if(!e){for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),e=a.data,c=a.controller;break}}if(!e)return 0;for(s=0,o=e.length;s<o;++s)l=c.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(i=Math.max(i,l.borderWidth||0,l.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let r=0,s=e.length;r<s;++r){let o=this.resolveDataElementOptions(r);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(e){return Math.max(Ct(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n})(),jq=(()=>{class n extends Qs{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let i=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=i,a=this.chart._animationsDisabled,{start:c,count:l}=A_(i,s,a);this._drawStart=c,this._drawCount=l,D_(i)&&(c=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;let d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},e),this.updateElements(s,c,l,e)}updateElements(e,i,r,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:m}=this._getSharedOptions(i,s),p=a.axis,_=c.axis,{spanGaps:b,segment:v}=this.options,R=qs(b)?b:Number.POSITIVE_INFINITY,P=this.chart._animationsDisabled||o||s==="none",V=i+r,j=e.length,z=i>0&&this.getParsed(i-1);for(let H=0;H<j;++H){let k=e[H],x=P?k:{};if(H<i||H>=V){x.skip=!0;continue}let I=this.getParsed(H),D=Dt(I[_]),M=x[p]=a.getPixelForValue(I[p],H),O=x[_]=o||D?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,I,l):I[_],H);x.skip=isNaN(M)||isNaN(O)||D,x.stop=H>0&&Math.abs(I[p]-z[p])>R,v&&(x.parsed=I,x.raw=d.data[H]),m&&(x.options=h||this.resolveDataElementOptions(H,k.active?"active":s)),P||this.updateElement(k,H,x,s),z=I}}getMaxOverflow(){let e=this._cachedMeta,i=e.dataset,r=i.options&&i.options.borderWidth||0,s=e.data||[];if(!s.length)return r;let o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,a)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return n})(),RN=(()=>{class n extends Qs{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:s}}=e.legend.options;return i.labels.map((o,a)=>{let l=e.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let i=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=ua(i._parsed[e].r,r.options.locale);return{label:s[e]||"",value:o}}parseObjectData(e,i,r,s){return V_.bind(this)(e,i,r,s)}update(e){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){let e=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,s)=>{let o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}_updateRadius(){let e=this.chart,i=e.chartArea,r=e.options,s=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(s/2,0),a=Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0),c=(o-a)/e.getVisibleDatasetCount();this.outerRadius=o-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,i,r,s){let o=s==="reset",a=this.chart,l=a.options.animation,d=this._cachedMeta.rScale,h=d.xCenter,m=d.yCenter,p=d.getIndexAngle(0)-.5*ne,_=p,b,v=360/this.countVisibleElements();for(b=0;b<i;++b)_+=this._computeAngle(b,s,v);for(b=i;b<i+r;b++){let R=e[b],P=_,V=_+this._computeAngle(b,s,v),j=a.getDataVisibility(b)?d.getDistanceFromCenterForValue(this.getParsed(b).r):0;_=V,o&&(l.animateScale&&(j=0),l.animateRotate&&(P=V=p));let z={x:h,y:m,innerRadius:0,outerRadius:j,startAngle:P,endAngle:V,options:this.resolveDataElementOptions(b,R.active?"active":s)};this.updateElement(R,b,z,s)}}countVisibleElements(){let e=this._cachedMeta,i=0;return e.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(e,i,r){return this.chart.getDataVisibility(e)?rn(this.resolveDataElementOptions(e,i).angle||r):0}}return n})(),zq=(()=>{class n extends hE{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return n})(),Hq=(()=>{class n extends Qs{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let i=this._cachedMeta.vScale,r=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(e,i,r,s){return V_.bind(this)(e,i,r,s)}update(e){let i=this._cachedMeta,r=i.dataset,s=i.data||[],o=i.iScale.getLabels();if(r.points=s,e!=="resize"){let a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);let c={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(r,void 0,c,e)}this.updateElements(s,0,s.length,e)}updateElements(e,i,r,s){let o=this._cachedMeta.rScale,a=s==="reset";for(let c=i;c<i+r;c++){let l=e[c],d=this.resolveDataElementOptions(c,l.active?"active":s),h=o.getPointPositionForValue(c,this.getParsed(c).r),m=a?o.xCenter:h.x,p=a?o.yCenter:h.y,_={x:m,y:p,angle:h.angle,skip:isNaN(m)||isNaN(p),options:d};this.updateElement(l,c,_,s)}}}return n})(),Wq=(()=>{class n extends Qs{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,a=this.getParsed(e),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y);return{label:r[e]||"",value:"("+c+", "+l+")"}}update(e){let i=this._cachedMeta,{data:r=[]}=i,s=this.chart._animationsDisabled,{start:o,count:a}=A_(i,r,s);if(this._drawStart=o,this._drawCount=a,D_(i)&&(o=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:l}=i;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=r;let d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:d},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,o,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,r,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,h=this.resolveDataElementOptions(i,s),m=this.getSharedOptions(h),p=this.includeOptions(s,m),_=a.axis,b=c.axis,{spanGaps:v,segment:R}=this.options,P=qs(v)?v:Number.POSITIVE_INFINITY,V=this.chart._animationsDisabled||o||s==="none",j=i>0&&this.getParsed(i-1);for(let z=i;z<i+r;++z){let H=e[z],k=this.getParsed(z),x=V?H:{},I=Dt(k[b]),D=x[_]=a.getPixelForValue(k[_],z),M=x[b]=o||I?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,k,l):k[b],z);x.skip=isNaN(D)||isNaN(M)||I,x.stop=z>0&&Math.abs(k[_]-j[_])>P,R&&(x.parsed=k,x.raw=d.data[z]),p&&(x.options=m||this.resolveDataElementOptions(z,H.active?"active":s)),V||this.updateElement(H,z,x,s),j=k}this.updateSharedOptions(m,s,h)}getMaxOverflow(){let e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let c=0;for(let l=i.length-1;l>=0;--l)c=Math.max(c,i[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}let r=e.dataset,s=r.options&&r.options.borderWidth||0;if(!i.length)return s;let o=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,a)/2}}return n})(),$q=Object.freeze({__proto__:null,BarController:Vq,BubbleController:Bq,DoughnutController:hE,LineController:jq,PieController:zq,PolarAreaController:RN,RadarController:Hq,ScatterController:Wq});function ma(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Y1=class n{static override(t){Object.assign(n.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ma()}parse(){return ma()}format(){return ma()}add(){return ma()}diff(){return ma()}startOf(){return ma()}endOf(){return ma()}},qq={_date:Y1};function Gq(n,t,e,i){let{controller:r,data:s,_sorted:o}=n,a=r._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&s.length){let c=a._reversePixels?w1:Un;if(i){if(r._sharedOptions){let l=s[0],d=typeof l.getRange=="function"&&l.getRange(t);if(d){let h=c(s,t,e-d),m=c(s,t,e+d);return{lo:h.lo,hi:m.hi}}}}else return c(s,t,e)}return{lo:0,hi:s.length-1}}function sm(n,t,e,i,r){let s=n.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,c=s.length;a<c;++a){let{index:l,data:d}=s[a],{lo:h,hi:m}=Gq(s[a],t,o,r);for(let p=h;p<=m;++p){let _=d[p];_.skip||i(_,l,p)}}}function Kq(n){let t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){let s=t?Math.abs(i.x-r.x):0,o=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function j1(n,t,e,i,r){let s=[];return!r&&!n.isPointInArea(t)||sm(n,e,t,function(a,c,l){!r&&!jn(a,n.chartArea,0)||a.inRange(t.x,t.y,i)&&s.push({element:a,datasetIndex:c,index:l})},!0),s}function Yq(n,t,e,i){let r=[];function s(o,a,c){let{startAngle:l,endAngle:d}=o.getProps(["startAngle","endAngle"],i),{angle:h}=E_(o,{x:t.x,y:t.y});da(h,l,d)&&r.push({element:o,datasetIndex:a,index:c})}return sm(n,e,t,s),r}function Qq(n,t,e,i,r,s){let o=[],a=Kq(e),c=Number.POSITIVE_INFINITY;function l(d,h,m){let p=d.inRange(t.x,t.y,r);if(i&&!p)return;let _=d.getCenterPoint(r);if(!(!!s||n.isPointInArea(_))&&!p)return;let v=a(t,_);v<c?(o=[{element:d,datasetIndex:h,index:m}],c=v):v===c&&o.push({element:d,datasetIndex:h,index:m})}return sm(n,e,t,l),o}function z1(n,t,e,i,r,s){return!s&&!n.isPointInArea(t)?[]:e==="r"&&!i?Yq(n,t,e,r):Qq(n,t,e,i,r,s)}function VO(n,t,e,i,r){let s=[],o=e==="x"?"inXRange":"inYRange",a=!1;return sm(n,e,t,(c,l,d)=>{c[o](t[e],r)&&(s.push({element:c,datasetIndex:l,index:d}),a=a||c.inRange(t.x,t.y,r))}),i&&!a?[]:s}var Xq={evaluateInteractionItems:sm,modes:{index(n,t,e,i){let r=qr(t,n),s=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?j1(n,r,s,i,o):z1(n,r,s,!1,i,o),c=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(l=>{let d=a[0].index,h=l.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:l.index,index:d})}),c):[]},dataset(n,t,e,i){let r=qr(t,n),s=e.axis||"xy",o=e.includeInvisible||!1,a=e.intersect?j1(n,r,s,i,o):z1(n,r,s,!1,i,o);if(a.length>0){let c=a[0].datasetIndex,l=n.getDatasetMeta(c).data;a=[];for(let d=0;d<l.length;++d)a.push({element:l[d],datasetIndex:c,index:d})}return a},point(n,t,e,i){let r=qr(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return j1(n,r,s,i,o)},nearest(n,t,e,i){let r=qr(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return z1(n,r,s,e.intersect,i,o)},x(n,t,e,i){let r=qr(t,n);return VO(n,r,"x",e.intersect,i)},y(n,t,e,i){let r=qr(t,n);return VO(n,r,"y",e.intersect,i)}}},MN=["left","top","right","bottom"];function Kh(n,t){return n.filter(e=>e.pos===t)}function BO(n,t){return n.filter(e=>MN.indexOf(e.pos)===-1&&e.box.axis===t)}function Yh(n,t){return n.sort((e,i)=>{let r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function Zq(n){let t=[],e,i,r,s,o,a;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:s,options:{stack:o,stackWeight:a=1}}=r,t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}function Jq(n){let t={};for(let e of n){let{stack:i,pos:r,stackWeight:s}=e;if(!i||!MN.includes(r))continue;let o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function tG(n,t){let e=Jq(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t,s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];let{fullSize:c}=a.box,l=e[a.stack],d=l&&a.stackWeight/l.weight;a.horizontal?(a.width=d?d*i:c&&t.availableWidth,a.height=r):(a.width=i,a.height=d?d*r:c&&t.availableHeight)}return e}function eG(n){let t=Zq(n),e=Yh(t.filter(l=>l.box.fullSize),!0),i=Yh(Kh(t,"left"),!0),r=Yh(Kh(t,"right")),s=Yh(Kh(t,"top"),!0),o=Yh(Kh(t,"bottom")),a=BO(t,"x"),c=BO(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(c).concat(o).concat(a),chartArea:Kh(t,"chartArea"),vertical:i.concat(r).concat(c),horizontal:s.concat(o).concat(a)}}function UO(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function PN(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function iG(n,t,e,i){let{pos:r,box:s}=e,o=n.maxPadding;if(!Mt(r)){e.size&&(n[r]-=e.size);let h=i[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?s.height:s.width),e.size=h.size/h.count,n[r]+=e.size}s.getPadding&&PN(o,s.getPadding());let a=Math.max(0,t.outerWidth-UO(o,n,"left","right")),c=Math.max(0,t.outerHeight-UO(o,n,"top","bottom")),l=a!==n.w,d=c!==n.h;return n.w=a,n.h=c,e.horizontal?{same:l,other:d}:{same:d,other:l}}function nG(n){let t=n.maxPadding;function e(i){let r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function rG(n,t){let e=t.maxPadding;function i(r){let s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],e[o])}),s}return i(n?["left","right"]:["top","bottom"])}function Zh(n,t,e,i){let r=[],s,o,a,c,l,d;for(s=0,o=n.length,l=0;s<o;++s){a=n[s],c=a.box,c.update(a.width||t.w,a.height||t.h,rG(a.horizontal,t));let{same:h,other:m}=iG(t,e,a,i);l|=h&&r.length,d=d||m,c.fullSize||r.push(a)}return l&&Zh(r,t,e,i)||d}function q_(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function jO(n,t,e,i){let r=e.padding,{x:s,y:o}=t;for(let a of n){let c=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/l.weight||1;if(a.horizontal){let h=t.w*d,m=l.size||c.height;ca(l.start)&&(o=l.start),c.fullSize?q_(c,r.left,o,e.outerWidth-r.right-r.left,m):q_(c,t.left+l.placed,o,h,m),l.start=o,l.placed+=h,o=c.bottom}else{let h=t.h*d,m=l.size||c.width;ca(l.start)&&(s=l.start),c.fullSize?q_(c,s,r.top,m,e.outerHeight-r.bottom-r.top):q_(c,s,t.top+l.placed,m,h),l.start=s,l.placed+=h,s=c.right}}t.x=s,t.y=o}var Ci={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){let e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;let r=Xe(n.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(e-r.height,0),a=eG(n.boxes),c=a.vertical,l=a.horizontal;Ut(n.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});let d=c.reduce((b,v)=>v.box.options&&v.box.options.display===!1?b:b+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),m=Object.assign({},r);PN(m,Xe(i));let p=Object.assign({maxPadding:m,w:s,h:o,x:r.left,y:r.top},r),_=tG(c.concat(l),h);Zh(a.fullSize,p,h,_),Zh(c,p,h,_),Zh(l,p,h,_)&&Zh(c,p,h,_),nG(p),jO(a.leftAndTop,p,h,_),p.x+=p.w,p.y+=p.h,jO(a.rightAndBottom,p,h,_),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Ut(a.chartArea,b=>{let v=b.box;Object.assign(v,n.chartArea),v.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}},ib=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}},Q1=class extends ib{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},J_="$chartjs",sG={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zO=n=>n===null||n==="";function oG(n,t){let e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[J_]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",zO(r)){let s=j_(n,"width");s!==void 0&&(n.width=s)}if(zO(i))if(n.style.height==="")n.height=n.width/(t||2);else{let s=j_(n,"height");s!==void 0&&(n.height=s)}return n}var ON=O1?{passive:!0}:!1;function aG(n,t,e){n&&n.addEventListener(t,e,ON)}function cG(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,ON)}function lG(n,t){let e=sG[n.type]||n.type,{x:i,y:r}=qr(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function nb(n,t){for(let e of n)if(e===t||e.contains(t))return!0}function dG(n,t,e){let i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||nb(a.addedNodes,i),o=o&&!nb(a.removedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function uG(n,t,e){let i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||nb(a.removedNodes,i),o=o&&!nb(a.addedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}var tm=new Map,HO=0;function NN(){let n=window.devicePixelRatio;n!==HO&&(HO=n,tm.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function hG(n,t){tm.size||window.addEventListener("resize",NN),tm.set(n,t)}function mG(n){tm.delete(n),tm.size||window.removeEventListener("resize",NN)}function fG(n,t,e){let i=n.canvas,r=i&&qh(i);if(!r)return;let s=T_((a,c)=>{let l=r.clientWidth;e(a,c),l<r.clientWidth&&e()},window),o=new ResizeObserver(a=>{let c=a[0],l=c.contentRect.width,d=c.contentRect.height;l===0&&d===0||s(l,d)});return o.observe(r),hG(n,s),o}function H1(n,t,e){e&&e.disconnect(),t==="resize"&&mG(n)}function pG(n,t,e){let i=n.canvas,r=T_(s=>{n.ctx!==null&&e(lG(s,n))},n);return aG(i,t,r),r}var X1=class extends ib{acquireContext(t,e){let i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(oG(t,e),i):null}releaseContext(t){let e=t.canvas;if(!e[J_])return!1;let i=e[J_].initial;["height","width"].forEach(s=>{let o=i[s];Dt(o)?e.removeAttribute(s):e.setAttribute(s,o)});let r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[J_],!0}addEventListener(t,e,i){this.removeEventListener(t,e);let r=t.$proxies||(t.$proxies={}),o={attach:dG,detach:uG,resize:fG}[e]||pG;r[e]=o(t,e,i)}removeEventListener(t,e){let i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:H1,detach:H1,resize:H1}[e]||cG)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return P1(t,e,i,r)}isAttached(t){let e=t&&qh(t);return!!(e&&e.isConnected)}};function gG(n){return!$h()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Q1:X1}var Wn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return qs(this.x)&&qs(this.y)}getProps(t,e){let i=this.$animations;if(!e||!i)return this;let r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}};function _G(n,t){let e=n.options.ticks,i=bG(n),r=Math.min(e.maxTicksLimit||i,i),s=e.major.enabled?yG(t):[],o=s.length,a=s[0],c=s[o-1],l=[];if(o>r)return wG(t,l,s,o/r),l;let d=vG(s,t,r);if(o>0){let h,m,p=o>1?Math.round((c-a)/(o-1)):null;for(G_(t,l,d,Dt(p)?0:a-p,a),h=0,m=o-1;h<m;h++)G_(t,l,d,s[h],s[h+1]);return G_(t,l,d,c,Dt(p)?t.length:c+p),l}return G_(t,l,d),l}function bG(n){let t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function vG(n,t,e){let i=xG(n),r=t.length/e;if(!i)return Math.max(r,1);let s=b1(i);for(let o=0,a=s.length-1;o<a;o++){let c=s[o];if(c>r)return c}return Math.max(r,1)}function yG(n){let t=[],e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function wG(n,t,e,i){let r=0,s=e[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(t.push(n[o]),r++,s=e[r*i])}function G_(n,t,e,i,r){let s=Ct(i,0),o=Math.min(Ct(r,n.length),n.length),a=0,c,l,d;for(e=Math.ceil(e),r&&(c=r-i,e=c/Math.floor(c/e)),d=s;d<0;)a++,d=Math.round(s+a*e);for(l=Math.max(s,0);l<o;l++)l===d&&(t.push(n[l]),a++,d=Math.round(s+a*e))}function xG(n){let t=n.length,e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}var CG=n=>n==="left"?"right":n==="right"?"left":n,WO=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,$O=(n,t)=>Math.min(t||n,n);function qO(n,t){let e=[],i=n.length/t,r=n.length,s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function EG(n,t,e){let i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,o=n._endPixel,a=1e-6,c=n.getPixelForTick(r),l;if(!(e&&(i===1?l=Math.max(c-s,o-c):t===0?l=(n.getPixelForTick(1)-c)/2:l=(c-n.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<s-a||c>o+a)))return c}function IG(n,t){Ut(n,e=>{let i=e.gc,r=i.length/2,s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}function Qh(n){return n.drawTicks?n.tickLength:0}function GO(n,t){if(!n.display)return 0;let e=ke(n.font,t),i=Xe(n.padding);return(ie(n.text)?n.text.length:1)*e.lineHeight+i.height}function kG(n,t){return ur(n,{scale:t,type:"scale"})}function SG(n,t,e){return ur(n,{tick:e,index:t,type:"tick"})}function TG(n,t,e){let i=Uh(n);return(e&&t!=="right"||!e&&t==="right")&&(i=CG(i)),i}function AG(n,t,e,i){let{top:r,left:s,bottom:o,right:a,chart:c}=n,{chartArea:l,scales:d}=c,h=0,m,p,_,b=o-r,v=a-s;if(n.isHorizontal()){if(p=ii(i,s,a),Mt(e)){let R=Object.keys(e)[0],P=e[R];_=d[R].getPixelForValue(P)+b-t}else e==="center"?_=(l.bottom+l.top)/2+b-t:_=WO(n,e,t);m=a-s}else{if(Mt(e)){let R=Object.keys(e)[0],P=e[R];p=d[R].getPixelForValue(P)-v+t}else e==="center"?p=(l.left+l.right)/2-v+t:p=WO(n,e,t);_=ii(i,o,r),h=e==="left"?-Ie:Ie}return{titleX:p,titleY:_,maxWidth:m,rotation:h}}var pa=class n extends Wn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Vi(t,Number.POSITIVE_INFINITY),e=Vi(e,Number.NEGATIVE_INFINITY),i=Vi(i,Number.POSITIVE_INFINITY),r=Vi(r,Number.NEGATIVE_INFINITY),{min:Vi(t,i),max:Vi(e,r),minDefined:ve(t),maxDefined:ve(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:e,max:i};let a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)o=a[c].controller.getMinMax(this,t),r||(e=Math.min(e,o.min)),s||(i=Math.max(i,o.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:Vi(e,Vi(i,e)),max:Vi(i,Vi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ht(this.options.beforeUpdate,[this])}update(t,e,i){let{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=A1(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?qO(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=_G(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ht(this.options.afterUpdate,[this])}beforeSetDimensions(){Ht(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ht(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ht(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ht(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=Ht(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){Ht(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ht(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,i=$O(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,s=e.maxRotation,o=r,a,c,l;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}let d=this._getLabelSizes(),h=d.widest.width,m=d.highest.height,p=Qe(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:p/(i-1),h+6>a&&(a=p/(i-(t.offset?.5:1)),c=this.maxHeight-Qh(t.grid)-e.padding-GO(t.title,this.chart.options.font),l=Math.sqrt(h*h+m*m),o=Vh(Math.min(Math.asin(Qe((d.highest.height+6)/a,-1,1)),Math.asin(Qe(c/l,-1,1))-Math.asin(Qe(m/l,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ht(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ht(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let c=GO(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=Qh(s)+c):(t.height=this.maxHeight,t.width=Qh(s)+c),i.display&&this.ticks.length){let{first:l,last:d,widest:h,highest:m}=this._getLabelSizes(),p=i.padding*2,_=rn(this.labelRotation),b=Math.cos(_),v=Math.sin(_);if(a){let R=i.mirror?0:v*h.width+b*m.height;t.height=Math.min(this.maxHeight,t.height+R+p)}else{let R=i.mirror?0:b*h.width+v*m.height;t.width=Math.min(this.maxWidth,t.width+R+p)}this._calculatePadding(l,d,v,b)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){let{ticks:{align:s,padding:o},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),m=0,p=0;c?l?(m=r*t.width,p=i*e.height):(m=i*t.height,p=r*e.width):s==="start"?p=e.width:s==="end"?m=t.width:s!=="inner"&&(m=t.width/2,p=e.width/2),this.paddingLeft=Math.max((m-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let d=e.height/2,h=t.height/2;s==="start"?(d=0,h=t.height):s==="end"&&(d=e.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ht(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Dt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,i=this.ticks;e<i.length&&(i=qO(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){let{ctx:r,_longestTextCache:s}=this,o=[],a=[],c=Math.floor(e/$O(e,i)),l=0,d=0,h,m,p,_,b,v,R,P,V,j,z;for(h=0;h<e;h+=c){if(_=t[h].label,b=this._resolveTickFontOptions(h),r.font=v=b.string,R=s[v]=s[v]||{data:{},gc:[]},P=b.lineHeight,V=j=0,!Dt(_)&&!ie(_))V=ul(r,R.data,R.gc,V,_),j=P;else if(ie(_))for(m=0,p=_.length;m<p;++m)z=_[m],!Dt(z)&&!ie(z)&&(V=ul(r,R.data,R.gc,V,z),j+=P);o.push(V),a.push(j),l=Math.max(V,l),d=Math.max(j,d)}IG(s,e);let H=o.indexOf(l),k=a.indexOf(d),x=I=>({width:o[I]||0,height:a[I]||0});return{first:x(0),last:x(e-1),widest:x(H),highest:x(k),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return y1(this._alignToPixels?Hr(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let i=e[t];return i.$context||(i.$context=SG(this.getContext(),t,i))}return this.$context||(this.$context=kG(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=rn(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*i>a*r?a/i:c/r:c*r<a*i?c/i:a/r}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,c=s.offset,l=this.isHorizontal(),h=this.ticks.length+(c?1:0),m=Qh(s),p=[],_=a.setContext(this.getContext()),b=_.display?_.width:0,v=b/2,R=function(se){return Hr(i,se,b)},P,V,j,z,H,k,x,I,D,M,O,A;if(o==="top")P=R(this.bottom),k=this.bottom-m,I=P-v,M=R(t.top)+v,A=t.bottom;else if(o==="bottom")P=R(this.top),M=t.top,A=R(t.bottom)-v,k=P+v,I=this.top+m;else if(o==="left")P=R(this.right),H=this.right-m,x=P-v,D=R(t.left)+v,O=t.right;else if(o==="right")P=R(this.left),D=t.left,O=R(t.right)-v,H=P+v,x=this.left+m;else if(e==="x"){if(o==="center")P=R((t.top+t.bottom)/2+.5);else if(Mt(o)){let se=Object.keys(o)[0],te=o[se];P=R(this.chart.scales[se].getPixelForValue(te))}M=t.top,A=t.bottom,k=P+v,I=k+m}else if(e==="y"){if(o==="center")P=R((t.left+t.right)/2);else if(Mt(o)){let se=Object.keys(o)[0],te=o[se];P=R(this.chart.scales[se].getPixelForValue(te))}H=P-v,x=H-m,D=t.left,O=t.right}let ye=Ct(r.ticks.maxTicksLimit,h),Vt=Math.max(1,Math.ceil(h/ye));for(V=0;V<h;V+=Vt){let se=this.getContext(V),te=s.setContext(se),ni=a.setContext(se),Le=te.lineWidth,fr=te.color,ga=ni.dash||[],Ei=ni.dashOffset,Se=te.tickWidth,pr=te.tickColor,xn=te.tickBorderDash||[],gr=te.tickBorderDashOffset;j=EG(this,V,c),j!==void 0&&(z=Hr(i,j,Le),l?H=x=D=O=z:k=I=M=A=z,p.push({tx1:H,ty1:k,tx2:x,ty2:I,x1:D,y1:M,x2:O,y2:A,width:Le,color:fr,borderDash:ga,borderDashOffset:Ei,tickWidth:Se,tickColor:pr,tickBorderDash:xn,tickBorderDashOffset:gr}))}return this._ticksLength=h,this._borderValue=P,p}_computeLabelItems(t){let e=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:d,mirror:h}=s,m=Qh(i.grid),p=m+d,_=h?-d:p,b=-rn(this.labelRotation),v=[],R,P,V,j,z,H,k,x,I,D,M,O,A="middle";if(r==="top")H=this.bottom-_,k=this._getXAxisLabelAlignment();else if(r==="bottom")H=this.top+_,k=this._getXAxisLabelAlignment();else if(r==="left"){let Vt=this._getYAxisLabelAlignment(m);k=Vt.textAlign,z=Vt.x}else if(r==="right"){let Vt=this._getYAxisLabelAlignment(m);k=Vt.textAlign,z=Vt.x}else if(e==="x"){if(r==="center")H=(t.top+t.bottom)/2+p;else if(Mt(r)){let Vt=Object.keys(r)[0],se=r[Vt];H=this.chart.scales[Vt].getPixelForValue(se)+p}k=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")z=(t.left+t.right)/2-p;else if(Mt(r)){let Vt=Object.keys(r)[0],se=r[Vt];z=this.chart.scales[Vt].getPixelForValue(se)}k=this._getYAxisLabelAlignment(m).textAlign}e==="y"&&(c==="start"?A="top":c==="end"&&(A="bottom"));let ye=this._getLabelSizes();for(R=0,P=a.length;R<P;++R){V=a[R],j=V.label;let Vt=s.setContext(this.getContext(R));x=this.getPixelForTick(R)+s.labelOffset,I=this._resolveTickFontOptions(R),D=I.lineHeight,M=ie(j)?j.length:1;let se=M/2,te=Vt.color,ni=Vt.textStrokeColor,Le=Vt.textStrokeWidth,fr=k;o?(z=x,k==="inner"&&(R===P-1?fr=this.options.reverse?"left":"right":R===0?fr=this.options.reverse?"right":"left":fr="center"),r==="top"?l==="near"||b!==0?O=-M*D+D/2:l==="center"?O=-ye.highest.height/2-se*D+D:O=-ye.highest.height+D/2:l==="near"||b!==0?O=D/2:l==="center"?O=ye.highest.height/2-se*D:O=ye.highest.height-M*D,h&&(O*=-1),b!==0&&!Vt.showLabelBackdrop&&(z+=D/2*Math.sin(b))):(H=x,O=(1-M)*D/2);let ga;if(Vt.showLabelBackdrop){let Ei=Xe(Vt.backdropPadding),Se=ye.heights[R],pr=ye.widths[R],xn=O-Ei.top,gr=0-Ei.left;switch(A){case"middle":xn-=Se/2;break;case"bottom":xn-=Se;break}switch(k){case"center":gr-=pr/2;break;case"right":gr-=pr;break;case"inner":R===P-1?gr-=pr:R>0&&(gr-=pr/2);break}ga={left:gr,top:xn,width:pr+Ei.width,height:Se+Ei.height,color:Vt.backdropColor}}v.push({label:j,font:I,textOffset:O,options:{rotation:b,color:te,strokeColor:ni,strokeWidth:Le,textAlign:fr,textBaseline:A,translation:[z,H],backdrop:ga}})}return v}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-rn(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,c=o.widest.width,l,d;return e==="left"?r?(d=this.right+s,i==="near"?l="left":i==="center"?(l="center",d+=c/2):(l="right",d+=c)):(d=this.right-a,i==="near"?l="right":i==="center"?(l="center",d-=c/2):(l="left",d=this.left)):e==="right"?r?(d=this.left+s,i==="near"?l="right":i==="center"?(l="center",d-=c/2):(l="left",d-=c)):(d=this.left+a,i==="near"?l="left":i==="center"?(l="center",d+=c/2):(l="right",d=this.right)):l="right",{textAlign:l,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,o),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){let e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),s,o,a=(c,l,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(l.x,l.y),i.stroke(),i.restore())};if(e.display)for(s=0,o=r.length;s<o;++s){let c=r[s];e.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;let a=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue,l,d,h,m;this.isHorizontal()?(l=Hr(t,this.left,o)-o/2,d=Hr(t,this.right,a)+a/2,h=m=c):(h=Hr(t,this.top,o)-o/2,m=Hr(t,this.bottom,a)+a/2,l=d=c),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(l,h),e.lineTo(d,m),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let i=this.ctx,r=this._computeLabelArea();r&&fl(i,r);let s=this.getLabelItems(t);for(let o of s){let a=o.options,c=o.font,l=o.label,d=o.textOffset;Wr(i,l,0,d,c,a)}r&&pl(i)}drawTitle(){let{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;let s=ke(i.font),o=Xe(i.padding),a=i.align,c=s.lineHeight/2;e==="bottom"||e==="center"||Mt(e)?(c+=o.bottom,ie(i.text)&&(c+=s.lineHeight*(i.text.length-1))):c+=o.top;let{titleX:l,titleY:d,maxWidth:h,rotation:m}=AG(this,c,e,a);Wr(t,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:m,textAlign:TG(a,e,r),textBaseline:"middle",translation:[l,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,i=Ct(t.grid&&t.grid.z,-1),r=Ct(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:e,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[],s,o;for(s=0,o=e.length;s<o;++s){let a=e[s];a[i]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return ke(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},_l=class{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),i;MG(e)&&(i=this.register(e));let r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,DG(t,o,i),this.override&&ge.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){let e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in ge[r]&&(delete ge[r][i],this.override&&delete Gs[i])}};function DG(n,t,e){let i=nn(Object.create(null),[e?ge.get(e):{},ge.get(t),n.defaults]);ge.set(t,i),n.defaultRoutes&&RG(t,n.defaultRoutes),n.descriptors&&ge.describe(t,n.descriptors)}function RG(n,t){Object.keys(t).forEach(e=>{let i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),o=t[e].split("."),a=o.pop(),c=o.join(".");ge.route(s,r,c,a)})}function MG(n){return"id"in n&&"defaults"in n}var Z1=class{constructor(){this.controllers=new _l(Qs,"datasets",!0),this.elements=new _l(Wn,"elements"),this.plugins=new _l(Object,"plugins"),this.scales=new _l(pa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{let s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):Ut(r,o=>{let a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,i){let r=Lh(t);Ht(i["before"+r],[],i),e[t](i),Ht(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){let r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}},mr=new Z1,J1=class{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,e,i);return e==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,r){r=r||{};for(let s of t){let o=s.plugin,a=o[i],c=[e,r,s.options];if(Ht(a,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Dt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let i=t&&t.config,r=Ct(i.options&&i.options.plugins,{}),s=PG(i);return r===!1&&!e?[]:NG(t,s,r,e)}_notifyStateChanges(t){let e=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}};function PG(n){let t={},e=[],i=Object.keys(mr.plugins.items);for(let s=0;s<i.length;s++)e.push(mr.getPlugin(i[s]));let r=n.plugins||[];for(let s=0;s<r.length;s++){let o=r[s];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function OG(n,t){return!t&&n===!1?null:n===!0?{}:n}function NG(n,{plugins:t,localIds:e},i,r){let s=[],o=n.getContext();for(let a of t){let c=a.id,l=OG(i[c],r);l!==null&&s.push({plugin:a,options:FG(n.config,{plugin:a,local:e[c]},l,o)})}return s}function FG(n,{plugin:t,local:e},i,r){let s=n.pluginScopeKeys(t),o=n.getOptionScopes(i,s);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function tE(n,t){let e=ge.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function LG(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function VG(n,t){return n===t?"_index_":"_value_"}function KO(n){if(n==="x"||n==="y"||n==="r")return n}function BG(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function eE(n,...t){if(KO(n))return n;for(let e of t){let i=e.axis||BG(e.position)||n.length>1&&KO(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function YO(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function UG(n,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return YO(n,"x",e[0])||YO(n,"y",e[0])}return{}}function jG(n,t){let e=Gs[n.type]||{scales:{}},i=t.scales||{},r=tE(n.type,t),s=Object.create(null);return Object.keys(i).forEach(o=>{let a=i[o];if(!Mt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let c=eE(o,a,UG(o,n),ge.scales[a.type]),l=VG(c,r),d=e.scales||{};s[o]=aa(Object.create(null),[{axis:c},a,d[c],d[l]])}),n.data.datasets.forEach(o=>{let a=o.type||n.type,c=o.indexAxis||tE(a,t),d=(Gs[a]||{}).scales||{};Object.keys(d).forEach(h=>{let m=LG(h,c),p=o[m+"AxisID"]||m;s[p]=s[p]||Object.create(null),aa(s[p],[{axis:m},i[p],d[h]])})}),Object.keys(s).forEach(o=>{let a=s[o];aa(a,[ge.scales[a.type],ge.scale])}),s}function FN(n){let t=n.options||(n.options={});t.plugins=Ct(t.plugins,{}),t.scales=jG(n,t)}function LN(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function zG(n){return n=n||{},n.data=LN(n.data),FN(n),n}var QO=new Map,VN=new Set;function K_(n,t){let e=QO.get(n);return e||(e=t(),QO.set(n,e),VN.add(e)),e}var Xh=(n,t,e)=>{let i=dr(t,e);i!==void 0&&n.add(i)},iE=class{constructor(t){this._config=zG(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=LN(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),FN(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return K_(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return K_(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return K_(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,i=this.type;return K_(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let i=this._scopeCache,r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){let{options:r,type:s}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;let c=new Set;e.forEach(d=>{t&&(c.add(t),d.forEach(h=>Xh(c,t,h))),d.forEach(h=>Xh(c,r,h)),d.forEach(h=>Xh(c,Gs[s]||{},h)),d.forEach(h=>Xh(c,ge,h)),d.forEach(h=>Xh(c,P_,h))});let l=Array.from(c);return l.length===0&&l.push(Object.create(null)),VN.has(e)&&o.set(e,l),l}chartOptionScopes(){let{options:t,type:e}=this;return[t,Gs[e]||{},ge.datasets[e]||{},{type:e},ge,P_]}resolveNamedOptions(t,e,i,r=[""]){let s={$shared:!0},{resolver:o,subPrefixes:a}=XO(this._resolverCache,t,r),c=o;if(WG(o,e)){s.$shared=!1,i=cr(i)?i():i;let l=this.createResolver(t,i,a);c=$s(o,i,l)}for(let l of e)s[l]=c[l];return s}createResolver(t,e,i=[""],r){let{resolver:s}=XO(this._resolverCache,t,i);return Mt(e)?$s(s,e,void 0,r):s}};function XO(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));let r=e.join(),s=i.get(r);return s||(s={resolver:Wh(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}var HG=n=>Mt(n)&&Object.getOwnPropertyNames(n).some(t=>cr(n[t]));function WG(n,t){let{isScriptable:e,isIndexable:i}=L_(n);for(let r of t){let s=e(r),o=i(r),a=(o||s)&&n[r];if(s&&(cr(a)||HG(a))||o&&ie(a))return!0}return!1}var $G="4.4.3",qG=["top","bottom","left","right","chartArea"];function ZO(n,t){return n==="top"||n==="bottom"||qG.indexOf(n)===-1&&t==="x"}function JO(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function tN(n){let t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Ht(e&&e.onComplete,[n],t)}function GG(n){let t=n.chart,e=t.options.animation;Ht(e&&e.onProgress,[n],t)}function BN(n){return $h()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var tb={},eN=n=>{let t=BN(n);return Object.values(tb).filter(e=>e.canvas===t).pop()};function KG(n,t,e){let i=Object.keys(n);for(let r of i){let s=+r;if(s>=t){let o=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=o)}}}function YG(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}function Y_(n,t,e){return n.options.clip?n[e]:t[e]}function QG(n,t){let{xScale:e,yScale:i}=n;return e&&i?{left:Y_(e,t,"left"),right:Y_(e,t,"right"),top:Y_(i,t,"top"),bottom:Y_(i,t,"bottom")}:t}var vl=(()=>{class n{static defaults=ge;static instances=tb;static overrides=Gs;static registry=mr;static version=$G;static getChart=eN;static register(...e){mr.add(...e),iN()}static unregister(...e){mr.remove(...e),iN()}constructor(e,i){let r=this.config=new iE(i),s=BN(e),o=eN(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||gG(s)),this.platform.updateConfig(r);let c=this.platform.acquireContext(s,a.aspectRatio),l=c&&c.canvas,d=l&&l.height,h=l&&l.width;if(this.id=p1(),this.ctx=c,this.canvas=l,this.width=h,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new J1,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=E1(m=>this.update(m),a.resizeDelay||0),this._dataChanges=[],tb[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Gr.listen(this,"complete",tN),Gr.listen(this,"progress",GG),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:i},width:r,height:s,_aspectRatio:o}=this;return Dt(e)?i&&o?o:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return mr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():U_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return O_(this.canvas,this.ctx),this}stop(){return Gr.stop(this),this}resize(e,i){Gr.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){let r=this.options,s=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,i,o),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,U_(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),Ht(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};Ut(i,(r,s)=>{r.id=s})}buildOrUpdateScales(){let e=this.options,i=e.scales,r=this.scales,s=Object.keys(r).reduce((a,c)=>(a[c]=!1,a),{}),o=[];i&&(o=o.concat(Object.keys(i).map(a=>{let c=i[a],l=eE(a,c),d=l==="r",h=l==="x";return{options:c,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),Ut(o,a=>{let c=a.options,l=c.id,d=eE(l,c),h=Ct(c.type,a.dtype);(c.position===void 0||ZO(c.position,d)!==ZO(a.dposition))&&(c.position=a.dposition),s[l]=!0;let m=null;if(l in r&&r[l].type===h)m=r[l];else{let p=mr.getScale(h);m=new p({id:l,type:h,ctx:this.ctx,chart:this}),r[m.id]=m}m.init(c,e)}),Ut(s,(a,c)=>{a||delete r[c]}),Ut(r,a=>{Ci.configure(this,a,a.options),Ci.addBox(this,a)})}_updateMetasets(){let e=this._metasets,i=this.data.datasets.length,r=e.length;if(e.sort((s,o)=>s.index-o.index),r>i){for(let s=i;s<r;++s)this._destroyDatasetMeta(s);e.splice(i,r-i)}this._sortedMetasets=e.slice(0).sort(JO("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((r,s)=>{i.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let e=[],i=this.data.datasets,r,s;for(this._removeUnreferencedMetasets(),r=0,s=i.length;r<s;r++){let o=i[r],a=this.getDatasetMeta(r),c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=c,a.indexAxis=o.indexAxis||tE(c,this.options),a.order=o.order||0,a.index=r,a.label=""+o.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let l=mr.getController(c),{datasetElementType:d,dataElementType:h}=ge.datasets[c];Object.assign(l,{dataElementType:mr.getElement(h),datasetElementType:d&&mr.getElement(d)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Ut(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let i=this.config;i.update();let r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,h=this.data.datasets.length;d<h;d++){let{controller:m}=this.getDatasetMeta(d),p=!s&&o.indexOf(m)===-1;m.buildOrUpdateElements(p),a=Math.max(+m.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||Ut(o,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(JO("z","_idx"));let{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Ut(this.scales,e=>{Ci.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!y_(i,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(let{method:r,start:s,count:o}of i){let a=r==="_removeElements"?-o:o;KG(e,s,a)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let i=this.data.datasets.length,r=o=>new Set(e.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),s=r(0);for(let o=1;o<i;o++)if(!y_(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ci.update(this,this.width,this.height,e);let i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],Ut(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,cr(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){let r=this.getDatasetMeta(e),s={meta:r,index:e,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(i),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Gr.has(this)?this.attached&&!Gr.running(this)&&Gr.start(this):(this.draw(),tN({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:r,height:s}=this._resizeBeforeDraw;this._resize(r,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let i=this._sortedMetasets,r=[],s,o;for(s=0,o=i.length;s<o;++s){let a=i[s];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let i=this.ctx,r=e._clip,s=!r.disabled,o=QG(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&fl(i,{left:r.left===!1?0:o.left-r.left,right:r.right===!1?this.width:o.right+r.right,top:r.top===!1?0:o.top-r.top,bottom:r.bottom===!1?this.height:o.bottom+r.bottom}),e.controller.draw(),s&&pl(i),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return jn(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,r,s){let o=Xq.modes[i];return typeof o=="function"?o(this,e,r,s):[]}getDatasetMeta(e){let i=this.data.datasets[e],r=this._metasets,s=r.filter(o=>o&&o._dataset===i).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=ur(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let i=this.data.datasets[e];if(!i)return!1;let r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!i.hidden}setDatasetVisibility(e,i){let r=this.getDatasetMeta(e);r.hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,r){let s=r?"show":"hide",o=this.getDatasetMeta(e),a=o.controller._resolveAnimations(void 0,s);ca(i)?(o.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(o,{visible:r}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){let i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),Gr.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),O_(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete tb[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,i=this.platform,r=(o,a)=>{i.addEventListener(this,o,a),e[o]=a},s=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};Ut(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,i=this.platform,r=(l,d)=>{i.addEventListener(this,l,d),e[l]=d},s=(l,d)=>{e[l]&&(i.removeEventListener(this,l,d),delete e[l])},o=(l,d)=>{this.canvas&&this.resize(l,d)},a,c=()=>{s("attach",c),this.attached=!0,this.resize(),r("resize",o),r("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",c)},i.isAttached(this.canvas)?c():a()}unbindEvents(){Ut(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},Ut(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,r){let s=r?"set":"remove",o,a,c,l;for(i==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),c=0,l=e.length;c<l;++c){a=e[c];let d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let i=this._active||[],r=e.map(({datasetIndex:o,index:a})=>{let c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!ml(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(e,i,r){return this._plugins.notify(this,e,i,r)}isPluginEnabled(e){return this._plugins._cache.filter(i=>i.plugin.id===e).length===1}_updateHoverStyles(e,i,r){let s=this.options.hover,o=(l,d)=>l.filter(h=>!d.some(m=>h.datasetIndex===m.datasetIndex&&h.index===m.index)),a=o(i,e),c=r?e:o(e,i);a.length&&this.updateHoverStyle(a,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,i){let r={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;let o=this._handleEvent(e,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(e,i,r){let{_active:s=[],options:o}=this,a=i,c=this._getActiveElements(e,s,r,a),l=_1(e),d=YG(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Ht(o.onHover,[e,c,this],this),l&&Ht(o.onClick,[e,c,this],this));let h=!ml(c,s);return(h||i)&&(this._active=c,this._updateHoverStyles(c,s,i)),this._lastEvent=d,h}_getActiveElements(e,i,r,s){if(e.type==="mouseout")return[];if(!r)return i;let o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,s)}}return n})();function iN(){return Ut(vl.instances,n=>n._plugins.invalidate())}function XG(n,t,e){let{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:c}=t,l=r/a;n.beginPath(),n.arc(s,o,a,i-l,e+l),c>r?(l=r/c,n.arc(s,o,c,e+l,i-l,!0)):n.arc(s,o,r,e+Ie,i-Ie),n.closePath(),n.clip()}function ZG(n){return Hh(n,["outerStart","outerEnd","innerStart","innerEnd"])}function JG(n,t,e,i){let r=ZG(n.options.borderRadius),s=(e-t)/2,o=Math.min(s,i*t/2),a=c=>{let l=(e-Math.min(s,c))*i/2;return Qe(c,0,Math.min(s,l))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Qe(r.innerStart,0,o),innerEnd:Qe(r.innerEnd,0,o)}}function gl(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function rb(n,t,e,i,r,s){let{x:o,y:a,startAngle:c,pixelMargin:l,innerRadius:d}=t,h=Math.max(t.outerRadius+i+e-l,0),m=d>0?d+i+e+l:0,p=0,_=r-c;if(i){let Vt=d>0?d-i:0,se=h>0?h-i:0,te=(Vt+se)/2,ni=te!==0?_*te/(te+i):_;p=(_-ni)/2}let b=Math.max(.001,_*h-e/ne)/h,v=(_-b)/2,R=c+v+p,P=r-v-p,{outerStart:V,outerEnd:j,innerStart:z,innerEnd:H}=JG(t,m,h,P-R),k=h-V,x=h-j,I=R+V/k,D=P-j/x,M=m+z,O=m+H,A=R+z/M,ye=P-H/O;if(n.beginPath(),s){let Vt=(I+D)/2;if(n.arc(o,a,h,I,Vt),n.arc(o,a,h,Vt,D),j>0){let Le=gl(x,D,o,a);n.arc(Le.x,Le.y,j,D,P+Ie)}let se=gl(O,P,o,a);if(n.lineTo(se.x,se.y),H>0){let Le=gl(O,ye,o,a);n.arc(Le.x,Le.y,H,P+Ie,ye+Math.PI)}let te=(P-H/m+(R+z/m))/2;if(n.arc(o,a,m,P-H/m,te,!0),n.arc(o,a,m,te,R+z/m,!0),z>0){let Le=gl(M,A,o,a);n.arc(Le.x,Le.y,z,A+Math.PI,R-Ie)}let ni=gl(k,R,o,a);if(n.lineTo(ni.x,ni.y),V>0){let Le=gl(k,I,o,a);n.arc(Le.x,Le.y,V,R-Ie,I)}}else{n.moveTo(o,a);let Vt=Math.cos(I)*h+o,se=Math.sin(I)*h+a;n.lineTo(Vt,se);let te=Math.cos(D)*h+o,ni=Math.sin(D)*h+a;n.lineTo(te,ni)}n.closePath()}function tK(n,t,e,i,r){let{fullCircles:s,startAngle:o,circumference:a}=t,c=t.endAngle;if(s){rb(n,t,e,i,c,r);for(let l=0;l<s;++l)n.fill();isNaN(a)||(c=o+(a%re||re))}return rb(n,t,e,i,c,r),n.fill(),c}function eK(n,t,e,i,r){let{fullCircles:s,startAngle:o,circumference:a,options:c}=t,{borderWidth:l,borderJoinStyle:d,borderDash:h,borderDashOffset:m}=c,p=c.borderAlign==="inner";if(!l)return;n.setLineDash(h||[]),n.lineDashOffset=m,p?(n.lineWidth=l*2,n.lineJoin=d||"round"):(n.lineWidth=l,n.lineJoin=d||"bevel");let _=t.endAngle;if(s){rb(n,t,e,i,_,r);for(let b=0;b<s;++b)n.stroke();isNaN(a)||(_=o+(a%re||re))}p&&XG(n,t,_),s||(rb(n,t,e,i,_,r),n.stroke())}var em=class extends Wn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){let r=this.getProps(["x","y"],i),{angle:s,distance:o}=E_(r,{x:t,y:e}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),m=(this.options.spacing+this.options.borderWidth)/2,_=Ct(h,c-a)>=re||da(s,a,c),b=Hn(o,l+m,d+m);return _&&b}getCenterPoint(t){let{x:e,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:l}=this.options,d=(r+s)/2,h=(o+a+l+c)/2;return{x:e+Math.cos(d)*h,y:i+Math.sin(d)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:i}=this,r=(e.offset||0)/4,s=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>re?Math.floor(i/re):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*r,Math.sin(a)*r);let c=1-Math.sin(Math.min(ne,i||0)),l=r*c;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,tK(t,this,l,s,o),eK(t,this,l,s,o),t.restore()}};function UN(n,t,e=t){n.lineCap=Ct(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Ct(e.borderDash,t.borderDash)),n.lineDashOffset=Ct(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Ct(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Ct(e.borderWidth,t.borderWidth),n.strokeStyle=Ct(e.borderColor,t.borderColor)}function iK(n,t,e){n.lineTo(e.x,e.y)}function nK(n){return n.stepped?S1:n.tension||n.cubicInterpolationMode==="monotone"?T1:iK}function jN(n,t,e={}){let i=n.length,{start:r=0,end:s=i-1}=e,{start:o,end:a}=t,c=Math.max(r,o),l=Math.min(s,a),d=r<o&&s<o||r>a&&s>a;return{count:i,start:c,loop:t.loop,ilen:l<c&&!d?i+l-c:l-c}}function rK(n,t,e,i){let{points:r,options:s}=t,{count:o,start:a,loop:c,ilen:l}=jN(r,e,i),d=nK(s),{move:h=!0,reverse:m}=i||{},p,_,b;for(p=0;p<=l;++p)_=r[(a+(m?l-p:p))%o],!_.skip&&(h?(n.moveTo(_.x,_.y),h=!1):d(n,b,_,m,s.stepped),b=_);return c&&(_=r[(a+(m?l:0))%o],d(n,b,_,m,s.stepped)),!!c}function sK(n,t,e,i){let r=t.points,{count:s,start:o,ilen:a}=jN(r,e,i),{move:c=!0,reverse:l}=i||{},d=0,h=0,m,p,_,b,v,R,P=j=>(o+(l?a-j:j))%s,V=()=>{b!==v&&(n.lineTo(d,v),n.lineTo(d,b),n.lineTo(d,R))};for(c&&(p=r[P(0)],n.moveTo(p.x,p.y)),m=0;m<=a;++m){if(p=r[P(m)],p.skip)continue;let j=p.x,z=p.y,H=j|0;H===_?(z<b?b=z:z>v&&(v=z),d=(h*d+j)/++h):(V(),n.lineTo(j,z),_=H,h=0,b=v=z),R=z}V()}function nE(n){let t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?sK:rK}function oK(n){return n.stepped?N1:n.tension||n.cubicInterpolationMode==="monotone"?F1:zr}function aK(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),UN(n,t.options),n.stroke(r)}function cK(n,t,e,i){let{segments:r,options:s}=t,o=nE(t);for(let a of r)UN(n,s,a.style),n.beginPath(),o(n,t,a,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}var lK=typeof Path2D=="function";function dK(n,t,e,i){lK&&!t.options.segment?aK(n,t,e,i):cK(n,t,e,i)}var ab=(()=>{class n extends Wn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let s=r.spanGaps?this._loop:this._fullLoop;M1(this._points,r,e,s,i),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=L1(this,this.options.segment))}first(){let e=this.segments,i=this.points;return e.length&&i[e[0].start]}last(){let e=this.segments,i=this.points,r=e.length;return r&&i[e[r-1].end]}interpolate(e,i){let r=this.options,s=e[i],o=this.points,a=$_(this,{property:i,start:s,end:s});if(!a.length)return;let c=[],l=oK(r),d,h;for(d=0,h=a.length;d<h;++d){let{start:m,end:p}=a[d],_=o[m],b=o[p];if(_===b){c.push(_);continue}let v=Math.abs((s-_[i])/(b[i]-_[i])),R=l(_,b,v,r.stepped);R[i]=e[i],c.push(R)}return c.length===1?c[0]:c}pathSegment(e,i,r){return nE(this)(e,this,i,r)}path(e,i,r){let s=this.segments,o=nE(this),a=this._loop;i=i||0,r=r||this.points.length-i;for(let c of s)a&=o(e,this,c,{start:i,end:i+r-1});return!!a}draw(e,i,r,s){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),dK(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n})();function nN(n,t,e,i){let r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}var mE=(()=>{class n extends Wn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){let s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(e-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,i){return nN(this,e,"x",i)}inYRange(e,i){return nN(this,e,"y",i)}getCenterPoint(e){let{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);let r=i&&e.borderWidth||0;return(i+r)*2}draw(e,i){let r=this.options;this.skip||r.radius<.1||!jn(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,zh(e,r,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return n})();function zN(n,t){let{x:e,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],t),a,c,l,d,h;return n.horizontal?(h=o/2,a=Math.min(e,r),c=Math.max(e,r),l=i-h,d=i+h):(h=s/2,a=e-h,c=e+h,l=Math.min(i,r),d=Math.max(i,r)),{left:a,top:l,right:c,bottom:d}}function Ys(n,t,e,i){return n?0:Qe(t,e,i)}function uK(n,t,e){let i=n.options.borderWidth,r=n.borderSkipped,s=F_(i);return{t:Ys(r.top,s.top,0,e),r:Ys(r.right,s.right,0,t),b:Ys(r.bottom,s.bottom,0,e),l:Ys(r.left,s.left,0,t)}}function hK(n,t,e){let{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=$r(r),o=Math.min(t,e),a=n.borderSkipped,c=i||Mt(r);return{topLeft:Ys(!c||a.top||a.left,s.topLeft,0,o),topRight:Ys(!c||a.top||a.right,s.topRight,0,o),bottomLeft:Ys(!c||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Ys(!c||a.bottom||a.right,s.bottomRight,0,o)}}function mK(n){let t=zN(n),e=t.right-t.left,i=t.bottom-t.top,r=uK(n,e/2,i/2),s=hK(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function W1(n,t,e,i){let r=t===null,s=e===null,a=n&&!(r&&s)&&zN(n,i);return a&&(r||Hn(t,a.left,a.right))&&(s||Hn(e,a.top,a.bottom))}function fK(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function pK(n,t){n.rect(t.x,t.y,t.w,t.h)}function $1(n,t,e={}){let i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,s=(n.x+n.w!==e.x+e.w?t:0)-i,o=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+o,radius:n.radius}}var im=class extends Wn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=mK(this),a=fK(o.radius)?ha:pK;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,$1(o,e,s)),t.clip(),a(t,$1(s,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,$1(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return W1(this,t,e,i)}inXRange(t,e){return W1(this,t,null,e)}inYRange(t,e){return W1(this,null,t,e)}getCenterPoint(t){let{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},gK=Object.freeze({__proto__:null,ArcElement:em,BarElement:im,LineElement:ab,PointElement:mE}),rE=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],rN=rE.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function HN(n){return rE[n%rE.length]}function WN(n){return rN[n%rN.length]}function _K(n,t){return n.borderColor=HN(t),n.backgroundColor=WN(t),++t}function bK(n,t){return n.backgroundColor=n.data.map(()=>HN(t++)),t}function vK(n,t){return n.backgroundColor=n.data.map(()=>WN(t++)),t}function yK(n){let t=0;return(e,i)=>{let r=n.getDatasetMeta(i).controller;r instanceof hE?t=bK(e,t):r instanceof RN?t=vK(e,t):r&&(t=_K(e,t))}}function sN(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function wK(n){return n&&(n.borderColor||n.backgroundColor)}var xK={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;let{data:{datasets:i},options:r}=n.config,{elements:s}=r;if(!e.forceOverride&&(sN(i)||wK(r)||s&&sN(s)))return;let o=yK(n);i.forEach(o)}};function CK(n,t,e,i,r){let s=r.samples||i;if(s>=e)return n.slice(t,t+e);let o=[],a=(e-2)/(s-2),c=0,l=t+e-1,d=t,h,m,p,_,b;for(o[c++]=n[d],h=0;h<s-2;h++){let v=0,R=0,P,V=Math.floor((h+1)*a)+1+t,j=Math.min(Math.floor((h+2)*a)+1,e)+t,z=j-V;for(P=V;P<j;P++)v+=n[P].x,R+=n[P].y;v/=z,R/=z;let H=Math.floor(h*a)+1+t,k=Math.min(Math.floor((h+1)*a)+1,e)+t,{x,y:I}=n[d];for(p=_=-1,P=H;P<k;P++)_=.5*Math.abs((x-v)*(n[P].y-I)-(x-n[P].x)*(R-I)),_>p&&(p=_,m=n[P],b=P);o[c++]=m,d=b}return o[c++]=n[l],o}function EK(n,t,e,i){let r=0,s=0,o,a,c,l,d,h,m,p,_,b,v=[],R=t+e-1,P=n[t].x,j=n[R].x-P;for(o=t;o<t+e;++o){a=n[o],c=(a.x-P)/j*i,l=a.y;let z=c|0;if(z===d)l<_?(_=l,h=o):l>b&&(b=l,m=o),r=(s*r+a.x)/++s;else{let H=o-1;if(!Dt(h)&&!Dt(m)){let k=Math.min(h,m),x=Math.max(h,m);k!==p&&k!==H&&v.push(Ft(Y({},n[k]),{x:r})),x!==p&&x!==H&&v.push(Ft(Y({},n[x]),{x:r}))}o>0&&H!==p&&v.push(n[H]),v.push(a),d=z,s=0,_=b=l,h=m=p=o}}return v}function $N(n){if(n._decimated){let t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function oN(n){n.data.datasets.forEach(t=>{$N(t)})}function IK(n,t){let e=t.length,i=0,r,{iScale:s}=n,{min:o,max:a,minDefined:c,maxDefined:l}=s.getUserBounds();return c&&(i=Qe(Un(t,s.axis,o).lo,0,e-1)),l?r=Qe(Un(t,s.axis,a).hi+1,i,e)-i:r=e-i,{start:i,count:r}}var kK={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){oN(n);return}let i=n.width;n.data.datasets.forEach((r,s)=>{let{_data:o,indexAxis:a}=r,c=n.getDatasetMeta(s),l=o||r.data;if(Jt([a,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let d=n.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||n.options.parsing)return;let{start:h,count:m}=IK(c,l),p=e.threshold||4*i;if(m<=p){$N(r);return}Dt(o)&&(r._data=l,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(b){this._data=b}}));let _;switch(e.algorithm){case"lttb":_=CK(l,h,m,i,e);break;case"min-max":_=EK(l,h,m,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=_})},destroy(n){oN(n)}};function SK(n,t,e){let i=n.segments,r=n.points,s=t.points,o=[];for(let a of i){let{start:c,end:l}=a;l=fE(c,l,r);let d=sE(e,r[c],r[l],a.loop);if(!t.segments){o.push({source:a,target:d,start:r[c],end:r[l]});continue}let h=$_(t,d);for(let m of h){let p=sE(e,s[m.start],s[m.end],m.loop),_=W_(a,r,p);for(let b of _)o.push({source:b,target:m,start:{[e]:aN(d,p,"start",Math.max)},end:{[e]:aN(d,p,"end",Math.min)}})}}return o}function sE(n,t,e,i){if(i)return;let r=t[n],s=e[n];return n==="angle"&&(r=Li(r),s=Li(s)),{property:n,start:r,end:s}}function TK(n,t){let{x:e=null,y:i=null}=n||{},r=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=fE(o,a,r);let c=r[o],l=r[a];i!==null?(s.push({x:c.x,y:i}),s.push({x:l.x,y:i})):e!==null&&(s.push({x:e,y:c.y}),s.push({x:e,y:l.y}))}),s}function fE(n,t,e){for(;t>n;t--){let i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function aN(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function qN(n,t){let e=[],i=!1;return ie(n)?(i=!0,e=n):e=TK(n,t),e.length?new ab({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function cN(n){return n&&n.fill!==!1}function AK(n,t,e){let r=n[t].fill,s=[t],o;if(!e)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!ve(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function DK(n,t,e){let i=OK(n);if(Mt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return ve(r)&&Math.floor(r)===r?RK(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function RK(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function MK(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Mt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function PK(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Mt(n)?i=n.value:i=t.getBaseValue(),i}function OK(n){let t=n.options,e=t.fill,i=Ct(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function NK(n){let{scale:t,index:e,line:i}=n,r=[],s=i.segments,o=i.points,a=FK(t,e);a.push(qN({x:null,y:t.bottom},i));for(let c=0;c<s.length;c++){let l=s[c];for(let d=l.start;d<=l.end;d++)LK(r,o[d],a)}return new ab({points:r,options:{}})}function FK(n,t){let e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){let s=i[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}function LK(n,t,e){let i=[];for(let r=0;r<e.length;r++){let s=e[r],{first:o,last:a,point:c}=VK(s,t,"x");if(!(!c||o&&a)){if(o)i.unshift(c);else if(n.push(c),!a)break}}n.push(...i)}function VK(n,t,e){let i=n.interpolate(t,e);if(!i)return{};let r=i[e],s=n.segments,o=n.points,a=!1,c=!1;for(let l=0;l<s.length;l++){let d=s[l],h=o[d.start][e],m=o[d.end][e];if(Hn(r,h,m)){a=r===h,c=r===m;break}}return{first:a,last:c,point:i}}var sb=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){let{x:r,y:s,radius:o}=this;return e=e||{start:0,end:re},t.arc(r,s,o,e.end,e.start,!0),!i.bounds}interpolate(t){let{x:e,y:i,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}};function BK(n){let{chart:t,fill:e,line:i}=n;if(ve(e))return UK(t,e);if(e==="stack")return NK(n);if(e==="shape")return!0;let r=jK(n);return r instanceof sb?r:qN(r,i)}function UK(n,t){let e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function jK(n){return(n.scale||{}).getPointPositionForValue?HK(n):zK(n)}function zK(n){let{scale:t={},fill:e}=n,i=MK(e,t);if(ve(i)){let r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function HK(n){let{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,o=PK(e,t,s),a=[];if(i.grid.circular){let c=t.getPointPositionForValue(0,s);return new sb({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<r;++c)a.push(t.getPointPositionForValue(c,o));return a}function q1(n,t,e){let i=BK(t),{line:r,scale:s,axis:o}=t,a=r.options,c=a.fill,l=a.backgroundColor,{above:d=l,below:h=l}=c||{};i&&r.points.length&&(fl(n,e),WK(n,{line:r,target:i,above:d,below:h,area:e,scale:s,axis:o}),pl(n))}function WK(n,t){let{line:e,target:i,above:r,below:s,area:o,scale:a}=t,c=e._loop?"angle":t.axis;n.save(),c==="x"&&s!==r&&(lN(n,i,o.top),dN(n,{line:e,target:i,color:r,scale:a,property:c}),n.restore(),n.save(),lN(n,i,o.bottom)),dN(n,{line:e,target:i,color:s,scale:a,property:c}),n.restore()}function lN(n,t,e){let{segments:i,points:r}=t,s=!0,o=!1;n.beginPath();for(let a of i){let{start:c,end:l}=a,d=r[c],h=r[fE(c,l,r)];s?(n.moveTo(d.x,d.y),s=!1):(n.lineTo(d.x,e),n.lineTo(d.x,d.y)),o=!!t.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(h.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function dN(n,t){let{line:e,target:i,property:r,color:s,scale:o}=t,a=SK(e,i,r);for(let{source:c,target:l,start:d,end:h}of a){let{style:{backgroundColor:m=s}={}}=c,p=i!==!0;n.save(),n.fillStyle=m,$K(n,o,p&&sE(r,d,h)),n.beginPath();let _=!!e.pathSegment(n,c),b;if(p){_?n.closePath():uN(n,i,h,r);let v=!!i.pathSegment(n,l,{move:_,reverse:!0});b=_&&v,b||uN(n,i,d,r)}n.closePath(),n.fill(b?"evenodd":"nonzero"),n.restore()}}function $K(n,t,e){let{top:i,bottom:r}=t.chart.chartArea,{property:s,start:o,end:a}=e||{};s==="x"&&(n.beginPath(),n.rect(o,i,a-o,r-i),n.clip())}function uN(n,t,e,i){let r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var qK={id:"filler",afterDatasetsUpdate(n,t,e){let i=(n.data.datasets||[]).length,r=[],s,o,a,c;for(o=0;o<i;++o)s=n.getDatasetMeta(o),a=s.dataset,c=null,a&&a.options&&a instanceof ab&&(c={visible:n.isDatasetVisible(o),index:o,fill:DK(a,o,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=c,r.push(c);for(o=0;o<i;++o)c=r[o],!(!c||c.fill===!1)&&(c.fill=AK(r,o,e.propagate))},beforeDraw(n,t,e){let i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=r.length-1;o>=0;--o){let a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&q1(n.ctx,a,s))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){let s=i[r].$filler;cN(s)&&q1(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){let i=t.meta.$filler;!cN(i)||e.drawTime!=="beforeDatasetDraw"||q1(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},hN=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},GK=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index,ob=class extends Wn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=Ht(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let i=t.labels,r=ke(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=hN(i,s),l,d;e.font=r.string,this.isHorizontal()?(l=this.maxWidth,d=this._fitRows(o,s,a,c)+10):(d=this.maxHeight,l=this._fitCols(o,r,a,c)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){let{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],d=r+a,h=t;s.textAlign="left",s.textBaseline="middle";let m=-1,p=-d;return this.legendItems.forEach((_,b)=>{let v=i+e/2+s.measureText(_.text).width;(b===0||l[l.length-1]+v+2*a>o)&&(h+=d,l[l.length-(b>0?0:1)]=0,p+=d,m++),c[b]={left:0,top:p,row:m,width:v,height:r},l[l.length-1]+=v+a}),h}_fitCols(t,e,i,r){let{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],d=o-t,h=a,m=0,p=0,_=0,b=0;return this.legendItems.forEach((v,R)=>{let{itemWidth:P,itemHeight:V}=KK(i,e,s,v,r);R>0&&p+V+2*a>d&&(h+=m+a,l.push({width:m,height:p}),_+=m+a,b++,m=p=0),c[R]={left:_,top:p,col:b,width:P,height:V},m=Math.max(m,P),p+=V+a}),h+=m,l.push({width:m,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Ks(s,this.left,this.width);if(this.isHorizontal()){let a=0,c=ii(i,this.left+r,this.right-this.lineWidths[a]);for(let l of e)a!==l.row&&(a=l.row,c=ii(i,this.left+r,this.right-this.lineWidths[a])),l.top+=this.top+t+r,l.left=o.leftForLtr(o.x(c),l.width),c+=l.width+r}else{let a=0,c=ii(i,this.top+t+r,this.bottom-this.columnSizes[a].height);for(let l of e)l.col!==a&&(a=l.col,c=ii(i,this.top+t+r,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+r,l.left=o.leftForLtr(o.x(l.left),l.width),c+=l.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;fl(t,this),this._draw(),pl(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:o}=t,a=ge.color,c=Ks(t.rtl,this.left,this.width),l=ke(o.font),{padding:d}=o,h=l.size,m=h/2,p;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;let{boxWidth:_,boxHeight:b,itemHeight:v}=hN(o,h),R=function(H,k,x){if(isNaN(_)||_<=0||isNaN(b)||b<0)return;r.save();let I=Ct(x.lineWidth,1);if(r.fillStyle=Ct(x.fillStyle,a),r.lineCap=Ct(x.lineCap,"butt"),r.lineDashOffset=Ct(x.lineDashOffset,0),r.lineJoin=Ct(x.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=Ct(x.strokeStyle,a),r.setLineDash(Ct(x.lineDash,[])),o.usePointStyle){let D={radius:b*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:I},M=c.xPlus(H,_/2),O=k+m;N_(r,D,M,O,o.pointStyleWidth&&_)}else{let D=k+Math.max((h-b)/2,0),M=c.leftForLtr(H,_),O=$r(x.borderRadius);r.beginPath(),Object.values(O).some(A=>A!==0)?ha(r,{x:M,y:D,w:_,h:b,radius:O}):r.rect(M,D,_,b),r.fill(),I!==0&&r.stroke()}r.restore()},P=function(H,k,x){Wr(r,x.text,H,k+v/2,l,{strikethrough:x.hidden,textAlign:c.textAlign(x.textAlign)})},V=this.isHorizontal(),j=this._computeTitleHeight();V?p={x:ii(s,this.left+d,this.right-i[0]),y:this.top+d+j,line:0}:p={x:this.left+d,y:ii(s,this.top+j+d,this.bottom-e[0].height),line:0},z_(this.ctx,t.textDirection);let z=v+d;this.legendItems.forEach((H,k)=>{r.strokeStyle=H.fontColor,r.fillStyle=H.fontColor;let x=r.measureText(H.text).width,I=c.textAlign(H.textAlign||(H.textAlign=o.textAlign)),D=_+m+x,M=p.x,O=p.y;c.setWidth(this.width),V?k>0&&M+D+d>this.right&&(O=p.y+=z,p.line++,M=p.x=ii(s,this.left+d,this.right-i[p.line])):k>0&&O+z>this.bottom&&(M=p.x=M+e[p.line].width+d,p.line++,O=p.y=ii(s,this.top+j+d,this.bottom-e[p.line].height));let A=c.x(M);if(R(A,O,H),M=I1(I,M+_+m,V?M+D:this.right,t.rtl),P(c.x(M),O,H),V)p.x+=D+d;else if(typeof H.text!="string"){let ye=l.lineHeight;p.y+=GN(H,ye)+d}else p.y+=z}),H_(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,i=ke(e.font),r=Xe(e.padding);if(!e.display)return;let s=Ks(t.rtl,this.left,this.width),o=this.ctx,a=e.position,c=i.size/2,l=r.top+c,d,h=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+l,h=ii(t.align,h,this.right-m);else{let _=this.columnSizes.reduce((b,v)=>Math.max(b,v.height),0);d=l+ii(t.align,this.top,this.bottom-_-t.labels.padding-this._computeTitleHeight())}let p=ii(a,h,h+m);o.textAlign=s.textAlign(Uh(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,Wr(o,e.text,p,d,i)}_computeTitleHeight(){let t=this.options.title,e=ke(t.font),i=Xe(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(Hn(t,this.left,this.right)&&Hn(e,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Hn(t,r.left,r.left+r.width)&&Hn(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){let e=this.options;if(!XK(t.type,e))return;let i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let r=this._hoveredItem,s=GK(r,i);r&&!s&&Ht(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&Ht(e.onHover,[t,i,this],this)}else i&&Ht(e.onClick,[t,i,this],this)}};function KK(n,t,e,i,r){let s=YK(i,n,t,e),o=QK(r,i,t.lineHeight);return{itemWidth:s,itemHeight:o}}function YK(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),t+e.size/2+i.measureText(r).width}function QK(n,t,e){let i=n;return typeof t.text!="string"&&(i=GN(t,e)),i}function GN(n,t){let e=n.text?n.text.length:0;return t*e}function XK(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var ZK={id:"legend",_element:ob,start(n,t,e){let i=n.legend=new ob({ctx:n.ctx,options:e,chart:n});Ci.configure(n,i,e),Ci.addBox(n,i)},stop(n){Ci.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){let i=n.legend;Ci.configure(n,i,e),i.options=e},afterUpdate(n){let t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){let i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{let l=c.controller.getStyle(e?0:void 0),d=Xe(l.borderWidth);return{text:t[c.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},nm=class extends Wn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let r=ie(i.text)?i.text.length:1;this._padding=Xe(i.padding);let s=r*ke(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:i,bottom:r,right:s,options:o}=this,a=o.align,c=0,l,d,h;return this.isHorizontal()?(d=ii(a,i,s),h=e+t,l=s-i):(o.position==="left"?(d=i+t,h=ii(a,r,e),c=ne*-.5):(d=s-t,h=ii(a,e,r),c=ne*.5),l=r-e),{titleX:d,titleY:h,maxWidth:l,rotation:c}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let i=ke(e.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(s);Wr(t,e.text,0,0,i,{color:e.color,maxWidth:c,rotation:l,textAlign:Uh(e.align),textBaseline:"middle",translation:[o,a]})}};function JK(n,t){let e=new nm({ctx:n.ctx,options:t,chart:n});Ci.configure(n,e,t),Ci.addBox(n,e),n.titleBlock=e}var tY={id:"title",_element:nm,start(n,t,e){JK(n,e)},stop(n){let t=n.titleBlock;Ci.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){let i=n.titleBlock;Ci.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Q_=new WeakMap,eY={id:"subtitle",start(n,t,e){let i=new nm({ctx:n.ctx,options:e,chart:n});Ci.configure(n,i,e),Ci.addBox(n,i),Q_.set(n,i)},stop(n){Ci.removeBox(n,Q_.get(n)),Q_.delete(n)},beforeUpdate(n,t,e){let i=Q_.get(n);Ci.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Jh={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,s=0;for(t=0,e=n.length;t<e;++t){let a=n[t].element;if(a&&a.hasValue()){let c=a.tooltipPosition();i.add(c.x),r+=c.y,++s}}return{x:[...i].reduce((a,c)=>a+c)/i.size,y:r/s}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=n.length;s<o;++s){let c=n[s].element;if(c&&c.hasValue()){let l=c.getCenterPoint(),d=Fh(t,l);d<r&&(r=d,a=c)}}if(a){let c=a.tooltipPosition();e=c.x,i=c.y}return{x:e,y:i}}};function hr(n,t){return t&&(ie(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Kr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function iY(n,t){let{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function mN(n,t){let e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:a}=t,c=ke(t.bodyFont),l=ke(t.titleFont),d=ke(t.footerFont),h=s.length,m=r.length,p=i.length,_=Xe(t.padding),b=_.height,v=0,R=i.reduce((j,z)=>j+z.before.length+z.lines.length+z.after.length,0);if(R+=n.beforeBody.length+n.afterBody.length,h&&(b+=h*l.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),R){let j=t.displayColors?Math.max(a,c.lineHeight):c.lineHeight;b+=p*j+(R-p)*c.lineHeight+(R-1)*t.bodySpacing}m&&(b+=t.footerMarginTop+m*d.lineHeight+(m-1)*t.footerSpacing);let P=0,V=function(j){v=Math.max(v,e.measureText(j).width+P)};return e.save(),e.font=l.string,Ut(n.title,V),e.font=c.string,Ut(n.beforeBody.concat(n.afterBody),V),P=t.displayColors?o+2+t.boxPadding:0,Ut(i,j=>{Ut(j.before,V),Ut(j.lines,V),Ut(j.after,V)}),P=0,e.font=d.string,Ut(n.footer,V),e.restore(),v+=_.width,{width:v,height:b}}function nY(n,t){let{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function rY(n,t,e,i){let{x:r,width:s}=i,o=e.caretSize+e.caretPadding;if(n==="left"&&r+s+o>t.width||n==="right"&&r-s-o<0)return!0}function sY(n,t,e,i){let{x:r,width:s}=e,{width:o,chartArea:{left:a,right:c}}=n,l="center";return i==="center"?l=r<=(a+c)/2?"left":"right":r<=s/2?l="left":r>=o-s/2&&(l="right"),rY(l,n,t,e)&&(l="center"),l}function fN(n,t,e){let i=e.yAlign||t.yAlign||nY(n,e);return{xAlign:e.xAlign||t.xAlign||sY(n,t,e,i),yAlign:i}}function oY(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function aY(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function pN(n,t,e,i){let{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:c}=e,l=r+s,{topLeft:d,topRight:h,bottomLeft:m,bottomRight:p}=$r(o),_=oY(t,a),b=aY(t,c,l);return c==="center"?a==="left"?_+=l:a==="right"&&(_-=l):a==="left"?_-=Math.max(d,m)+r:a==="right"&&(_+=Math.max(h,p)+r),{x:Qe(_,0,i.width-t.width),y:Qe(b,0,i.height-t.height)}}function X_(n,t,e){let i=Xe(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function gN(n){return hr([],Kr(n))}function cY(n,t,e){return ur(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function _N(n,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}var KN={beforeTitle:zn,title(n){if(n.length>0){let t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:zn,beforeBody:zn,beforeLabel:zn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");let e=n.formattedValue;return Dt(e)||(t+=e),t},labelColor(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:zn,afterBody:zn,beforeFooter:zn,footer:zn,afterFooter:zn};function Hi(n,t,e,i){let r=n[t].call(e,i);return typeof r>"u"?KN[t].call(e,i):r}var bN=(()=>{class n extends Wn{static positioners=Jh;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let i=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&i.options.animation&&r.animations,o=new eb(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=cY(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){let{callbacks:r}=i,s=Hi(r,"beforeTitle",this,e),o=Hi(r,"title",this,e),a=Hi(r,"afterTitle",this,e),c=[];return c=hr(c,Kr(s)),c=hr(c,Kr(o)),c=hr(c,Kr(a)),c}getBeforeBody(e,i){return gN(Hi(i.callbacks,"beforeBody",this,e))}getBody(e,i){let{callbacks:r}=i,s=[];return Ut(e,o=>{let a={before:[],lines:[],after:[]},c=_N(r,o);hr(a.before,Kr(Hi(c,"beforeLabel",this,o))),hr(a.lines,Hi(c,"label",this,o)),hr(a.after,Kr(Hi(c,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(e,i){return gN(Hi(i.callbacks,"afterBody",this,e))}getFooter(e,i){let{callbacks:r}=i,s=Hi(r,"beforeFooter",this,e),o=Hi(r,"footer",this,e),a=Hi(r,"afterFooter",this,e),c=[];return c=hr(c,Kr(s)),c=hr(c,Kr(o)),c=hr(c,Kr(a)),c}_createItems(e){let i=this._active,r=this.chart.data,s=[],o=[],a=[],c=[],l,d;for(l=0,d=i.length;l<d;++l)c.push(iY(this.chart,i[l]));return e.filter&&(c=c.filter((h,m,p)=>e.filter(h,m,p,r))),e.itemSort&&(c=c.sort((h,m)=>e.itemSort(h,m,r))),Ut(c,h=>{let m=_N(e.callbacks,h);s.push(Hi(m,"labelColor",this,h)),o.push(Hi(m,"labelPointStyle",this,h)),a.push(Hi(m,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(e,i){let r=this.options.setContext(this.getContext()),s=this._active,o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{let c=Jh[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let l=this._size=mN(this,r),d=Object.assign({},c,l),h=fN(this.chart,r,d),m=pN(r,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,o={opacity:1,x:m.x,y:m.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,r,s){let o=this.getCaretPosition(e,r,s);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(e,i,r){let{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:c}=r,{topLeft:l,topRight:d,bottomLeft:h,bottomRight:m}=$r(c),{x:p,y:_}=e,{width:b,height:v}=i,R,P,V,j,z,H;return o==="center"?(z=_+v/2,s==="left"?(R=p,P=R-a,j=z+a,H=z-a):(R=p+b,P=R+a,j=z-a,H=z+a),V=R):(s==="left"?P=p+Math.max(l,h)+a:s==="right"?P=p+b-Math.max(d,m)-a:P=this.caretX,o==="top"?(j=_,z=j-a,R=P-a,V=P+a):(j=_+v,z=j+a,R=P+a,V=P-a),H=j),{x1:R,x2:P,x3:V,y1:j,y2:z,y3:H}}drawTitle(e,i,r){let s=this.title,o=s.length,a,c,l;if(o){let d=Ks(r.rtl,this.x,this.width);for(e.x=X_(this,r.titleAlign,r),i.textAlign=d.textAlign(r.titleAlign),i.textBaseline="middle",a=ke(r.titleFont),c=r.titleSpacing,i.fillStyle=r.titleColor,i.font=a.string,l=0;l<o;++l)i.fillText(s[l],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,l+1===o&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,i,r,s,o){let a=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:l,boxWidth:d}=o,h=ke(o.bodyFont),m=X_(this,"left",o),p=s.x(m),_=l<h.lineHeight?(h.lineHeight-l)/2:0,b=i.y+_;if(o.usePointStyle){let v={radius:Math.min(d,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},R=s.leftForLtr(p,d)+d/2,P=b+l/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,zh(e,v,R,P),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,zh(e,v,R,P)}else{e.lineWidth=Mt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let v=s.leftForLtr(p,d),R=s.leftForLtr(s.xPlus(p,1),d-2),P=$r(a.borderRadius);Object.values(P).some(V=>V!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,ha(e,{x:v,y:b,w:d,h:l,radius:P}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),ha(e,{x:R,y:b+1,w:d-2,h:l-2,radius:P}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(v,b,d,l),e.strokeRect(v,b,d,l),e.fillStyle=a.backgroundColor,e.fillRect(R,b+1,d-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,i,r){let{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:d,boxPadding:h}=r,m=ke(r.bodyFont),p=m.lineHeight,_=0,b=Ks(r.rtl,this.x,this.width),v=function(I){i.fillText(I,b.x(e.x+_),e.y+p/2),e.y+=p+o},R=b.textAlign(a),P,V,j,z,H,k,x;for(i.textAlign=a,i.textBaseline="middle",i.font=m.string,e.x=X_(this,R,r),i.fillStyle=r.bodyColor,Ut(this.beforeBody,v),_=c&&R!=="right"?a==="center"?d/2+h:d+2+h:0,z=0,k=s.length;z<k;++z){for(P=s[z],V=this.labelTextColors[z],i.fillStyle=V,Ut(P.before,v),j=P.lines,c&&j.length&&(this._drawColorBox(i,e,z,b,r),p=Math.max(m.lineHeight,l)),H=0,x=j.length;H<x;++H)v(j[H]),p=m.lineHeight;Ut(P.after,v)}_=0,p=m.lineHeight,Ut(this.afterBody,v),e.y-=o}drawFooter(e,i,r){let s=this.footer,o=s.length,a,c;if(o){let l=Ks(r.rtl,this.x,this.width);for(e.x=X_(this,r.footerAlign,r),e.y+=r.footerMarginTop,i.textAlign=l.textAlign(r.footerAlign),i.textBaseline="middle",a=ke(r.footerFont),i.fillStyle=r.footerColor,i.font=a.string,c=0;c<o;++c)i.fillText(s[c],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,i,r,s){let{xAlign:o,yAlign:a}=this,{x:c,y:l}=e,{width:d,height:h}=r,{topLeft:m,topRight:p,bottomLeft:_,bottomRight:b}=$r(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(c+m,l),a==="top"&&this.drawCaret(e,i,r,s),i.lineTo(c+d-p,l),i.quadraticCurveTo(c+d,l,c+d,l+p),a==="center"&&o==="right"&&this.drawCaret(e,i,r,s),i.lineTo(c+d,l+h-b),i.quadraticCurveTo(c+d,l+h,c+d-b,l+h),a==="bottom"&&this.drawCaret(e,i,r,s),i.lineTo(c+_,l+h),i.quadraticCurveTo(c,l+h,c,l+h-_),a==="center"&&o==="left"&&this.drawCaret(e,i,r,s),i.lineTo(c,l+m),i.quadraticCurveTo(c,l,c+m,l),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){let i=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){let a=Jh[e.position].call(this,this._active,this._eventPosition);if(!a)return;let c=this._size=mN(this,e),l=Object.assign({},a,this._size),d=fN(i,e,l),h=pN(e,l,d,i);(s._to!==h.x||o._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){let i=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(i);let s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=Xe(i.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&c&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,s,i),z_(e,i.textDirection),o.y+=a.top,this.drawTitle(o,e,i),this.drawBody(o,e,i),this.drawFooter(o,e,i),H_(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){let r=this._active,s=e.map(({datasetIndex:c,index:l})=>{let d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[l],index:l}}),o=!ml(r,s),a=this._positionChanged(s,i);(o||a)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,o=this._active||[],a=this._getActiveElements(e,o,i,r),c=this._positionChanged(a,e),l=i||!ml(a,o)||c;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),l}_getActiveElements(e,i,r,s){let o=this.options;if(e.type==="mouseout")return[];if(!s)return i.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let a=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&a.reverse(),a}_positionChanged(e,i){let{caretX:r,caretY:s,options:o}=this,a=Jh[o.position].call(this,e,i);return a!==!1&&(r!==a.x||s!==a.y)}}return n})(),lY={id:"tooltip",_element:bN,positioners:Jh,afterInit(n,t,e){e&&(n.tooltip=new bN({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){let t=n.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",Ft(Y({},e),{cancelable:!0}))===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){let e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:KN},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},dY=Object.freeze({__proto__:null,Colors:xK,Decimation:kK,Filler:qK,Legend:ZK,SubTitle:eY,Title:tY,Tooltip:lY}),uY=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function hY(n,t,e,i){let r=n.indexOf(t);if(r===-1)return uY(n,t,e,i);let s=n.lastIndexOf(t);return r!==s?e:r}var mY=(n,t)=>n===null?null:Qe(Math.round(n),0,t);function vN(n){let t=this.getLabels();return n>=0&&n<t.length?t[n]:n}var fY=(()=>{class n extends pa{static id="category";static defaults={ticks:{callback:vN}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let i=this._addedLabels;if(i.length){let r=this.getLabels();for(let{index:s,label:o}of i)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(Dt(e))return null;let r=this.getLabels();return i=isFinite(i)&&r[i]===e?i:hY(r,e,Ct(i,e),this._addedLabels),mY(i,r.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),i||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){let e=this.min,i=this.max,r=this.options.offset,s=[],o=this.getLabels();o=e===0&&i===o.length-1?o:o.slice(e,i+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=i;a++)s.push({value:a});return s}getLabelForValue(e){return vN.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return n})();function pY(n,t){let e=[],{bounds:r,step:s,min:o,max:a,precision:c,count:l,maxTicks:d,maxDigits:h,includeBounds:m}=n,p=s||1,_=d-1,{min:b,max:v}=t,R=!Dt(o),P=!Dt(a),V=!Dt(l),j=(v-b)/(h+1),z=w_((v-b)/_/p)*p,H,k,x,I;if(z<1e-14&&!R&&!P)return[{value:b},{value:v}];I=Math.ceil(v/z)-Math.floor(b/z),I>_&&(z=w_(I*z/_/p)*p),Dt(c)||(H=Math.pow(10,c),z=Math.ceil(z*H)/H),r==="ticks"?(k=Math.floor(b/z)*z,x=Math.ceil(v/z)*z):(k=b,x=v),R&&P&&s&&v1((a-o)/s,z/1e3)?(I=Math.round(Math.min((a-o)/z,d)),z=(a-o)/I,k=o,x=a):V?(k=R?o:k,x=P?a:x,I=l-1,z=(x-k)/I):(I=(x-k)/z,la(I,Math.round(I),z/1e3)?I=Math.round(I):I=Math.ceil(I));let D=Math.max(C_(z),C_(k));H=Math.pow(10,Dt(c)?D:c),k=Math.round(k*H)/H,x=Math.round(x*H)/H;let M=0;for(R&&(m&&k!==o?(e.push({value:o}),k<o&&M++,la(Math.round((k+M*z)*H)/H,o,yN(o,j,n))&&M++):k<o&&M++);M<I;++M){let O=Math.round((k+M*z)*H)/H;if(P&&O>a)break;e.push({value:O})}return P&&m&&x!==a?e.length&&la(e[e.length-1].value,a,yN(a,j,n))?e[e.length-1].value=a:e.push({value:a}):(!P||x===a)&&e.push({value:x}),e}function yN(n,t,{horizontal:e,minRotation:i}){let r=rn(i),s=(e?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+n).length;return Math.min(t/s,o)}var bl=class extends pa{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Dt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:r,max:s}=this,o=c=>r=e?r:c,a=c=>s=i?s:c;if(t){let c=wn(r),l=wn(s);c<0&&l<0?a(0):c>0&&l>0&&o(0)}if(r===s){let c=s===0?1:Math.abs(s*.05);a(s+c),t||o(r-c)}this.min=r,this.max=s}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,i=this.getTickLimit();i=Math.max(2,i);let r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},s=this._range||this,o=pY(r,s);return t.bounds==="ticks"&&x_(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let t=this.ticks,e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){let r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return ua(t,this.chart.options.locale,this.options.ticks.format)}},oE=class extends bl{static id="linear";static defaults={ticks:{callback:jh.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=ve(t)?t:0,this.max=ve(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,i=rn(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},rm=n=>Math.floor(lr(n)),fa=(n,t)=>Math.pow(10,rm(n)+t);function wN(n){return n/Math.pow(10,rm(n))===1}function xN(n,t,e){let i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}function gY(n,t){let e=t-n,i=rm(e);for(;xN(n,t,i)>10;)i++;for(;xN(n,t,i)<10;)i--;return Math.min(i,rm(n))}function _Y(n,{min:t,max:e}){t=Vi(n.min,t);let i=[],r=rm(t),s=gY(t,e),o=s<0?Math.pow(10,Math.abs(s)):1,a=Math.pow(10,s),c=r>s?Math.pow(10,r):0,l=Math.round((t-c)*o)/o,d=Math.floor((t-c)/a/10)*a*10,h=Math.floor((l-d)/Math.pow(10,s)),m=Vi(n.min,Math.round((c+d+h*Math.pow(10,s))*o)/o);for(;m<e;)i.push({value:m,major:wN(m),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),m=Math.round((c+d+h*Math.pow(10,s))*o)/o;let p=Vi(n.max,m);return i.push({value:p,major:wN(p),significand:h}),i}var aE=class extends pa{static id="logarithmic";static defaults={ticks:{callback:jh.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let i=bl.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return ve(i)&&i>0?i:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=ve(t)?Math.max(0,t):null,this.max=ve(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ve(this._userMin)&&(this.min=t===fa(this.min,0)?fa(this.min,-1):fa(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),i=this.min,r=this.max,s=a=>i=t?i:a,o=a=>r=e?r:a;i===r&&(i<=0?(s(1),o(10)):(s(fa(i,-1)),o(fa(r,1)))),i<=0&&s(fa(r,-1)),r<=0&&o(fa(i,1)),this.min=i,this.max=r}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},i=_Y(e,this);return t.bounds==="ticks"&&x_(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":ua(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=lr(t),this._valueRange=lr(this.max)-lr(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(lr(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function cE(n){let t=n.ticks;if(t.display&&n.display){let e=Xe(t.backdropPadding);return Ct(t.font&&t.font.size,ge.font.size)+e.height}return 0}function bY(n,t,e){return e=ie(e)?e:[e],{w:k1(n,t.string,e),h:e.length*t.lineHeight}}function CN(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function vY(n){let t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],s=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?ne/s:0;for(let c=0;c<s;c++){let l=o.setContext(n.getPointLabelContext(c));r[c]=l.padding;let d=n.getPointPosition(c,n.drawingArea+r[c],a),h=ke(l.font),m=bY(n.ctx,h,n._pointLabels[c]);i[c]=m;let p=Li(n.getIndexAngle(c)+a),_=Math.round(Vh(p)),b=CN(_,d.x,m.w,0,180),v=CN(_,d.y,m.h,90,270);yY(e,t,p,b,v)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=CY(n,i,r)}function yY(n,t,e,i,r){let s=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e)),a=0,c=0;i.start<t.l?(a=(t.l-i.start)/s,n.l=Math.min(n.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/s,n.r=Math.max(n.r,t.r+a)),r.start<t.t?(c=(t.t-r.start)/o,n.t=Math.min(n.t,t.t-c)):r.end>t.b&&(c=(r.end-t.b)/o,n.b=Math.max(n.b,t.b+c))}function wY(n,t,e){let i=n.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=e,c=n.getPointPosition(t,i+r+o,s),l=Math.round(Vh(Li(c.angle+Ie))),d=kY(c.y,a.h,l),h=EY(l),m=IY(c.x,a.w,h);return{visible:!0,x:c.x,y:d,textAlign:h,left:m,top:d,right:m+a.w,bottom:d+a.h}}function xY(n,t){if(!t)return!0;let{left:e,top:i,right:r,bottom:s}=n;return!(jn({x:e,y:i},t)||jn({x:e,y:s},t)||jn({x:r,y:i},t)||jn({x:r,y:s},t))}function CY(n,t,e){let i=[],r=n._pointLabels.length,s=n.options,{centerPointLabels:o,display:a}=s.pointLabels,c={extra:cE(s)/2,additionalAngle:o?ne/r:0},l;for(let d=0;d<r;d++){c.padding=e[d],c.size=t[d];let h=wY(n,d,c);i.push(h),a==="auto"&&(h.visible=xY(h,l),h.visible&&(l=h))}return i}function EY(n){return n===0||n===180?"center":n<180?"left":"right"}function IY(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function kY(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function SY(n,t,e){let{left:i,top:r,right:s,bottom:o}=e,{backdropColor:a}=t;if(!Dt(a)){let c=$r(t.borderRadius),l=Xe(t.backdropPadding);n.fillStyle=a;let d=i-l.left,h=r-l.top,m=s-i+l.width,p=o-r+l.height;Object.values(c).some(_=>_!==0)?(n.beginPath(),ha(n,{x:d,y:h,w:m,h:p,radius:c}),n.fill()):n.fillRect(d,h,m,p)}}function TY(n,t){let{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){let s=n._pointLabelItems[r];if(!s.visible)continue;let o=i.setContext(n.getPointLabelContext(r));SY(e,o,s);let a=ke(o.font),{x:c,y:l,textAlign:d}=s;Wr(e,n._pointLabels[r],c,l+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}function YN(n,t,e,i){let{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,re);else{let s=n.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=n.getPointPosition(o,t),r.lineTo(s.x,s.y)}}function AY(n,t,e,i,r){let s=n.ctx,o=t.circular,{color:a,lineWidth:c}=t;!o&&!i||!a||!c||e<0||(s.save(),s.strokeStyle=a,s.lineWidth=c,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),YN(n,e,o,i),s.closePath(),s.stroke(),s.restore())}function DY(n,t,e){return ur(n,{label:e,index:t,type:"pointLabel"})}var lE=class extends bl{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:jh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=Xe(cE(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=ve(t)&&!isNaN(t)?t:0,this.max=ve(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/cE(this.options))}generateTickLabels(t){bl.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{let r=Ht(this.options.pointLabels.callback,[e,i],this);return r||r===0?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){let t=this.options;t.display&&t.pointLabels.display?vY(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){let e=re/(this._pointLabels.length||1),i=this.options.startAngle||0;return Li(t*e+rn(i))}getDistanceFromCenterForValue(t){if(Dt(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Dt(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let i=e[t];return DY(this.getContext(),t,i)}}getPointPosition(t,e,i=0){let r=this.getIndexAngle(t)-Ie+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:s}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let i=this.ctx;i.save(),i.beginPath(),YN(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:i,grid:r,border:s}=e,o=this._pointLabels.length,a,c,l;if(e.pointLabels.display&&TY(this,o),r.display&&this.ticks.forEach((d,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);let m=this.getContext(h),p=r.setContext(m),_=s.setContext(m);AY(this,p,c,o,_)}}),i.display){for(t.save(),a=o-1;a>=0;a--){let d=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:m}=d;!m||!h||(t.lineWidth=m,t.strokeStyle=h,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;let r=this.getIndexAngle(0),s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!e.reverse)return;let l=i.setContext(this.getContext(c)),d=ke(l.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){t.font=d.string,o=t.measureText(a.label).width,t.fillStyle=l.backdropColor;let h=Xe(l.backdropPadding);t.fillRect(-o/2-h.left,-s-d.size/2-h.top,o+h.width,d.size+h.height)}Wr(t,a.label,0,-s,d,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),t.restore()}drawTitle(){}},cb={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Wi=Object.keys(cb);function EN(n,t){return n-t}function IN(n,t){if(Dt(t))return null;let e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts,o=t;return typeof i=="function"&&(o=i(o)),ve(o)||(o=typeof i=="string"?e.parse(o,i):e.parse(o)),o===null?null:(r&&(o=r==="week"&&(qs(s)||s===!0)?e.startOf(o,"isoWeek",s):e.startOf(o,r)),+o)}function kN(n,t,e,i){let r=Wi.length;for(let s=Wi.indexOf(n);s<r-1;++s){let o=cb[Wi[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=i)return Wi[s]}return Wi[r-1]}function RY(n,t,e,i,r){for(let s=Wi.length-1;s>=Wi.indexOf(e);s--){let o=Wi[s];if(cb[o].common&&n._adapter.diff(r,i,o)>=t-1)return o}return Wi[e?Wi.indexOf(e):0]}function MY(n){for(let t=Wi.indexOf(n)+1,e=Wi.length;t<e;++t)if(cb[Wi[t]].common)return Wi[t]}function SN(n,t,e){if(!e)n[t]=!0;else if(e.length){let{lo:i,hi:r}=Bh(e,t),s=e[i]>=t?e[i]:e[r];n[s]=!0}}function PY(n,t,e,i){let r=n._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value,a,c;for(a=s;a<=o;a=+r.add(a,1,i))c=e[a],c>=0&&(t[c].major=!0);return t}function TN(n,t,e){let i=[],r={},s=t.length,o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,i.push({value:a,major:!1});return s===0||!e?i:PY(n,i,r,e)}var dE=(()=>{class n extends pa{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){let r=e.time||(e.time={}),s=this._adapter=new qq._date(e.adapters.date);s.init(i),aa(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return e===void 0?null:IN(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,i=this._adapter,r=e.time.unit||"day",{min:s,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function l(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!a||!c)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=ve(s)&&!isNaN(s)?s:+i.startOf(Date.now(),r),o=ve(o)&&!isNaN(o)?o:+i.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){let e=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],r=e[e.length-1]),{min:i,max:r}}buildTicks(){let e=this.options,i=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let o=this.min,a=this.max,c=x1(s,o,a);return this._unit=i.unit||(r.autoSkip?kN(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):RY(this,c.length,i.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:MY(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),TN(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let i=0,r=0,s,o;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?i=1-s:i=(this.getDecimalForValue(e[1])-s)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?r=o:r=(o-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;i=Qe(i,0,a),r=Qe(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){let e=this._adapter,i=this.min,r=this.max,s=this.options,o=s.time,a=o.unit||kN(o.minUnit,i,r,this._getLabelCapacity(i)),c=Ct(s.ticks.stepSize,1),l=a==="week"?o.isoWeekday:!1,d=qs(l)||l===!0,h={},m=i,p,_;if(d&&(m=+e.startOf(m,"isoWeek",l)),m=+e.startOf(m,d?"day":a),e.diff(r,i,a)>1e5*c)throw new Error(i+" and "+r+" are too far apart with stepSize of "+c+" "+a);let b=s.ticks.source==="data"&&this.getDataTimestamps();for(p=m,_=0;p<r;p=+e.add(p,c,a),_++)SN(h,p,b);return(p===r||s.bounds==="ticks"||_===1)&&SN(h,p,b),Object.keys(h).sort(EN).map(v=>+v)}getLabelForValue(e){let i=this._adapter,r=this.options.time;return r.tooltipFormat?i.format(e,r.tooltipFormat):i.format(e,r.displayFormats.datetime)}format(e,i){let s=this.options.time.displayFormats,o=this._unit,a=i||s[o];return this._adapter.format(e,a)}_tickFormatFunction(e,i,r,s){let o=this.options,a=o.ticks.callback;if(a)return Ht(a,[e,i,r],this);let c=o.time.displayFormats,l=this._unit,d=this._majorUnit,h=l&&c[l],m=d&&c[d],p=r[i],_=d&&m&&p&&p.major;return this._adapter.format(e,s||(_?m:h))}generateTickLabels(e){let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],s.label=this._tickFormatFunction(s.value,i,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let i=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(e){let i=this._offsets,r=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){let i=this.options.ticks,r=this.ctx.measureText(e).width,s=rn(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(s),a=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:r*o+c*a,h:r*a+c*o}}_getLabelCapacity(e){let i=this.options.time,r=i.displayFormats,s=r[i.unit]||r.millisecond,o=this._tickFormatFunction(e,0,TN(this,[e],this._majorUnit),s),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],i,r;if(e.length)return e;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,r=s.length;i<r;++i)e=e.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],i,r;if(e.length)return e;let s=this.getLabels();for(i=0,r=s.length;i<r;++i)e.push(IN(this,s[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return k_(e.sort(EN))}}return n})();function Z_(n,t,e){let i=0,r=n.length-1,s,o,a,c;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Un(n,"pos",t)),{pos:s,time:a}=n[i],{pos:o,time:c}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Un(n,"time",t)),{time:s,pos:a}=n[i],{time:o,pos:c}=n[r]);let l=o-s;return l?a+(c-a)*(t-s)/l:a}var uE=class extends dE{static id="timeseries";static defaults=dE.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Z_(e,this.min),this._tableRange=Z_(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:i}=this,r=[],s=[],o,a,c,l,d;for(o=0,a=t.length;o<a;++o)l=t[o],l>=e&&l<=i&&r.push(l);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)d=r[o+1],c=r[o-1],l=r[o],Math.round((d+c)/2)!==l&&s.push({time:l,pos:o/(a-1)});return s}_generate(){let t=this.min,e=this.max,i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Z_(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Z_(this._table,i*this._tableRange+this._minPos,!0)}},OY=Object.freeze({__proto__:null,CategoryScale:fY,LinearScale:oE,LogarithmicScale:aE,RadialLinearScale:lE,TimeScale:dE,TimeSeriesScale:uE}),QN=[$q,gK,dY,OY];vl.register(...QN);var XN=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var n=window.screen;if(n)return(n.deviceXDPI||1)/(n.logicalXDPI||1)}return 1}(),am={toTextLines:function(n){var t=[],e;for(n=[].concat(n);n.length;)e=n.pop(),typeof e=="string"?t.unshift.apply(t,e.split(`
`)):Array.isArray(e)?n.push.apply(n,e):Dt(n)||t.unshift(""+e);return t},textSize:function(n,t,e){var i=[].concat(t),r=i.length,s=n.font,o=0,a;for(n.font=e.string,a=0;a<r;++a)o=Math.max(n.measureText(i[a]).width,o);return n.font=s,{height:r*e.lineHeight,width:o}},bound:function(n,t,e){return Math.max(n,Math.min(t,e))},arrayDiff:function(n,t){var e=n.slice(),i=[],r,s,o,a;for(r=0,o=t.length;r<o;++r)a=t[r],s=e.indexOf(a),s===-1?i.push([a,1]):e.splice(s,1);for(r=0,o=e.length;r<o;++r)i.push([e[r],-1]);return i},rasterize:function(n){return Math.round(n*XN)/XN}};function pE(n,t){var e=t.x,i=t.y;if(e===null)return{x:0,y:-1};if(i===null)return{x:1,y:0};var r=n.x-e,s=n.y-i,o=Math.sqrt(r*r+s*s);return{x:o?r/o:0,y:o?s/o:-1}}function NY(n,t,e,i,r){switch(r){case"center":e=i=0;break;case"bottom":e=0,i=1;break;case"right":e=1,i=0;break;case"left":e=-1,i=0;break;case"top":e=0,i=-1;break;case"start":e=-e,i=-i;break;case"end":break;default:r*=Math.PI/180,e=Math.cos(r),i=Math.sin(r);break}return{x:n,y:t,vx:e,vy:i}}var FY=0,JN=1,tF=2,eF=4,iF=8;function lb(n,t,e){var i=FY;return n<e.left?i|=JN:n>e.right&&(i|=tF),t<e.top?i|=iF:t>e.bottom&&(i|=eF),i}function LY(n,t){for(var e=n.x0,i=n.y0,r=n.x1,s=n.y1,o=lb(e,i,t),a=lb(r,s,t),c,l,d;!(!(o|a)||o&a);)c=o||a,c&iF?(l=e+(r-e)*(t.top-i)/(s-i),d=t.top):c&eF?(l=e+(r-e)*(t.bottom-i)/(s-i),d=t.bottom):c&tF?(d=i+(s-i)*(t.right-e)/(r-e),l=t.right):c&JN&&(d=i+(s-i)*(t.left-e)/(r-e),l=t.left),c===o?(e=l,i=d,o=lb(e,i,t)):(r=l,s=d,a=lb(r,s,t));return{x0:e,x1:r,y0:i,y1:s}}function db(n,t){var e=t.anchor,i=n,r,s;return t.clamp&&(i=LY(i,t.area)),e==="start"?(r=i.x0,s=i.y0):e==="end"?(r=i.x1,s=i.y1):(r=(i.x0+i.x1)/2,s=(i.y0+i.y1)/2),NY(r,s,n.vx,n.vy,t.align)}var ub={arc:function(n,t){var e=(n.startAngle+n.endAngle)/2,i=Math.cos(e),r=Math.sin(e),s=n.innerRadius,o=n.outerRadius;return db({x0:n.x+i*s,y0:n.y+r*s,x1:n.x+i*o,y1:n.y+r*o,vx:i,vy:r},t)},point:function(n,t){var e=pE(n,t.origin),i=e.x*n.options.radius,r=e.y*n.options.radius;return db({x0:n.x-i,y0:n.y-r,x1:n.x+i,y1:n.y+r,vx:e.x,vy:e.y},t)},bar:function(n,t){var e=pE(n,t.origin),i=n.x,r=n.y,s=0,o=0;return n.horizontal?(i=Math.min(n.x,n.base),s=Math.abs(n.base-n.x)):(r=Math.min(n.y,n.base),o=Math.abs(n.base-n.y)),db({x0:i,y0:r+o,x1:i+s,y1:r,vx:e.x,vy:e.y},t)},fallback:function(n,t){var e=pE(n,t.origin);return db({x0:n.x,y0:n.y,x1:n.x+(n.width||0),y1:n.y+(n.height||0),vx:e.x,vy:e.y},t)}},Yr=am.rasterize;function VY(n){var t=n.borderWidth||0,e=n.padding,i=n.size.height,r=n.size.width,s=-r/2,o=-i/2;return{frame:{x:s-e.left-t,y:o-e.top-t,w:r+e.width+t*2,h:i+e.height+t*2},text:{x:s,y:o,w:r,h:i}}}function BY(n,t){var e=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!e)return null;if(e.xCenter!==void 0&&e.yCenter!==void 0)return{x:e.xCenter,y:e.yCenter};var i=e.getBasePixel();return n.horizontal?{x:i,y:null}:{x:null,y:i}}function UY(n){return n instanceof em?ub.arc:n instanceof mE?ub.point:n instanceof im?ub.bar:ub.fallback}function jY(n,t,e,i,r,s){var o=Math.PI/2;if(s){var a=Math.min(s,r/2,i/2),c=t+a,l=e+a,d=t+i-a,h=e+r-a;n.moveTo(t,l),c<d&&l<h?(n.arc(c,l,a,-Math.PI,-o),n.arc(d,l,a,-o,0),n.arc(d,h,a,0,o),n.arc(c,h,a,o,Math.PI)):c<d?(n.moveTo(c,e),n.arc(d,l,a,-o,o),n.arc(c,l,a,o,Math.PI+o)):l<h?(n.arc(c,l,a,-Math.PI,0),n.arc(c,h,a,0,Math.PI)):n.arc(c,l,a,-Math.PI,Math.PI),n.closePath(),n.moveTo(t,e)}else n.rect(t,e,i,r)}function zY(n,t,e){var i=e.backgroundColor,r=e.borderColor,s=e.borderWidth;!i&&(!r||!s)||(n.beginPath(),jY(n,Yr(t.x)+s/2,Yr(t.y)+s/2,Yr(t.w)-s,Yr(t.h)-s,e.borderRadius),n.closePath(),i&&(n.fillStyle=i,n.fill()),r&&s&&(n.strokeStyle=r,n.lineWidth=s,n.lineJoin="miter",n.stroke()))}function HY(n,t,e){var i=e.lineHeight,r=n.w,s=n.x,o=n.y+i/2;return t==="center"?s+=r/2:(t==="end"||t==="right")&&(s+=r),{h:i,w:r,x:s,y:o}}function WY(n,t,e){var i=n.shadowBlur,r=e.stroked,s=Yr(e.x),o=Yr(e.y),a=Yr(e.w);r&&n.strokeText(t,s,o,a),e.filled&&(i&&r&&(n.shadowBlur=0),n.fillText(t,s,o,a),i&&r&&(n.shadowBlur=i))}function $Y(n,t,e,i){var r=i.textAlign,s=i.color,o=!!s,a=i.font,c=t.length,l=i.textStrokeColor,d=i.textStrokeWidth,h=l&&d,m;if(!(!c||!o&&!h))for(e=HY(e,r,a),n.font=a.string,n.textAlign=r,n.textBaseline="middle",n.shadowBlur=i.textShadowBlur,n.shadowColor=i.textShadowColor,o&&(n.fillStyle=s),h&&(n.lineJoin="round",n.lineWidth=d,n.strokeStyle=l),m=0,c=t.length;m<c;++m)WY(n,t[m],{stroked:h,filled:o,w:e.w,x:e.x,y:e.y+e.h*m})}var nF=function(n,t,e,i){var r=this;r._config=n,r._index=i,r._model=null,r._rects=null,r._ctx=t,r._el=e};nn(nF.prototype,{_modelize:function(n,t,e,i){var r=this,s=r._index,o=ke(Jt([e.font,{}],i,s)),a=Jt([e.color,ge.color],i,s);return{align:Jt([e.align,"center"],i,s),anchor:Jt([e.anchor,"center"],i,s),area:i.chart.chartArea,backgroundColor:Jt([e.backgroundColor,null],i,s),borderColor:Jt([e.borderColor,null],i,s),borderRadius:Jt([e.borderRadius,0],i,s),borderWidth:Jt([e.borderWidth,0],i,s),clamp:Jt([e.clamp,!1],i,s),clip:Jt([e.clip,!1],i,s),color:a,display:n,font:o,lines:t,offset:Jt([e.offset,4],i,s),opacity:Jt([e.opacity,1],i,s),origin:BY(r._el,i),padding:Xe(Jt([e.padding,4],i,s)),positioner:UY(r._el),rotation:Jt([e.rotation,0],i,s)*(Math.PI/180),size:am.textSize(r._ctx,t,o),textAlign:Jt([e.textAlign,"start"],i,s),textShadowBlur:Jt([e.textShadowBlur,0],i,s),textShadowColor:Jt([e.textShadowColor,a],i,s),textStrokeColor:Jt([e.textStrokeColor,a],i,s),textStrokeWidth:Jt([e.textStrokeWidth,0],i,s)}},update:function(n){var t=this,e=null,i=null,r=t._index,s=t._config,o,a,c,l=Jt([s.display,!0],n,r);l&&(o=n.dataset.data[r],a=Ct(Ht(s.formatter,[o,n]),o),c=Dt(a)?[]:am.toTextLines(a),c.length&&(e=t._modelize(l,c,s,n),i=VY(e))),t._model=e,t._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(n,t){var e=this,i=n.ctx,r=e._model,s=e._rects,o;this.visible()&&(i.save(),r.clip&&(o=r.area,i.beginPath(),i.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),i.clip()),i.globalAlpha=am.bound(0,r.opacity,1),i.translate(Yr(t.x),Yr(t.y)),i.rotate(r.rotation),zY(i,s.frame,r),$Y(i,r.lines,s.text,r),i.restore())}});var qY=Number.MIN_SAFE_INTEGER||-9007199254740991,GY=Number.MAX_SAFE_INTEGER||9007199254740991;function om(n,t,e){var i=Math.cos(e),r=Math.sin(e),s=t.x,o=t.y;return{x:s+i*(n.x-s)-r*(n.y-o),y:o+r*(n.x-s)+i*(n.y-o)}}function ZN(n,t){var e=GY,i=qY,r=t.origin,s,o,a,c,l;for(s=0;s<n.length;++s)o=n[s],a=o.x-r.x,c=o.y-r.y,l=t.vx*a+t.vy*c,e=Math.min(e,l),i=Math.max(i,l);return{min:e,max:i}}function hb(n,t){var e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);return{vx:(t.x-n.x)/r,vy:(t.y-n.y)/r,origin:n,ln:r}}var rF=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};nn(rF.prototype,{center:function(){var n=this._rect;return{x:n.x+n.w/2,y:n.y+n.h/2}},update:function(n,t,e){this._rotation=e,this._rect={x:t.x+n.x,y:t.y+n.y,w:t.w,h:t.h}},contains:function(n){var t=this,e=1,i=t._rect;return n=om(n,t.center(),-t._rotation),!(n.x<i.x-e||n.y<i.y-e||n.x>i.x+i.w+e*2||n.y>i.y+i.h+e*2)},intersects:function(n){var t=this._points(),e=n._points(),i=[hb(t[0],t[1]),hb(t[0],t[3])],r,s,o;for(this._rotation!==n._rotation&&i.push(hb(e[0],e[1]),hb(e[0],e[3])),r=0;r<i.length;++r)if(s=ZN(t,i[r]),o=ZN(e,i[r]),s.max<o.min||o.max<s.min)return!1;return!0},_points:function(){var n=this,t=n._rect,e=n._rotation,i=n.center();return[om({x:t.x,y:t.y},i,e),om({x:t.x+t.w,y:t.y},i,e),om({x:t.x+t.w,y:t.y+t.h},i,e),om({x:t.x,y:t.y+t.h},i,e)]}});function sF(n,t,e){var i=t.positioner(n,t),r=i.vx,s=i.vy;if(!r&&!s)return{x:i.x,y:i.y};var o=e.w,a=e.h,c=t.rotation,l=Math.abs(o/2*Math.cos(c))+Math.abs(a/2*Math.sin(c)),d=Math.abs(o/2*Math.sin(c))+Math.abs(a/2*Math.cos(c)),h=1/Math.max(Math.abs(r),Math.abs(s));return l*=r*h,d*=s*h,l+=t.offset*r,d+=t.offset*s,{x:i.x+l,y:i.y+d}}function KY(n,t){var e,i,r,s;for(e=n.length-1;e>=0;--e)for(r=n[e].$layout,i=e-1;i>=0&&r._visible;--i)s=n[i].$layout,s._visible&&r._box.intersects(s._box)&&t(r,s);return n}function YY(n){var t,e,i,r,s,o,a;for(t=0,e=n.length;t<e;++t)i=n[t],r=i.$layout,r._visible&&(a=new Proxy(i._el,{get:(c,l)=>c.getProps([l],!0)[l]}),s=i.geometry(),o=sF(a,i.model(),s),r._box.update(o,s,i.rotation()));return KY(n,function(c,l){var d=c._hidable,h=l._hidable;d&&h||h?l._visible=!1:d&&(c._visible=!1)})}var cm={prepare:function(n){var t=[],e,i,r,s,o;for(e=0,r=n.length;e<r;++e)for(i=0,s=n[e].length;i<s;++i)o=n[e][i],t.push(o),o.$layout={_box:new rF,_hidable:!1,_visible:!0,_set:e,_idx:o._index};return t.sort(function(a,c){var l=a.$layout,d=c.$layout;return l._idx===d._idx?d._set-l._set:d._idx-l._idx}),this.update(t),t},update:function(n){var t=!1,e,i,r,s,o;for(e=0,i=n.length;e<i;++e)r=n[e],s=r.model(),o=r.$layout,o._hidable=s&&s.display==="auto",o._visible=r.visible(),t|=o._hidable;t&&YY(n)},lookup:function(n,t){var e,i;for(e=n.length-1;e>=0;--e)if(i=n[e].$layout,i&&i._visible&&i._box.contains(t))return n[e];return null},draw:function(n,t){var e,i,r,s,o,a;for(e=0,i=t.length;e<i;++e)r=t[e],s=r.$layout,s._visible&&(o=r.geometry(),a=sF(r._el,r.model(),o),s._box.update(a,o,r.rotation()),r.draw(n,a))}},QY=function(n){if(Dt(n))return null;var t=n,e,i,r;if(Mt(n))if(!Dt(n.label))t=n.label;else if(!Dt(n.r))t=n.r;else for(t="",e=Object.keys(n),r=0,i=e.length;r<i;++r)t+=(r!==0?", ":"")+e[r]+": "+n[e[r]];return""+t},XY={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:QY,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},$i="$datalabels",oF="$default";function ZY(n,t){var e=n.datalabels,i={},r=[],s,o;return e===!1?null:(e===!0&&(e={}),t=nn({},[t,e]),s=t.labels||{},o=Object.keys(s),delete t.labels,o.length?o.forEach(function(a){s[a]&&r.push(nn({},[t,s[a],{_key:a}]))}):r.push(t),i=r.reduce(function(a,c){return Ut(c.listeners||{},function(l,d){a[d]=a[d]||{},a[d][c._key||oF]=l}),delete c.listeners,a},{}),{labels:r,listeners:i})}function gE(n,t,e,i){if(t){var r=e.$context,s=e.$groups,o;t[s._set]&&(o=t[s._set][s._key],o&&Ht(o,[r,i])===!0&&(n[$i]._dirty=!0,e.update(r)))}}function JY(n,t,e,i,r){var s,o;!e&&!i||(e?i?e!==i&&(o=s=!0):o=!0:s=!0,o&&gE(n,t.leave,e,r),s&&gE(n,t.enter,i,r))}function tQ(n,t){var e=n[$i],i=e._listeners,r,s;if(!(!i.enter&&!i.leave)){if(t.type==="mousemove")s=cm.lookup(e._labels,t);else if(t.type!=="mouseout")return;r=e._hovered,e._hovered=s,JY(n,i,r,s,t)}}function eQ(n,t){var e=n[$i],i=e._listeners.click,r=i&&cm.lookup(e._labels,t);r&&gE(n,i,r,t)}var aF={id:"datalabels",defaults:XY,beforeInit:function(n){n[$i]={_actives:[]}},beforeUpdate:function(n){var t=n[$i];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(n,t,e){var i=t.index,r=n[$i],s=r._datasets[i]=[],o=n.isDatasetVisible(i),a=n.data.datasets[i],c=ZY(a,e),l=t.meta.data||[],d=n.ctx,h,m,p,_,b,v,R,P;for(d.save(),h=0,p=l.length;h<p;++h)if(R=l[h],R[$i]=[],o&&R&&n.getDataVisibility(h)&&!R.skip)for(m=0,_=c.labels.length;m<_;++m)b=c.labels[m],v=b._key,P=new nF(b,d,R,h),P.$groups={_set:i,_key:v||oF},P.$context={active:!1,chart:n,dataIndex:h,dataset:a,datasetIndex:i},P.update(P.$context),R[$i].push(P),s.push(P);d.restore(),nn(r._listeners,c.listeners,{merger:function(V,j,z){j[V]=j[V]||{},j[V][t.index]=z[V],r._listened=!0}})},afterUpdate:function(n){n[$i]._labels=cm.prepare(n[$i]._datasets)},afterDatasetsDraw:function(n){cm.draw(n,n[$i]._labels)},beforeEvent:function(n,t){if(n[$i]._listened){var e=t.event;switch(e.type){case"mousemove":case"mouseout":tQ(n,e);break;case"click":eQ(n,e);break}}},afterEvent:function(n){var t=n[$i],e=t._actives,i=t._actives=n.getActiveElements(),r=am.arrayDiff(e,i),s,o,a,c,l,d,h;for(s=0,o=r.length;s<o;++s)if(l=r[s],l[1])for(h=l[0].element[$i]||[],a=0,c=h.length;a<c;++a)d=h[a],d.$context.active=l[1]===1,d.update(d.$context);(t._dirty||r.length)&&(cm.update(t._labels),n.render()),delete t._dirty}};var cF=(()=>{let t=class t{constructor(i){this.firestore=i}getCitas(){let i=Ho(this.firestore,"citas");return Vc(i)}};t.\u0275fac=function(r){return new(r||t)(G(Fr))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var nQ=["myChart"];vl.register(aF);var lF=(()=>{let t=class t{constructor(i){this.citasService=i,this.citas$=this.citasService.getCitas()}ngOnInit(){}ngAfterViewInit(){this.citas$.subscribe(i=>{let r=this.calcularPorcentajeTipos(i);this.generarGrafico(r)})}calcularPorcentajeTipos(i){let r=i.map(c=>c.animal.tipo),s=r.reduce((c,l)=>(c[l]=(c[l]||0)+1,c),{}),o=r.length,a={};for(let c in s)a[c]=s[c]/o*100;return a}generarGrafico(i){if(this.myChart){let r=this.myChart.nativeElement.getContext("2d");r?new vl(r,{type:"pie",data:{labels:Object.keys(i),datasets:[{data:Object.values(i),backgroundColor:["#FF9AA2","#4EA8DE"],borderColor:"#ffffff",borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:20,bottom:20,left:20,right:20}},plugins:{legend:{position:"bottom",labels:{font:{size:14},padding:20}},datalabels:{color:"#000000",font:{weight:"bold",size:14},formatter:(s,o)=>`${o.chart.data.labels?.[o.dataIndex]}: ${s.toFixed(1)}%`,anchor:"end",align:"end",offset:10,textAlign:"center"}}}}):console.error("No pudo obtener contexto para las canvas")}else console.error("Canvas no encontrado")}};t.\u0275fac=function(r){return new(r||t)(N(cF))},t.\u0275cmp=Z({type:t,selectors:[["app-estadisticas"]],viewQuery:function(r,s){if(r&1&&Ri(nQ,5),r&2){let o;Qt(o=Xt())&&(s.myChart=o.first)}},standalone:!0,features:[J],decls:6,vars:0,consts:[["myChart",""],[1,"estadisticas-container"],[1,"estadisticas-title"],[1,"chart-container"]],template:function(r,s){r&1&&(y(0,"div",1)(1,"h1",2),S(2,"Gr\xE1ficas de Tipo de Animales m\xE1s citados"),w(),y(3,"div",3),U(4,"canvas",null,0),w()())},dependencies:[Yt],styles:[".estadisticas-container[_ngcontent-%COMP%]{width:90%;max-width:800px;margin:2rem auto;padding:1rem}.estadisticas-title[_ngcontent-%COMP%]{text-align:center;color:#2c3e50;margin-bottom:1.5rem;font-size:1.8rem;font-weight:700}.chart-container[_ngcontent-%COMP%]{position:relative;height:60vh;width:100%;border:1px solid #e0e0e0;border-radius:8px;padding:1rem}"]});let n=t;return n})();function rQ(n,t){n&1&&(y(0,"div"),S(1,"El correo electr\xF3nico es obligatorio."),w())}function sQ(n,t){n&1&&(y(0,"div"),S(1,"El formato del correo no es v\xE1lido."),w())}function oQ(n,t){if(n&1&&(y(0,"div",7),K(1,rQ,2,0,"div",8)(2,sQ,2,0,"div",8),w()),n&2){let e,i,r=F();T(),B("ngIf",(e=r.contactoForm.get("email"))==null||e.errors==null?null:e.errors.required),T(),B("ngIf",(i=r.contactoForm.get("email"))==null||i.errors==null?null:i.errors.email)}}var dF=(()=>{let t=class t{constructor(i){this.fb=i,this.contactoForm=this.fb.group({email:["",[rr.required,rr.email]]})}onSubmit(){this.contactoForm.valid?console.log("Formulario v\xE1lido",this.contactoForm.value):console.log("Formulario inv\xE1lido")}};t.\u0275fac=function(r){return new(r||t)(N(Hc))},t.\u0275cmp=Z({type:t,selectors:[["app-contacto"]],standalone:!0,features:[J],decls:11,vars:3,consts:[[1,"container","my-5","form-container"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control"],["class","text-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"text-danger"],[4,"ngIf"]],template:function(r,s){if(r&1&&(y(0,"div",0)(1,"h3"),S(2,"Cont\xE1ctanos"),w(),y(3,"form",1),et("ngSubmit",function(){return s.onSubmit()}),y(4,"div",2)(5,"label",3),S(6,"T\xFA correo electr\xF3nico"),w(),U(7,"input",4),K(8,oQ,3,2,"div",5),w(),y(9,"button",6),S(10,"Enviar"),w()()()),r&2){let o;T(3),B("formGroup",s.contactoForm),T(5),B("ngIf",((o=s.contactoForm.get("email"))==null?null:o.invalid)&&(((o=s.contactoForm.get("email"))==null?null:o.dirty)||((o=s.contactoForm.get("email"))==null?null:o.touched))),T(),B("disabled",s.contactoForm.invalid)}},dependencies:[Yt,je,Ns,or,pn,gn,sr,Go,Ko],styles:["body[_ngcontent-%COMP%]{background-color:#fff}.form-container[_ngcontent-%COMP%]{background-color:#fffc;box-shadow:0 0 10px #00000080;padding:20px;border-radius:10px;max-width:600px;margin:auto}.form-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:15px;border:1px solid #ccc;border-radius:5px}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#1d8ba3;border:none;border-radius:5px;color:#fff;cursor:pointer}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#00778c}.text-danger[_ngcontent-%COMP%]{color:#dc3545;margin-top:5px}.text-danger[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:5px}"]});let n=t;return n})();var uF=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["app-faq"]],standalone:!0,features:[J],decls:66,vars:0,consts:[[1,"container"],[1,"part1"],[1,"content"],[1,"part3"],[1,"div3"],["id","faqAccordion",1,"accordion"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"accordion-button"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#faqAccordion",1,"accordion-collapse","collapse","show"],[1,"accordion-body"],["id","headingTwo",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"accordion-button","collapsed"],["id","collapseTwo","aria-labelledby","headingTwo","data-bs-parent","#faqAccordion",1,"accordion-collapse","collapse"],["id","headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed"],["id","collapseThree","aria-labelledby","headingThree","data-bs-parent","#faqAccordion",1,"accordion-collapse","collapse"],["id","headingFour",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFour","aria-expanded","false","aria-controls","collapseFour",1,"accordion-button","collapsed"],["id","collapseFour","aria-labelledby","headingFour","data-bs-parent","#faqAccordion",1,"accordion-collapse","collapse"],["id","headingFive",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFive","aria-expanded","false","aria-controls","collapseFive",1,"accordion-button","collapsed"],["id","collapseFive","aria-labelledby","headingFive","data-bs-parent","#faqAccordion",1,"accordion-collapse","collapse"],["id","headingSix",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSix","aria-expanded","false","aria-controls","collapseSix",1,"accordion-button","collapsed"],["id","collapseSix","aria-labelledby","headingSix","data-bs-parent","#faqAccordion",1,"accordion-collapse","collapse"],["id","headingSeven",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSeven","aria-expanded","false","aria-controls","collapseSeven",1,"accordion-button","collapsed"],["id","collapseSeven","aria-labelledby","headingSeven","data-bs-parent","#faqAccordion",1,"accordion-collapse","collapse"],["id","headingEight",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseEight","aria-expanded","false","aria-controls","collapseEight",1,"accordion-button","collapsed"],["id","collapseEight","aria-labelledby","headingEight","data-bs-parent","#faqAccordion",1,"accordion-collapse","collapse"]],template:function(r,s){r&1&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),S(4,"Preguntas Frecuentes"),w(),y(5,"p"),S(6,"Encuentra las respuestas a las preguntas m\xE1s comunes sobre el Refugio Abrazos de Peluche (RAP)."),w()()(),y(7,"div",3)(8,"div",4)(9,"div",5)(10,"div",6)(11,"h2",7)(12,"button",8),S(13," \xBFQu\xE9 servicios ofrece el Refugio Abrazos de Peluche (RAP)? "),w()(),y(14,"div",9)(15,"div",10),S(16," El RAP ofrece una amplia gama de servicios que incluyen adopci\xF3n de animales, programas de esterilizaci\xF3n, cuidado m\xE9dico, rescate y rehabilitaci\xF3n de animales en situaci\xF3n de riesgo, y educaci\xF3n sobre el bienestar animal. "),w()()(),y(17,"div",6)(18,"h2",11)(19,"button",12),S(20," \xBFC\xF3mo puedo adoptar una mascota del RAP? "),w()(),y(21,"div",13)(22,"div",10),S(23," Para adoptar una mascota, debes visitar nuestro refugio para conocer a los animales disponibles o revisar nuestras opciones en l\xEDnea. Una vez que encuentres un animal adecuado, deber\xE1s completar una solicitud de adopci\xF3n y pasar por un proceso de entrevista para asegurar que el animal va a un hogar seguro y amoroso. "),w()()(),y(24,"div",6)(25,"h2",14)(26,"button",15),S(27," \xBFCu\xE1l es el proceso para donar al RAP? "),w()(),y(28,"div",16)(29,"div",10),S(30," Puedes donar al RAP de varias maneras: mediante donaciones monetarias en nuestro sitio web, aportando alimentos y suministros, o participando en nuestros eventos de recaudaci\xF3n de fondos. Cada contribuci\xF3n nos ayuda a seguir cuidando de los animales que lo necesitan. "),w()()(),y(31,"div",6)(32,"h2",17)(33,"button",18),S(34," \xBFEl RAP acepta animales abandonados o perdidos? "),w()(),y(35,"div",19)(36,"div",10),S(37," S\xED, el RAP acepta animales abandonados y perdidos. Si encuentras un animal en necesidad, puedes traerlo al refugio o contactarnos para que podamos ayudarte a rescatarlo y proporcionarle el cuidado necesario. "),w()()(),y(38,"div",6)(39,"h2",20)(40,"button",21),S(41," \xBFC\xF3mo puedo ser voluntario en el RAP? "),w()(),y(42,"div",22)(43,"div",10),S(44," Para ser voluntario en el RAP, puedes llenar una solicitud de voluntariado en nuestro sitio web o visitar el refugio para obtener m\xE1s informaci\xF3n. Los voluntarios ayudan en diversas \xE1reas como el cuidado de los animales, la limpieza, la organizaci\xF3n de eventos y la educaci\xF3n comunitaria. "),w()()(),y(45,"div",6)(46,"h2",23)(47,"button",24),S(48," \xBFEl RAP ofrece programas de educaci\xF3n sobre el bienestar animal? "),w()(),y(49,"div",25)(50,"div",10),S(51," S\xED, el RAP ofrece programas educativos sobre el bienestar animal dirigidos a escuelas, organizaciones y la comunidad en general. Estos programas incluyen charlas, talleres y actividades dise\xF1adas para fomentar la empat\xEDa y el respeto hacia los animales. "),w()()(),y(52,"div",6)(53,"h2",26)(54,"button",27),S(55," \xBFQu\xE9 debo hacer si encuentro un animal herido? "),w()(),y(56,"div",28)(57,"div",10),S(58," Si encuentras un animal herido, es importante actuar con cuidado. Puedes contactarnos inmediatamente para recibir instrucciones espec\xEDficas. En general, se recomienda no mover al animal a menos que sea absolutamente necesario y tratar de mantenerlo calmado hasta que llegue la ayuda. "),w()()(),y(59,"div",6)(60,"h2",29)(61,"button",30),S(62," \xBFEl RAP tiene alg\xFAn programa de adopci\xF3n a distancia? "),w()(),y(63,"div",31)(64,"div",10),S(65," S\xED, el RAP ofrece un programa de adopci\xF3n a distancia en el que puedes contribuir al cuidado de un animal espec\xEDfico sin llev\xE1rtelo a casa. A trav\xE9s de este programa, puedes cubrir los costos de su manutenci\xF3n y recibir actualizaciones peri\xF3dicas sobre su bienestar y progreso. "),w()()()()()()())},styles:['body[_ngcontent-%COMP%]{background-color:#fff;margin:0;padding:0;font-family:Arial,sans-serif}.part1[_ngcontent-%COMP%]{position:relative;background-image:url("./media/wallpaperflare.com_wallpaper-TFLO5NO5.jpg");background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;padding:200px;display:flex;align-items:center;justify-content:center;text-align:center;color:#fff}.part1[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#00000080;z-index:1}.part1[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;z-index:2;background-color:#fffc;border-radius:15px;padding:30px;box-shadow:0 0 20px #00000080;max-width:600px;margin:auto}.part1[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:20px;color:#1d8ba3;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.part1[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2em;color:#1d8ba3}.part3[_ngcontent-%COMP%]{background-image:url("./media/DC-AHQ5XBZE.jpg");background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;padding:100px}.div3[_ngcontent-%COMP%]{width:50%;margin-left:60%;display:flex;flex-direction:column;justify-content:right;text-align:right;color:#1d8ba3;background-color:#fffc;box-shadow:0 0 10px #00000080;padding:10px;border-radius:40px 0 0 40px/40px 0px 0px 40px}.text[_ngcontent-%COMP%]{margin-top:0%;margin-right:10%;padding:20px;font-size:1.2em}.div3[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000;text-shadow:2px 2px 4px rgba(255,253,253,.5)}.accordion-item[_ngcontent-%COMP%]{background:none;border:none;margin:15px 0}.accordion-header[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{background-color:#1d8ba3;color:#fff;font-weight:700;border:none;border-radius:10px;margin-bottom:5px;text-align:left}.accordion-header[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:not(.collapsed){background-color:#1d778f;color:#fff}.accordion-button[_ngcontent-%COMP%]:focus{box-shadow:none}.accordion-body[_ngcontent-%COMP%]{background-color:#ffffffe6;color:#1d8ba3;border-radius:10px;padding:20px;box-shadow:0 0 10px #0003}']});let n=t;return n})();var hF=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:KM},{path:"animales",component:T2},{path:"acerca",component:WM},{path:"tips",component:l2},{path:"donadores",component:$M},{path:"buscador/:nombre",component:$P},{path:"animal/:id",component:z2},{path:"create-user",component:H2},{path:"login-email",component:W2},{path:"login-phone",component:$2},{path:"register",component:q2},{path:"estadisticas",component:lF},{path:"contacto",component:dF},{path:"faq",component:uF}];var aQ="@",cQ=(()=>{let t=class t{constructor(i,r,s,o,a){this.doc=i,this.delegate=r,this.zone=s,this.animationType=o,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=nt(UI,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-YKREGWCZ.js").then(r=>r)).catch(r=>{throw new Gt(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:s})=>{this._engine=r(this.animationType,this.doc);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(i,r){let s=this.delegate.createRenderer(i,r);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let o=new _E(s);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let c=a.createRenderer(i,r);o.use(c),this.scheduler?.notify(9)}).catch(a=>{o.use(s)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(r){Ta()},t.\u0275prov=tt({token:t,factory:t.\u0275fac});let n=t;return n})(),_E=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,i,r){this.delegate.insertBefore(t,e,i,r)}removeChild(t,e,i){this.delegate.removeChild(t,e,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,i)),this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(t,e,i)),this.delegate.listen(t,e,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(aQ)}};function mF(n="animations"){return Kb("NgAsyncAnimations"),Ki([{provide:Nm,useFactory:(t,e,i)=>new cQ(t,e,i,n),deps:[bt,ef,mt]},{provide:vr,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var fF={apiKey:"AIzaSyAQy_3GIgHNxUF3HteNubgasuz6wJxrHNE",authDomain:"pf-rap.firebaseapp.com",databaseURL:"https://pf-rap-default-rtdb.firebaseio.com",projectId:"pf-rap",storageBucket:"pf-rap.appspot.com",messagingSenderId:"296975379675",appId:"1:296975379675:web:dd6f0f933e85d3c22070fe",measurementId:"G-L1LGCRHZDN"},pF={providers:[XI({eventCoalescing:!0}),_k(),gS(hF),mF(),[KS(()=>bs(fF)),ZT(()=>up()),tR(()=>rR())]]},qct=bs(fF);var gF=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=vt({imports:[Ye,Ye]});let n=t;return n})();function lQ(n,t){n&1&&(ce(0),y(1,"li",10)(2,"a",25),S(3,"Gr\xE1ficas"),w()(),le())}function dQ(n,t){if(n&1){let e=It();ce(0),y(1,"li",10)(2,"a",21),S(3,"Adopci\xF3n"),w()(),K(4,lQ,4,0,"ng-container",22),y(5,"li",10)(6,"span",23),S(7,"Bienvenido, "),y(8,"strong"),S(9),w()()(),y(10,"li",10)(11,"button",24),et("click",function(){$(e);let r=F();return q(r.logout())}),S(12,"Logout"),w()(),le()}if(n&2){let e=F();T(4),B("ngIf",e.authService.checkAdmin(e.authService.getUsername())),T(5),me(e.authService.getUsername())}}function uQ(n,t){n&1&&(y(0,"li",10)(1,"a",26),S(2,"Login/Register"),w()())}var _F=(()=>{let t=class t{constructor(i,r,s){this.authService=i,this.router=r,this.busquedaService=s,this.colorBase="#18708c"}nombreBusqueda(i){this.busquedaService.cambiarNombre(i),this.router.navigate(["/buscador",i])}logout(){this.authService.logout(),this.router.navigate(["/"])}};t.\u0275fac=function(r){return new(r||t)(N(vn),N(De),N(jg))},t.\u0275cmp=Z({type:t,selectors:[["app-header"]],standalone:!0,features:[J],decls:32,vars:2,consts:[["loggedOut",""],["buscarTexto",""],[1,"navbar","navbar-expand-xl","navbar-light",2,"background-color","#18708c"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","assets/media/Logo.png","alt","Logo",1,"img-fluid",2,"max-width","150px"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["href","#","routerLink","/acerca","routerLinkActive","active",1,"nav-link"],["href","#","routerLink","/contacto","routerLinkActive","active",1,"nav-link"],["href","#","routerLink","/tips","routerLinkActive","active",1,"nav-link"],["href","#","routerLink","/donadores","routerLinkActive","active",1,"nav-link"],["href","#","routerLink","/faq","routerLinkActive","active",1,"nav-link"],[4,"ngIf","ngIfElse"],[1,"d-flex","align-items-center"],["type","text","placeholder","Buscar","aria-label","Search",1,"form-control","me-2",3,"keyup.enter"],["type","button",1,"btn","btn-outline-info",3,"click"],[1,"fa-solid","fa-magnifying-glass"],["href","#","routerLink","/animales","routerLinkActive","active",1,"nav-link"],[4,"ngIf"],[1,"nav-link"],[1,"btn","btn-outline-info",3,"click"],["href","#","routerLink","/estadisticas","routerLinkActive","active",1,"nav-link"],["href","#","routerLink","/register","routerLinkActive","active",1,"btn","btn-outline-info"]],template:function(r,s){if(r&1){let o=It();y(0,"nav",2)(1,"div",3)(2,"a",4),U(3,"img",5),w(),y(4,"button",6),U(5,"span",7),w(),y(6,"div",8)(7,"ul",9)(8,"li",10)(9,"a",11),S(10,"Acerca"),w()(),y(11,"li",10)(12,"a",12),S(13,"Contacto"),w()(),y(14,"li",10)(15,"a",13),S(16,"Tips"),w()(),y(17,"li",10)(18,"a",14),S(19,"Donadores"),w()(),y(20,"li",10)(21,"a",15),S(22,"FAQ"),w()(),K(23,dQ,13,2,"ng-container",16)(24,uQ,3,0,"ng-template",null,0,Zb),w(),y(26,"div",17)(27,"input",18,1),et("keyup.enter",function(){$(o);let c=yr(28);return q(s.nombreBusqueda(c.value))}),w(),y(29,"button",19),et("click",function(){$(o);let c=yr(28);return q(s.nombreBusqueda(c.value))}),U(30,"i",20),w()()()()(),U(31,"router-outlet")}if(r&2){let o=yr(25);T(23),B("ngIf",s.authService.checkLoginStatus())("ngIfElse",o)}},dependencies:[vd,qa,ms,fS,gF,Yt,je],styles:[`.navbar-collapse[_ngcontent-%COMP%]{background-color:#18708c}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:400;color:#fff}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#18708c}.navbar-toggler[_ngcontent-%COMP%]{border-color:#fff}.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3E%3Cpath stroke='rgba%28255, 255, 255, 1%29' stroke-width='2' linecap='round' linejoin='round' d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E")}.navbar-collapse[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .navbar-collapse[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-color:#000}@media (min-width: 992px){.navbar-collapse[_ngcontent-%COMP%]{background-color:transparent}}`]});let n=t;return n})();var bF=(()=>{let t=class t{transform(i,...r){if(!i)return"";let s=i.getDate().toString().padStart(2,"0"),o=(i.getMonth()+1).toString().padStart(2,"0"),a=i.getFullYear();return`${s}/${o}/${a}`}};t.\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Dm({name:"fecha",type:t,pure:!0,standalone:!0});let n=t;return n})();var vF=(()=>{let t=class t{constructor(){this.today=new Date}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["app-footer"]],standalone:!0,features:[J],decls:46,vars:3,consts:[[1,"text-center","text-lg-start","bg-body-tertiary","text-muted"],[1,"d-flex","justify-content-center","justify-content-lg-between","p-4","border-bottom",2,"background-color","rgb(38, 99, 119)"],[1,""],[1,"container","text-center","text-md-start","mt-5"],[1,"row","mt-3"],[1,"col-md-3","col-lg-4","col-xl-3","mx-auto","mb-4"],[1,"text-uppercase","fw-bold","mb-4"],[1,"fas","fa-gem","me-3"],[1,"col-md-3","col-lg-2","col-xl-2","mx-auto","mb-4"],["href","#!",1,"text-reset"],[1,"col-md-4","col-lg-3","col-xl-3","mx-auto","mb-md-0","mb-4"],[1,"fas","fa-home","me-3"],[1,"fas","fa-envelope","me-3"],[1,"text-center","p-4",2,"background-color","rgb(38, 99, 119)","color","white"],[1,"text-reset","fw-bold"]],template:function(r,s){r&1&&(y(0,"footer",0),U(1,"section",1),y(2,"section",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h6",6),U(7,"i",7),S(8,"Refugio Abrazos de Peluche "),w(),y(9,"p"),S(10,' "Refugio Abrazos de Peluche": un santuario de amor y consuelo, donde cada abrazo es una p\xEDldora de felicidad." '),w()(),y(11,"div",8)(12,"h6",6),S(13," Links Utiles "),w(),y(14,"p")(15,"a",9),S(16,"Ajustes"),w()(),y(17,"p")(18,"a",9),S(19,"Citas"),w()(),y(20,"p")(21,"a",9),S(22,"Ayuda"),w()()(),y(23,"div",10)(24,"h6",6),S(25,"ContactO"),w(),y(26,"p"),U(27,"i",11),S(28," Aguascalientes, AGS 20131, MX"),w(),y(29,"p"),U(30,"i",12),S(31," al565852#edu.uaa.com "),w(),y(32,"p"),U(33,"i"),S(34," + 01 234 567 88"),w(),y(35,"p"),U(36,"i"),S(37," + 01 234 567 89"),w()()()()(),y(38,"div",13),S(39," \xA9 2024 Copyright: "),y(40,"a",14),S(41," Uaa.ISC6"),w()(),y(42,"div",13)(43,"p"),S(44),$n(45,"fecha"),w()()()),r&2&&(T(44),me(ss(45,1,s.today)))},dependencies:[bF]});let n=t;return n})();var yF=(()=>{let t=class t{constructor(){this.speechSynthesisUtterance=null}readWholePage(){let i=document.body.innerText;if(!i){alert("No hay texto en la p\xE1gina para leer.");return}this.stopText(),this.speechSynthesisUtterance=new SpeechSynthesisUtterance(i),this.speechSynthesisUtterance.lang="es-MX",window.speechSynthesis.speak(this.speechSynthesisUtterance)}pauseText(){window.speechSynthesis.speaking&&!window.speechSynthesis.paused&&window.speechSynthesis.pause()}resumeText(){window.speechSynthesis.paused&&window.speechSynthesis.resume()}stopText(){window.speechSynthesis.speaking&&window.speechSynthesis.cancel()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["app-lectura"]],standalone:!0,features:[J],decls:5,vars:0,consts:[[1,"lectura-pagina"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(r,s){r&1&&(y(0,"div",0)(1,"button",1),et("click",function(){return s.readWholePage()}),S(2,"Escuchar P\xE1gina"),w(),y(3,"button",2),et("click",function(){return s.stopText()}),S(4,"Parar P\xE1gina"),w()())},dependencies:[wi],styles:[".lectura-pagina[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:5px}"]});let n=t;return n})();var wF=(()=>{let t=class t{constructor(){this.defaultSize=15,this.fontSize=this.defaultSize,this.updateFontSize()}decrease(){this.fontSize=this.fontSize*.8,this.updateFontSize()}increase(){this.fontSize=this.fontSize*1.2,this.updateFontSize()}reset(){this.fontSize=this.defaultSize,this.updateFontSize()}updateFontSize(){document.querySelectorAll("p, h1, h2, h3, h4, h5, h6").forEach(r=>{r instanceof HTMLElement&&(r.style.fontSize=`${this.fontSize}px`)})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["app-letra"]],standalone:!0,features:[J],decls:8,vars:0,consts:[["id","slideout",1,"lectura-pagina"],["id","menu",1,"icon-bar"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,s){r&1&&(y(0,"div",0)(1,"div",1)(2,"button",2),et("click",function(){return s.increase()}),S(3,"Letra grande"),w(),y(4,"button",2),et("click",function(){return s.decrease()}),S(5,"Letra peque\xF1a"),w(),y(6,"button",2),et("click",function(){return s.reset()}),S(7,"Letra regular"),w()()())},styles:[".lectura-pagina[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:5px;margin-top:3px}"]});let n=t;return n})();var xF=(()=>{let t=class t{constructor(){this.isHighlighted=!1}toggleHighlight(){this.isHighlighted=!this.isHighlighted,document.querySelectorAll("a").forEach(r=>{this.isHighlighted?(r.style.color="#000",r.style.backgroundImage="linear-gradient(to right, yellow, yellow)"):(r.style.color="",r.style.backgroundImage="",r.style.backgroundSize="",r.style.backgroundRepeat="",r.style.backgroundPosition="",r.style.paddingBottom="")})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var CF=(()=>{let t=class t{constructor(i){this.linksService=i}toggleHighlight(){this.linksService.toggleHighlight()}};t.\u0275fac=function(r){return new(r||t)(N(xF))},t.\u0275cmp=Z({type:t,selectors:[["app-subrayado"]],standalone:!0,features:[J],decls:3,vars:0,consts:[[1,"lectura-pagina"],["type","button",1,"btn","btn-warning",3,"click"]],template:function(r,s){r&1&&(y(0,"div",0)(1,"button",1),et("click",function(){return s.toggleHighlight()}),S(2,"Resaltar Links "),w()())},styles:[".lectura-pagina[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:5px;margin-top:3px}"]});let n=t;return n})();function mQ(n,t){n&1&&(y(0,"div",3)(1,"div",4),U(2,"app-lectura")(3,"app-letra")(4,"app-subrayado"),w()())}var EF=(()=>{let t=class t{constructor(){this.menuVisible=!1}toggleMenu(){this.menuVisible=!this.menuVisible}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["app-lector-pantalla"]],standalone:!0,features:[J],decls:4,vars:1,consts:[[1,"fixed-position"],[1,"circular-button",3,"click"],["src","assets\\img\\Accesibilidad.png","alt","Accessibility Logo"],[1,"menu"],["id","menu",1,"icon-bar"]],template:function(r,s){r&1&&(y(0,"div",0)(1,"button",1),et("click",function(){return s.toggleMenu()}),U(2,"img",2),w(),K(3,mQ,5,0,"div",3),w()),r&2&&(T(3),fi(s.menuVisible?3:-1))},dependencies:[wi,yF,wF,CF],styles:[".fixed-position[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:1000}.menu[_ngcontent-%COMP%]{background-color:#ffffff80;padding:10px;box-shadow:0 4px 8px #0000001a;margin-top:10px}button[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;border:none;background-color:transparent;padding:0;cursor:pointer;position:relative;overflow:hidden;box-shadow:0 4px 8px #0003;transition:box-shadow .3s,transform .3s}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}button[_ngcontent-%COMP%]:hover{box-shadow:0 6px 12px #0000004d;transform:scale(1.05)}button[_ngcontent-%COMP%]:active{box-shadow:0 2px 4px #0003;transform:scale(.95)}"]});let n=t;return n})();var IF=(()=>{let t=class t{constructor(){this.title="MiniProyectoDos"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["app-root"]],standalone:!0,features:[J],decls:5,vars:0,consts:[[1,"lector"]],template:function(r,s){r&1&&(U(0,"app-header"),y(1,"div",0),U(2,"app-lector-pantalla"),w(),U(3,"router-outlet")(4,"app-footer"))},dependencies:[t_,vd,_F,qa,vF,EF],styles:[".lector[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;background-color:#fff;padding:10px;box-shadow:0 4px 8px #0000001a;z-index:1000}"]});let n=t;return n})();Ik(IF,pF).catch(n=>console.error(n));
